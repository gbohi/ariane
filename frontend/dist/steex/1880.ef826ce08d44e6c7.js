"use strict";(self.webpackChunkSteex=self.webpackChunkSteex||[]).push([[1880],{11880:(S,R,f)=>{f.r(R),f.d(R,{ParametresModule:()=>Pi});var d=f(60177),a=f(89417),I=f(30803),E=f(44971),T=f(31777),e=f(54438),C=f(45794),k=f(59640),y=f(26364),_=f(23400),c=f(50779);const j=["addAgence"],h=["deleteRecordModal"],M=["mainContainer"],m=["viewAgence"],b=(o,p)=>p.id,u=()=>({backdrop:"static",keyboard:!1,ignoreBackdropClick:!0});function g(o,p){if(1&o){const t=e.RV6();e.j41(0,"tr",29)(1,"td")(2,"div",23)(3,"input",80),e.mxI("ngModelChange",function(i){const s=e.eBV(t).$implicit;return e.DH7(s.state,i)||(s.state=i),e.Njj(i)}),e.bIt("change",function(i){e.eBV(t);const s=e.XpG();return e.Njj(s.onCheckboxChange(i))}),e.k0s(),e.nrm(4,"label",81),e.k0s()(),e.j41(5,"td",82)(6,"a",83),e.EFF(7),e.k0s()(),e.j41(8,"td",84),e.EFF(9),e.k0s(),e.j41(10,"td")(11,"ul",85)(12,"li")(13,"a",86),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.viewDetails(i.id))}),e.nrm(14,"i",87),e.k0s()(),e.j41(15,"li")(16,"a",88),e.bIt("click",function(){const i=e.eBV(t).$index,s=e.XpG();return e.Njj(s.editList(i))}),e.nrm(17,"i",89),e.k0s()(),e.j41(18,"li")(19,"a",90),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.removeItem(i.id))}),e.nrm(20,"i",91),e.k0s()()()()()}if(2&o){const t=p.$implicit;e.Mz_("id","l_",t.id,""),e.R7$(3),e.FS9("value",t.id),e.R50("ngModel",t.state),e.R7$(4),e.SpI("#",t.id,""),e.R7$(2),e.JRh(t.nom_agence)}}function v(o,p){1&o&&(e.j41(0,"tr")(1,"td",92),e.nrm(2,"i",93),e.j41(3,"h5",35),e.EFF(4,"Aucune agence disponible"),e.k0s(),e.j41(5,"p",36),e.EFF(6,"Veuillez ajouter une agence pour commencer."),e.k0s()()())}function F(o,p){1&o&&(e.j41(0,"div",94)(1,"div",95)(2,"span",96),e.EFF(3,"Chargement..."),e.k0s()()())}function z(o,p){1&o&&(e.j41(0,"small"),e.EFF(1,"Le nom de l'agence est requis"),e.k0s())}function me(o,p){if(1&o&&(e.j41(0,"div",97),e.DNE(1,z,2,0,"small",30),e.k0s()),2&o){let t;const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=n.agenceForm.get("nom_agence"))||null==t.errors?null:t.errors.required)}}let pe=(()=>{class o{constructor(t,n,i,s){this.formBuilder=t,this.datePipe=n,this.toastService=i,this.store=s,this.agences=[],this.agenceList=[],this.totalItems=0,this.currentPage=1,this.isLoading=!0,this.submitted=!1,this.files=[],this.checkedValGet=[],this.lastActiveElement=null,this.selectedAgence=null,this.direction="asc",this.dropzoneConfig={clickable:!0,addRemoveLinks:!0,previewsContainer:!1},this.uploadedFiles=[]}ngOnInit(){this.breadCrumbItems=[{label:"Agence",active:!0},{label:"Agence List",active:!0}],this.agenceForm=this.formBuilder.group({id:[""],nom_agence:["",[a.k0.required]]}),this.store.select(T.Nz).subscribe(t=>{this.isLoading=t,t?document.getElementById("elmLoader")?.classList.remove("d-none"):document.getElementById("elmLoader")?.classList.add("d-none")}),this.store.select(T.$8).subscribe(t=>{this.totalItems=t||0}),this.store.select(T.Vs).subscribe(t=>{this.currentPage=t||1}),this.store.select(T.OF).subscribe(t=>{t&&(this.agences=t.map(n=>({...n,state:!1})),this.agenceList=[...this.agences],this.updateNoResultDisplay())}),this.loadData(1)}ngAfterViewInit(){this.addAgence&&this.addAgence.onHidden.subscribe(()=>{this.agenceForm.reset();const t=document.querySelector(".modal-title");t&&(t.innerHTML="Ajouter une agence");const n=document.getElementById("add-btn");n&&(n.innerHTML="Ajouter")}),this.deleteRecordModal&&this.deleteRecordModal.onHidden.subscribe(()=>{this.deleteID=null})}loadData(t=1){this.store.dispatch((0,E.q0)({page:t}))}onUploadSuccess(t){setTimeout(()=>{this.uploadedFiles.push(t[0]),this.agenceForm.controls.img.setValue(t[0].dataURL)},0)}removeFile(t){this.uploadedFiles.splice(this.uploadedFiles.indexOf(t),1)}openAddModal(){this.lastActiveElement=document.activeElement,this.addAgence?.show(),document.querySelector(".modal-title").innerHTML="Ajouter une agence",document.getElementById("add-btn").innerHTML="Ajouter",this.agenceForm.reset()}closeAddModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.addAgence?.hide();const t=document.querySelector(".modal-title");t&&(t.innerHTML="Ajouter une agence");const n=document.getElementById("add-btn");n&&(n.innerHTML="Ajouter")},10)}editList(t){this.lastActiveElement=document.activeElement,this.addAgence?.show(),document.querySelector(".modal-title").innerHTML="Modifier l' agence",document.getElementById("add-btn").innerHTML="Mettre \xe0 jour";const s="number"==typeof t?this.agences[t]:this.agences.find(r=>r.id===t);s&&(this.uploadedFiles.length>0&&(this.uploadedFiles=[]),s.img&&this.uploadedFiles.push({dataURL:s.img,name:s.imgalt,size:1024}),this.agenceForm.patchValue(s))}saveProperty(){if(this.agenceForm.valid){let t={...this.agenceForm.value};t.id||delete t.id,this.agenceForm.get("id")?.value?(this.store.dispatch((0,E.Ff)({updatedData:t})),this.toastService.success("Agence mise \xe0 jour avec succ\xe8s !","Succ\xe8s")):(this.store.dispatch((0,E.z_)({newData:t})),this.toastService.success("Agence ajout\xe9e avec succ\xe8s !","Succ\xe8s")),this.uploadedFiles=[],this.agenceForm.reset(),this.closeAddModal()}else this.toastService.error("Veuillez v\xe9rifier les informations saisies.","Erreur")}removeItem(t){this.lastActiveElement=document.activeElement,this.deleteID=t,this.deleteRecordModal?.show()}closeDeleteModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.deleteRecordModal?.hide()},10)}confirmDelete(t){return t?(this.store.dispatch((0,E.Xh)({id:t.toString()})),this.toastService.success("Agence supprim\xe9 avec succ\xe8s !","Succ\xe8s"),void this.afterDeleteActions()):this.checkedValGet&&this.checkedValGet.length>0?(console.log("IDs \xe0 supprimer :",this.checkedValGet),this.store.dispatch((0,E.xC)({id:this.checkedValGet.join(",")})),this.toastService.success("Agence supprim\xe9es avec succ\xe8s !","Succ\xe8s"),void this.afterDeleteActions()):(this.toastService.error("Aucune agence s\xe9lectionn\xe9e pour suppression.","Erreur"),void this.closeDeleteModal())}afterDeleteActions(){this.closeDeleteModal(),this.masterSelected=!1,this.deleteID=null,this.checkedValGet=[]}resetCheckboxes(){this.agences&&this.agences.forEach(n=>{n&&(n.state=!1)}),this.checkedValGet=[];const t=document.querySelector("#select-all-checkbox");t&&(t.checked=!1)}checkUncheckAll(t){this.agences&&(this.agences.forEach(n=>{n&&(n.state=t.target.checked)}),this.masterSelected=t.target.checked,this.updateCheckedValues())}onCheckboxChange(t){this.updateCheckedValues()}updateCheckedValues(){const t=[];if(this.agences&&this.agences.length>0)for(let n=0;n<this.agences.length;n++)this.agences[n]&&!0===this.agences[n].state&&t.push(this.agences[n].id);this.checkedValGet=t,console.log("\xc9l\xe9ments coch\xe9s:",this.checkedValGet)}onSort(t){this.direction="asc"==this.direction?"desc":"asc";const n=[...this.agences];n.sort((i,s)=>{const r=this.compare(i[t],s[t]);return"asc"===this.direction?r:-r}),this.agences=n}compare(t,n){return t<n?-1:t>n?1:0}filterdata(){this.term?this.agences=this.agenceList.filter(t=>t.nom_agence?.toLowerCase().includes(this.term.toLowerCase())||t.id?.toString().includes(this.term)):this.loadData(this.currentPage),this.updateNoResultDisplay()}updateNoResultDisplay(){const t=document.querySelector(".noresult");t&&(t.style.display=this.term&&0===this.agences.length?"block":"none")}pageChanged(t){this.loadData(t.page)}viewDetails(t){this.lastActiveElement=document.activeElement;const n=this.agences.find(i=>i.id===t);n?(this.selectedAgence=n,this.viewAgence?.show()):this.toastService.error("Agence introuvable","Erreur")}closeViewModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.viewAgence?.hide(),this.selectedAgence=null},10)}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(a.ze),e.rXU(d.vh),e.rXU(C.tw),e.rXU(k.il))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-agence"]],viewQuery:function(n,i){if(1&n&&(e.GBs(j,5),e.GBs(h,5),e.GBs(M,5),e.GBs(m,5)),2&n){let s;e.mGM(s=e.lsd())&&(i.addAgence=s.first),e.mGM(s=e.lsd())&&(i.deleteRecordModal=s.first),e.mGM(s=e.lsd())&&(i.mainContainer=s.first),e.mGM(s=e.lsd())&&(i.viewAgence=s.first)}},features:[e.Jv_([d.QX])],decls:126,vars:26,consts:[["addAgence","bs-modal"],["deleteRecordModal","bs-modal"],["viewAgence","bs-modal"],["title","Agence List",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-12"],["id","agenceList",1,"card"],[1,"card-header"],[1,"row","align-items-center","gy-3"],[1,"col-lg-3","col-md-6","order-last","order-md-first","me-auto"],[1,"search-box"],["type","text","placeholder","Rechercher par libell\xe9 ou ID...",1,"form-control","search",3,"ngModelChange","keyup","ngModel"],[1,"ri-search-line","search-icon"],[1,"col-md-auto","col-6","text-end"],[1,"d-flex","flex-wrap","align-items-start","gap-2"],["id","remove-actions",1,"btn","btn-subtle-danger",3,"click"],[1,"ri-delete-bin-2-line"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-person-plus","align-baseline","me-1"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-borderless","table-centered","align-middle","table-nowrap","mb-0"],[1,"text-muted","table-light"],[1,"form-check"],["type","checkbox","value","option","id","checkAll",1,"form-check-input",3,"ngModelChange","change","ngModel"],["for","checkAll",1,"form-check-label"],["scope","col",1,"sort","cursor-pointer",3,"click"],["scope","col"],[1,"list","form-check-all"],[3,"id"],[4,"ngIf"],["id","elmLoader",4,"ngIf"],[1,"noresult",2,"display","none"],[1,"text-center","py-4"],[1,"ph-magnifying-glass","fs-1","text-primary"],[1,"mt-2"],[1,"text-muted","mb-0"],["id","pagination-element",1,"row","mt-3","align-items-center",3,"ngClass"],[1,"col-sm"],[1,"text-muted","text-center","text-sm-start"],[1,"fw-semibold"],[1,"col-sm-auto","mt-3","mt-sm-0"],[1,"pagination-wrap","justify-content-center","hstack","gap-2",3,"ngModelChange","pageChanged","totalItems","itemsPerPage","ngModel"],["bsModal","","id","addAgence",1,"modal","fade",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","addAgenceModalLabel",1,"modal-title"],["type","button",1,"btn-close",3,"click"],["novalidate","","autocomplete","off",1,"tablelist-form",3,"ngSubmit","formGroup"],[1,"modal-body"],["id","alert-error-msg",1,"d-none","alert","alert-danger","py-2"],["type","hidden","id","id-field","formControlName","id"],[1,"mb-3"],["for","libelle-input",1,"form-label"],[1,"text-danger"],["type","text","formControlName","nom_agence","id","libelle-input","placeholder","Entrez le libell\xe9","required","",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["type","hidden","id","date-input"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button",1,"btn","btn-ghost-danger",3,"click"],[1,"bi","bi-x-lg","align-baseline","me-1"],["type","submit","id","add-btn",1,"btn","btn-primary",3,"disabled"],["bsModal","","id","deleteRecordModal","tabindex","-1","aria-hidden","true",1,"modal","fade","zoomIn",3,"config"],[1,"modal-dialog","modal-dialog-centered"],["type","button","id","deleteRecord-close",1,"btn-close",3,"click"],[1,"modal-body","p-md-5"],[1,"text-center"],[1,"bi","bi-trash","display-5"],[1,"mt-4"],[1,"mb-2"],[1,"text-muted","fs-md","mx-3","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","pt-2","mb-2"],["type","button",1,"btn","w-sm","btn-light","btn-hover",3,"click"],["type","button","id","delete-record",1,"btn","w-sm","btn-danger","btn-hover",3,"click"],["bsModal","","id","viewAgence",1,"modal","fade",3,"config"],["id","viewAgenceModalLabel",1,"modal-title"],[1,"form-label","fw-medium"],["type","button",1,"btn","btn-secondary",3,"click"],["type","checkbox","name","checkAll",1,"form-check-input",3,"ngModelChange","change","value","ngModel"],[1,"form-check-label"],[1,"agence_id"],["href","javascript:void(0);",1,"fw-medium","link-primary"],[1,"libelle"],[1,"d-flex","gap-2","list-unstyled","mb-0"],["href","javascript:void(0);",1,"btn","btn-subtle-primary","btn-icon","btn-sm",3,"click"],[1,"ph-eye"],["href","javascript:void(0);",1,"btn","btn-subtle-secondary","btn-icon","btn-sm","edit-item-btn",3,"click"],[1,"ph-pencil"],["href","javascript:void(0);",1,"btn","btn-subtle-danger","btn-icon","btn-sm","remove-item-btn",3,"click"],[1,"ph-trash"],["colspan","4",1,"text-center","py-4"],[1,"ph-file-x","fs-1","text-primary"],["id","elmLoader"],["role","status",1,"spinner-border","text-primary","avatar-sm"],[1,"visually-hidden"],[1,"text-danger","mt-1"]],template:function(n,i){if(1&n){const s=e.RV6();e.nrm(0,"app-breadcrumbs",3),e.j41(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"input",11),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.term,l)||(i.term=l),e.Njj(l)}),e.bIt("keyup",function(){return e.eBV(s),e.Njj(i.filterdata())}),e.k0s(),e.nrm(9,"i",12),e.k0s()(),e.j41(10,"div",13)(11,"div",14)(12,"button",15),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.show())}),e.nrm(13,"i",16),e.EFF(14),e.k0s(),e.j41(15,"button",17),e.bIt("click",function(){e.eBV(s);const l=e.sdS(58);return e.Njj(null==l?null:l.show())}),e.nrm(16,"i",18),e.EFF(17," Ajouter une agence"),e.k0s()()()()(),e.j41(18,"div",19)(19,"div",20)(20,"table",21)(21,"thead",22)(22,"tr")(23,"th")(24,"div",23)(25,"input",24),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.masterSelected,l)||(i.masterSelected=l),e.Njj(l)}),e.bIt("change",function(l){return e.eBV(s),e.Njj(i.checkUncheckAll(l))}),e.k0s(),e.nrm(26,"label",25),e.k0s()(),e.j41(27,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("id"))}),e.EFF(28,"# "),e.k0s(),e.j41(29,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("nom_agence"))}),e.EFF(30,"Libell\xe9"),e.k0s(),e.j41(31,"th",27),e.EFF(32,"Action"),e.k0s()()(),e.j41(33,"tbody",28),e.Z7z(34,g,21,6,"tr",29,b),e.DNE(36,v,7,0,"tr",30),e.k0s()(),e.DNE(37,F,4,0,"div",31),e.j41(38,"div",32)(39,"div",33),e.nrm(40,"i",34),e.j41(41,"h5",35),e.EFF(42,"Aucun r\xe9sultat trouv\xe9"),e.k0s(),e.j41(43,"p",36),e.EFF(44,"Nous n'avons trouv\xe9 aucune agence correspondant \xe0 votre recherche."),e.k0s()()()(),e.j41(45,"div",37)(46,"div",38)(47,"div",39),e.EFF(48," Affichage de "),e.j41(49,"span",40),e.EFF(50),e.k0s(),e.EFF(51," sur "),e.j41(52,"span",40),e.EFF(53),e.k0s(),e.EFF(54," r\xe9sultats "),e.k0s()(),e.j41(55,"div",41)(56,"pagination",42),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.currentPage,l)||(i.currentPage=l),e.Njj(l)}),e.bIt("pageChanged",function(l){return e.eBV(s),e.Njj(i.pageChanged(l))}),e.k0s()()()()()()(),e.j41(57,"div",43,0)(59,"div",44)(60,"div",45)(61,"div",46)(62,"h5",47),e.EFF(63,"Ajouter une agence"),e.k0s(),e.j41(64,"button",48),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeAddModal())}),e.k0s()(),e.j41(65,"form",49),e.bIt("ngSubmit",function(){return e.eBV(s),e.Njj(i.saveProperty())}),e.j41(66,"div",50),e.nrm(67,"div",51)(68,"input",52),e.j41(69,"div",53)(70,"label",54),e.EFF(71,"Nom de l'agence"),e.j41(72,"span",55),e.EFF(73,"*"),e.k0s()(),e.nrm(74,"input",56),e.DNE(75,me,2,1,"div",57),e.k0s(),e.nrm(76,"input",58),e.k0s(),e.j41(77,"div",59)(78,"div",60)(79,"button",61),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeAddModal())}),e.nrm(80,"i",62),e.EFF(81," Fermer"),e.k0s(),e.j41(82,"button",63),e.EFF(83,"Ajouter"),e.k0s()()()()()()(),e.j41(84,"div",64,1)(86,"div",65)(87,"div",45)(88,"div",46)(89,"button",66),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.hide())}),e.k0s()(),e.j41(90,"div",67)(91,"div",68)(92,"div",55),e.nrm(93,"i",69),e.k0s(),e.j41(94,"div",70)(95,"h4",71),e.EFF(96,"\xcates-vous s\xfbr ?"),e.k0s(),e.j41(97,"p",72),e.EFF(98),e.k0s()()(),e.j41(99,"div",73)(100,"button",74),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.hide())}),e.EFF(101,"Annuler"),e.k0s(),e.j41(102,"button",75),e.bIt("click",function(){return e.eBV(s),e.Njj(i.confirmDelete(i.deleteID))}),e.EFF(103,"Oui, supprimer"),e.k0s()()()()()(),e.j41(104,"div",76,2)(106,"div",44)(107,"div",45)(108,"div",46)(109,"h5",77),e.EFF(110,"D\xe9tails de l'agence"),e.k0s(),e.j41(111,"button",48),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeViewModal())}),e.k0s()(),e.j41(112,"div",50)(113,"div",53)(114,"label",78),e.EFF(115,"ID:"),e.k0s(),e.j41(116,"p"),e.EFF(117),e.k0s()(),e.j41(118,"div",53)(119,"label",78),e.EFF(120,"Nom de l'agence:"),e.k0s(),e.j41(121,"p"),e.EFF(122),e.k0s()()(),e.j41(123,"div",59)(124,"button",79),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeViewModal())}),e.EFF(125,"Fermer"),e.k0s()()()()()}if(2&n){let s;e.Y8G("breadcrumbItems",i.breadCrumbItems),e.R7$(8),e.R50("ngModel",i.term),e.R7$(4),e.AVh("d-none",0===i.checkedValGet.length),e.R7$(2),e.SpI(" Supprimer (",i.checkedValGet.length,") "),e.R7$(11),e.R50("ngModel",i.masterSelected),e.R7$(9),e.Dyx(i.agences),e.R7$(2),e.Y8G("ngIf",0===(null==i.agences?null:i.agences.length)&&!i.term&&!i.isLoading),e.R7$(),e.Y8G("ngIf",i.isLoading),e.R7$(8),e.Y8G("ngClass",0==i.agences.length?"d-none":""),e.R7$(5),e.JRh(i.agences.length||0),e.R7$(3),e.JRh(i.totalItems||0),e.R7$(3),e.Y8G("totalItems",i.totalItems)("itemsPerPage",10),e.R50("ngModel",i.currentPage),e.R7$(),e.Y8G("config",e.lJ4(23,u)),e.R7$(8),e.Y8G("formGroup",i.agenceForm),e.R7$(10),e.Y8G("ngIf",(null==(s=i.agenceForm.get("nom_agence"))?null:s.invalid)&&(null==(s=i.agenceForm.get("nom_agence"))?null:s.touched)),e.R7$(7),e.Y8G("disabled",i.agenceForm.invalid),e.R7$(2),e.Y8G("config",e.lJ4(24,u)),e.R7$(14),e.SpI("Voulez-vous vraiment supprimer ",i.checkedValGet&&i.checkedValGet.length>1?"ces agences":"cette agence"," ?"),e.R7$(6),e.Y8G("config",e.lJ4(25,u)),e.R7$(13),e.JRh(null==i.selectedAgence?null:i.selectedAgence.id),e.R7$(5),e.JRh(null==i.selectedAgence?null:i.selectedAgence.nom_agence)}},dependencies:[d.YU,d.bT,y.m,_.eK,a.qT,a.me,a.Zm,a.BC,a.cb,a.YS,a.vS,a.j4,a.JD,c.hZ]})}}return o})();var G=f(42453);const V=(0,k.UX)("etat"),he=(0,k.Mz)(V,o=>o.etatdata),be=(0,k.Mz)(V,o=>o.loading),fe=(0,k.Mz)(V,o=>o.totalItems),_e=(0,k.Mz)(V,o=>o.currentPage),ge=((0,k.Mz)(V,o=>o.next),(0,k.Mz)(V,o=>o.previous),["addEtat"]),ve=["deleteRecordModal"],ke=["mainContainer"],je=["viewEtat"],ye=(o,p)=>p.id,ie=()=>({backdrop:"static",keyboard:!1,ignoreBackdropClick:!0});function Fe(o,p){if(1&o){const t=e.RV6();e.j41(0,"tr",29)(1,"td")(2,"div",23)(3,"input",80),e.mxI("ngModelChange",function(i){const s=e.eBV(t).$implicit;return e.DH7(s.state,i)||(s.state=i),e.Njj(i)}),e.bIt("change",function(i){e.eBV(t);const s=e.XpG();return e.Njj(s.onCheckboxChange(i))}),e.k0s(),e.nrm(4,"label",81),e.k0s()(),e.j41(5,"td",82)(6,"a",83),e.EFF(7),e.k0s()(),e.j41(8,"td",84),e.EFF(9),e.k0s(),e.j41(10,"td")(11,"ul",85)(12,"li")(13,"a",86),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.viewDetails(i.id))}),e.nrm(14,"i",87),e.k0s()(),e.j41(15,"li")(16,"a",88),e.bIt("click",function(){const i=e.eBV(t).$index,s=e.XpG();return e.Njj(s.editList(i))}),e.nrm(17,"i",89),e.k0s()(),e.j41(18,"li")(19,"a",90),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.removeItem(i.id))}),e.nrm(20,"i",91),e.k0s()()()()()}if(2&o){const t=p.$implicit;e.Mz_("id","l_",t.id,""),e.R7$(3),e.FS9("value",t.id),e.R50("ngModel",t.state),e.R7$(4),e.SpI("#",t.id,""),e.R7$(2),e.JRh(t.libelle_etat)}}function Ee(o,p){1&o&&(e.j41(0,"tr")(1,"td",92),e.nrm(2,"i",93),e.j41(3,"h5",35),e.EFF(4,"Aucun \xe9tat disponible"),e.k0s(),e.j41(5,"p",36),e.EFF(6,"Veuillez ajouter un \xe9tat pour commencer."),e.k0s()()())}function Ce(o,p){1&o&&(e.j41(0,"div",94)(1,"div",95)(2,"span",96),e.EFF(3,"Chargement..."),e.k0s()()())}function Te(o,p){1&o&&(e.j41(0,"small"),e.EFF(1,"Le libell\xe9 est requis"),e.k0s())}function Ie(o,p){if(1&o&&(e.j41(0,"div",97),e.DNE(1,Te,2,0,"small",30),e.k0s()),2&o){let t;const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=n.etatForm.get("libelle_etat"))||null==t.errors?null:t.errors.required)}}let Me=(()=>{class o{constructor(t,n,i,s){this.formBuilder=t,this.datePipe=n,this.toastService=i,this.store=s,this.etats=[],this.etatList=[],this.totalItems=0,this.currentPage=1,this.isLoading=!0,this.submitted=!1,this.files=[],this.checkedValGet=[],this.lastActiveElement=null,this.selectedEtat=null,this.direction="asc",this.dropzoneConfig={clickable:!0,addRemoveLinks:!0,previewsContainer:!1},this.uploadedFiles=[]}ngOnInit(){this.breadCrumbItems=[{label:"etats",active:!0},{label:"Etat List",active:!0}],this.etatForm=this.formBuilder.group({id:[""],libelle_etat:["",[a.k0.required]]}),this.store.select(be).subscribe(t=>{this.isLoading=t,t?document.getElementById("elmLoader")?.classList.remove("d-none"):document.getElementById("elmLoader")?.classList.add("d-none")}),this.store.select(fe).subscribe(t=>{this.totalItems=t||0}),this.store.select(_e).subscribe(t=>{this.currentPage=t||1}),this.store.select(he).subscribe(t=>{t&&(this.etats=t.map(n=>({...n,state:!1})),this.etatList=[...this.etats],this.updateNoResultDisplay())}),this.loadData(1)}ngAfterViewInit(){this.addEtat&&this.addEtat.onHidden.subscribe(()=>{this.etatForm.reset();const t=document.querySelector(".modal-title");t&&(t.innerHTML="Ajouter une \xe9tat");const n=document.getElementById("add-btn");n&&(n.innerHTML="Ajouter")}),this.deleteRecordModal&&this.deleteRecordModal.onHidden.subscribe(()=>{this.deleteID=null})}loadData(t=1){this.store.dispatch((0,G.XQ)({page:t}))}onUploadSuccess(t){setTimeout(()=>{this.uploadedFiles.push(t[0]),this.etatForm.controls.img.setValue(t[0].dataURL)},0)}removeFile(t){this.uploadedFiles.splice(this.uploadedFiles.indexOf(t),1)}openAddModal(){this.lastActiveElement=document.activeElement,this.addEtat?.show(),document.querySelector(".modal-title").innerHTML="Ajouter une \xe9tat",document.getElementById("add-btn").innerHTML="Ajouter",this.etatForm.reset()}closeAddModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.addEtat?.hide();const t=document.querySelector(".modal-title");t&&(t.innerHTML="Ajouter une \xe9tat");const n=document.getElementById("add-btn");n&&(n.innerHTML="Ajouter")},10)}editList(t){this.lastActiveElement=document.activeElement,this.addEtat?.show(),document.querySelector(".modal-title").innerHTML="Modifier la \xe9tat",document.getElementById("add-btn").innerHTML="Mettre \xe0 jour";const s="number"==typeof t?this.etats[t]:this.etats.find(r=>r.id===t);s&&(this.uploadedFiles.length>0&&(this.uploadedFiles=[]),s.img&&this.uploadedFiles.push({dataURL:s.img,name:s.imgalt,size:1024}),this.etatForm.patchValue(s))}saveProperty(){if(this.etatForm.valid){let t={...this.etatForm.value};t.id||delete t.id,this.etatForm.get("id")?.value?(this.store.dispatch((0,G.MV)({updatedData:t})),this.toastService.success("\xe9tat mise \xe0 jour avec succ\xe8s !","Succ\xe8s")):(this.store.dispatch((0,G.UJ)({newData:t})),this.toastService.success("\xe9tat ajout\xe9e avec succ\xe8s !","Succ\xe8s")),this.uploadedFiles=[],this.etatForm.reset(),this.closeAddModal()}else this.toastService.error("Veuillez v\xe9rifier les informations saisies.","Erreur")}removeItem(t){this.lastActiveElement=document.activeElement,this.deleteID=t,this.deleteRecordModal?.show()}closeDeleteModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.deleteRecordModal?.hide()},10)}confirmDelete(t){return t?(this.store.dispatch((0,G.qh)({id:t.toString()})),this.toastService.success("\xe9tat supprim\xe9e avec succ\xe8s !","Succ\xe8s"),void this.afterDeleteActions()):this.checkedValGet&&this.checkedValGet.length>0?(console.log("IDs \xe0 supprimer :",this.checkedValGet),this.store.dispatch((0,G.My)({id:this.checkedValGet.join(",")})),this.toastService.success("\xe9tats supprim\xe9es avec succ\xe8s !","Succ\xe8s"),void this.afterDeleteActions()):(this.toastService.error("Aucune \xe9tat s\xe9lectionn\xe9e pour suppression.","Erreur"),void this.closeDeleteModal())}afterDeleteActions(){this.closeDeleteModal(),this.masterSelected=!1,this.deleteID=null,this.checkedValGet=[]}resetCheckboxes(){this.etats&&this.etats.forEach(n=>{n&&(n.state=!1)}),this.checkedValGet=[];const t=document.querySelector("#select-all-checkbox");t&&(t.checked=!1)}checkUncheckAll(t){this.etats&&(this.etats.forEach(n=>{n&&(n.state=t.target.checked)}),this.masterSelected=t.target.checked,this.updateCheckedValues())}onCheckboxChange(t){this.updateCheckedValues()}updateCheckedValues(){const t=[];if(this.etats&&this.etats.length>0)for(let n=0;n<this.etats.length;n++)this.etats[n]&&!0===this.etats[n].state&&t.push(this.etats[n].id);this.checkedValGet=t,console.log("\xc9l\xe9ments coch\xe9s:",this.checkedValGet)}onSort(t){this.direction="asc"==this.direction?"desc":"asc";const n=[...this.etats];n.sort((i,s)=>{const r=this.compare(i[t],s[t]);return"asc"===this.direction?r:-r}),this.etats=n}compare(t,n){return t<n?-1:t>n?1:0}filterdata(){this.term?this.etats=this.etatList.filter(t=>t.libelle_etat?.toLowerCase().includes(this.term.toLowerCase())||t.id?.toString().includes(this.term)):this.loadData(this.currentPage),this.updateNoResultDisplay()}updateNoResultDisplay(){const t=document.querySelector(".noresult");t&&(t.style.display=this.term&&0===this.etats.length?"block":"none")}pageChanged(t){this.loadData(t.page)}viewDetails(t){this.lastActiveElement=document.activeElement;const n=this.etats.find(i=>i.id===t);n?(this.selectedEtat=n,this.viewEtat?.show()):this.toastService.error("\xe9tat introuvable","Erreur")}closeViewModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.viewEtat?.hide(),this.selectedEtat=null},10)}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(a.ze),e.rXU(d.vh),e.rXU(C.tw),e.rXU(k.il))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-etat"]],viewQuery:function(n,i){if(1&n&&(e.GBs(ge,5),e.GBs(ve,5),e.GBs(ke,5),e.GBs(je,5)),2&n){let s;e.mGM(s=e.lsd())&&(i.addEtat=s.first),e.mGM(s=e.lsd())&&(i.deleteRecordModal=s.first),e.mGM(s=e.lsd())&&(i.mainContainer=s.first),e.mGM(s=e.lsd())&&(i.viewEtat=s.first)}},features:[e.Jv_([d.QX])],decls:126,vars:26,consts:[["addEtat","bs-modal"],["deleteRecordModal","bs-modal"],["viewEtat","bs-modal"],["title","Etat List",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-12"],["id","etatList",1,"card"],[1,"card-header"],[1,"row","align-items-center","gy-3"],[1,"col-lg-3","col-md-6","order-last","order-md-first","me-auto"],[1,"search-box"],["type","text","placeholder","Rechercher par libell\xe9 ou ID...",1,"form-control","search",3,"ngModelChange","keyup","ngModel"],[1,"ri-search-line","search-icon"],[1,"col-md-auto","col-6","text-end"],[1,"d-flex","flex-wrap","align-items-start","gap-2"],["id","remove-actions",1,"btn","btn-subtle-danger",3,"click"],[1,"ri-delete-bin-2-line"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-person-plus","align-baseline","me-1"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-borderless","table-centered","align-middle","table-nowrap","mb-0"],[1,"text-muted","table-light"],[1,"form-check"],["type","checkbox","value","option","id","checkAll",1,"form-check-input",3,"ngModelChange","change","ngModel"],["for","checkAll",1,"form-check-label"],["scope","col",1,"sort","cursor-pointer",3,"click"],["scope","col"],[1,"list","form-check-all"],[3,"id"],[4,"ngIf"],["id","elmLoader",4,"ngIf"],[1,"noresult",2,"display","none"],[1,"text-center","py-4"],[1,"ph-magnifying-glass","fs-1","text-primary"],[1,"mt-2"],[1,"text-muted","mb-0"],["id","pagination-element",1,"row","mt-3","align-items-center",3,"ngClass"],[1,"col-sm"],[1,"text-muted","text-center","text-sm-start"],[1,"fw-semibold"],[1,"col-sm-auto","mt-3","mt-sm-0"],[1,"pagination-wrap","justify-content-center","hstack","gap-2",3,"ngModelChange","pageChanged","totalItems","itemsPerPage","ngModel"],["bsModal","","id","addEtat",1,"modal","fade",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","addEtatModalLabel",1,"modal-title"],["type","button",1,"btn-close",3,"click"],["novalidate","","autocomplete","off",1,"tablelist-form",3,"ngSubmit","formGroup"],[1,"modal-body"],["id","alert-error-msg",1,"d-none","alert","alert-danger","py-2"],["type","hidden","id","id-field","formControlName","id"],[1,"mb-3"],["for","libelle-input",1,"form-label"],[1,"text-danger"],["type","text","formControlName","libelle_etat","id","libelle-input","placeholder","Entrez le libell\xe9","required","",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["type","hidden","id","date-input"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button",1,"btn","btn-ghost-danger",3,"click"],[1,"bi","bi-x-lg","align-baseline","me-1"],["type","submit","id","add-btn",1,"btn","btn-primary",3,"disabled"],["bsModal","","id","deleteRecordModal","tabindex","-1","aria-hidden","true",1,"modal","fade","zoomIn",3,"config"],[1,"modal-dialog","modal-dialog-centered"],["type","button","id","deleteRecord-close",1,"btn-close",3,"click"],[1,"modal-body","p-md-5"],[1,"text-center"],[1,"bi","bi-trash","display-5"],[1,"mt-4"],[1,"mb-2"],[1,"text-muted","fs-md","mx-3","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","pt-2","mb-2"],["type","button",1,"btn","w-sm","btn-light","btn-hover",3,"click"],["type","button","id","delete-record",1,"btn","w-sm","btn-danger","btn-hover",3,"click"],["bsModal","","id","viewEtat",1,"modal","fade",3,"config"],["id","viewEtatModalLabel",1,"modal-title"],[1,"form-label","fw-medium"],["type","button",1,"btn","btn-secondary",3,"click"],["type","checkbox","name","checkAll",1,"form-check-input",3,"ngModelChange","change","value","ngModel"],[1,"form-check-label"],[1,"etat_id"],["href","javascript:void(0);",1,"fw-medium","link-primary"],[1,"libelle"],[1,"d-flex","gap-2","list-unstyled","mb-0"],["href","javascript:void(0);",1,"btn","btn-subtle-primary","btn-icon","btn-sm",3,"click"],[1,"ph-eye"],["href","javascript:void(0);",1,"btn","btn-subtle-secondary","btn-icon","btn-sm","edit-item-btn",3,"click"],[1,"ph-pencil"],["href","javascript:void(0);",1,"btn","btn-subtle-danger","btn-icon","btn-sm","remove-item-btn",3,"click"],[1,"ph-trash"],["colspan","4",1,"text-center","py-4"],[1,"ph-file-x","fs-1","text-primary"],["id","elmLoader"],["role","status",1,"spinner-border","text-primary","avatar-sm"],[1,"visually-hidden"],[1,"text-danger","mt-1"]],template:function(n,i){if(1&n){const s=e.RV6();e.nrm(0,"app-breadcrumbs",3),e.j41(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"input",11),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.term,l)||(i.term=l),e.Njj(l)}),e.bIt("keyup",function(){return e.eBV(s),e.Njj(i.filterdata())}),e.k0s(),e.nrm(9,"i",12),e.k0s()(),e.j41(10,"div",13)(11,"div",14)(12,"button",15),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.show())}),e.nrm(13,"i",16),e.EFF(14),e.k0s(),e.j41(15,"button",17),e.bIt("click",function(){e.eBV(s);const l=e.sdS(58);return e.Njj(null==l?null:l.show())}),e.nrm(16,"i",18),e.EFF(17," Ajouter un \xe9tat"),e.k0s()()()()(),e.j41(18,"div",19)(19,"div",20)(20,"table",21)(21,"thead",22)(22,"tr")(23,"th")(24,"div",23)(25,"input",24),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.masterSelected,l)||(i.masterSelected=l),e.Njj(l)}),e.bIt("change",function(l){return e.eBV(s),e.Njj(i.checkUncheckAll(l))}),e.k0s(),e.nrm(26,"label",25),e.k0s()(),e.j41(27,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("id"))}),e.EFF(28,"# "),e.k0s(),e.j41(29,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("libelle_etat"))}),e.EFF(30,"Libell\xe9"),e.k0s(),e.j41(31,"th",27),e.EFF(32,"Action"),e.k0s()()(),e.j41(33,"tbody",28),e.Z7z(34,Fe,21,6,"tr",29,ye),e.DNE(36,Ee,7,0,"tr",30),e.k0s()(),e.DNE(37,Ce,4,0,"div",31),e.j41(38,"div",32)(39,"div",33),e.nrm(40,"i",34),e.j41(41,"h5",35),e.EFF(42,"Aucun r\xe9sultat trouv\xe9"),e.k0s(),e.j41(43,"p",36),e.EFF(44,"Nous n'avons trouv\xe9 aucun \xe9tat correspondant \xe0 votre recherche."),e.k0s()()()(),e.j41(45,"div",37)(46,"div",38)(47,"div",39),e.EFF(48," Affichage de "),e.j41(49,"span",40),e.EFF(50),e.k0s(),e.EFF(51," sur "),e.j41(52,"span",40),e.EFF(53),e.k0s(),e.EFF(54," r\xe9sultats "),e.k0s()(),e.j41(55,"div",41)(56,"pagination",42),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.currentPage,l)||(i.currentPage=l),e.Njj(l)}),e.bIt("pageChanged",function(l){return e.eBV(s),e.Njj(i.pageChanged(l))}),e.k0s()()()()()()(),e.j41(57,"div",43,0)(59,"div",44)(60,"div",45)(61,"div",46)(62,"h5",47),e.EFF(63,"Ajouter un \xe9tat"),e.k0s(),e.j41(64,"button",48),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeAddModal())}),e.k0s()(),e.j41(65,"form",49),e.bIt("ngSubmit",function(){return e.eBV(s),e.Njj(i.saveProperty())}),e.j41(66,"div",50),e.nrm(67,"div",51)(68,"input",52),e.j41(69,"div",53)(70,"label",54),e.EFF(71,"Libell\xe9"),e.j41(72,"span",55),e.EFF(73,"*"),e.k0s()(),e.nrm(74,"input",56),e.DNE(75,Ie,2,1,"div",57),e.k0s(),e.nrm(76,"input",58),e.k0s(),e.j41(77,"div",59)(78,"div",60)(79,"button",61),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeAddModal())}),e.nrm(80,"i",62),e.EFF(81," Fermer"),e.k0s(),e.j41(82,"button",63),e.EFF(83,"Ajouter"),e.k0s()()()()()()(),e.j41(84,"div",64,1)(86,"div",65)(87,"div",45)(88,"div",46)(89,"button",66),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.hide())}),e.k0s()(),e.j41(90,"div",67)(91,"div",68)(92,"div",55),e.nrm(93,"i",69),e.k0s(),e.j41(94,"div",70)(95,"h4",71),e.EFF(96,"\xcates-vous s\xfbr ?"),e.k0s(),e.j41(97,"p",72),e.EFF(98),e.k0s()()(),e.j41(99,"div",73)(100,"button",74),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.hide())}),e.EFF(101,"Annuler"),e.k0s(),e.j41(102,"button",75),e.bIt("click",function(){return e.eBV(s),e.Njj(i.confirmDelete(i.deleteID))}),e.EFF(103,"Oui, supprimer"),e.k0s()()()()()(),e.j41(104,"div",76,2)(106,"div",44)(107,"div",45)(108,"div",46)(109,"h5",77),e.EFF(110,"D\xe9tails de la \xe9tat"),e.k0s(),e.j41(111,"button",48),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeViewModal())}),e.k0s()(),e.j41(112,"div",50)(113,"div",53)(114,"label",78),e.EFF(115,"ID:"),e.k0s(),e.j41(116,"p"),e.EFF(117),e.k0s()(),e.j41(118,"div",53)(119,"label",78),e.EFF(120,"Libell\xe9:"),e.k0s(),e.j41(121,"p"),e.EFF(122),e.k0s()()(),e.j41(123,"div",59)(124,"button",79),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeViewModal())}),e.EFF(125,"Fermer"),e.k0s()()()()()}if(2&n){let s;e.Y8G("breadcrumbItems",i.breadCrumbItems),e.R7$(8),e.R50("ngModel",i.term),e.R7$(4),e.AVh("d-none",0===i.checkedValGet.length),e.R7$(2),e.SpI(" Supprimer (",i.checkedValGet.length,") "),e.R7$(11),e.R50("ngModel",i.masterSelected),e.R7$(9),e.Dyx(i.etats),e.R7$(2),e.Y8G("ngIf",0===(null==i.etats?null:i.etats.length)&&!i.term&&!i.isLoading),e.R7$(),e.Y8G("ngIf",i.isLoading),e.R7$(8),e.Y8G("ngClass",0==i.etats.length?"d-none":""),e.R7$(5),e.JRh(i.etats.length||0),e.R7$(3),e.JRh(i.totalItems||0),e.R7$(3),e.Y8G("totalItems",i.totalItems)("itemsPerPage",10),e.R50("ngModel",i.currentPage),e.R7$(),e.Y8G("config",e.lJ4(23,ie)),e.R7$(8),e.Y8G("formGroup",i.etatForm),e.R7$(10),e.Y8G("ngIf",(null==(s=i.etatForm.get("libelle_etat"))?null:s.invalid)&&(null==(s=i.etatForm.get("libelle_etat"))?null:s.touched)),e.R7$(7),e.Y8G("disabled",i.etatForm.invalid),e.R7$(2),e.Y8G("config",e.lJ4(24,ie)),e.R7$(14),e.SpI("Voulez-vous vraiment supprimer ",i.checkedValGet&&i.checkedValGet.length>1?"ces \xe9tats":"cette \xe9tat"," ?"),e.R7$(6),e.Y8G("config",e.lJ4(25,ie)),e.R7$(13),e.JRh(null==i.selectedEtat?null:i.selectedEtat.id),e.R7$(5),e.JRh(null==i.selectedEtat?null:i.selectedEtat.libelle_etat)}},dependencies:[d.YU,d.bT,y.m,_.eK,a.qT,a.me,a.Zm,a.BC,a.cb,a.YS,a.vS,a.j4,a.JD,c.hZ]})}}return o})();var B=f(98125),H=f(23099);const Re=["addPriorite"],Ve=["deleteRecordModal"],Ae=["mainContainer"],De=["viewPriorite"],Se=(o,p)=>p.id,ne=()=>({backdrop:"static",keyboard:!1,ignoreBackdropClick:!0});function Ge(o,p){if(1&o){const t=e.RV6();e.j41(0,"tr",29)(1,"td")(2,"div",23)(3,"input",80),e.mxI("ngModelChange",function(i){const s=e.eBV(t).$implicit;return e.DH7(s.state,i)||(s.state=i),e.Njj(i)}),e.bIt("change",function(i){e.eBV(t);const s=e.XpG();return e.Njj(s.onCheckboxChange(i))}),e.k0s(),e.nrm(4,"label",81),e.k0s()(),e.j41(5,"td",82)(6,"a",83),e.EFF(7),e.k0s()(),e.j41(8,"td",84),e.EFF(9),e.k0s(),e.j41(10,"td")(11,"ul",85)(12,"li")(13,"a",86),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.viewDetails(i.id))}),e.nrm(14,"i",87),e.k0s()(),e.j41(15,"li")(16,"a",88),e.bIt("click",function(){const i=e.eBV(t).$index,s=e.XpG();return e.Njj(s.editList(i))}),e.nrm(17,"i",89),e.k0s()(),e.j41(18,"li")(19,"a",90),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.removeItem(i.id))}),e.nrm(20,"i",91),e.k0s()()()()()}if(2&o){const t=p.$implicit;e.Mz_("id","l_",t.id,""),e.R7$(3),e.FS9("value",t.id),e.R50("ngModel",t.state),e.R7$(4),e.SpI("#",t.id,""),e.R7$(2),e.JRh(t.libelle)}}function Be(o,p){1&o&&(e.j41(0,"tr")(1,"td",92),e.nrm(2,"i",93),e.j41(3,"h5",35),e.EFF(4,"Aucune priorit\xe9 disponible"),e.k0s(),e.j41(5,"p",36),e.EFF(6,"Veuillez ajouter une priorit\xe9 pour commencer."),e.k0s()()())}function Le(o,p){1&o&&(e.j41(0,"div",94)(1,"div",95)(2,"span",96),e.EFF(3,"Chargement..."),e.k0s()()())}function we(o,p){1&o&&(e.j41(0,"small"),e.EFF(1,"Le libell\xe9 est requis"),e.k0s())}function Ne(o,p){if(1&o&&(e.j41(0,"div",97),e.DNE(1,we,2,0,"small",30),e.k0s()),2&o){let t;const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=n.prioriteForm.get("libelle"))||null==t.errors?null:t.errors.required)}}let $e=(()=>{class o{constructor(t,n,i,s){this.formBuilder=t,this.datePipe=n,this.toastService=i,this.store=s,this.priorites=[],this.prioriteList=[],this.totalItems=0,this.currentPage=1,this.isLoading=!0,this.submitted=!1,this.files=[],this.checkedValGet=[],this.lastActiveElement=null,this.selectedPriorite=null,this.direction="asc",this.dropzoneConfig={clickable:!0,addRemoveLinks:!0,previewsContainer:!1},this.uploadedFiles=[]}ngOnInit(){this.breadCrumbItems=[{label:"Priorites",active:!0},{label:"Priorite List",active:!0}],this.prioriteForm=this.formBuilder.group({id:[""],libelle:["",[a.k0.required]]}),this.store.select(H.Nz).subscribe(t=>{this.isLoading=t,t?document.getElementById("elmLoader")?.classList.remove("d-none"):document.getElementById("elmLoader")?.classList.add("d-none")}),this.store.select(H.$8).subscribe(t=>{this.totalItems=t||0}),this.store.select(H.Vs).subscribe(t=>{this.currentPage=t||1}),this.store.select(H.fh).subscribe(t=>{t&&(this.priorites=t.map(n=>({...n,state:!1})),this.prioriteList=[...this.priorites],this.updateNoResultDisplay())}),this.loadData(1)}ngAfterViewInit(){this.addPriorite&&this.addPriorite.onHidden.subscribe(()=>{this.prioriteForm.reset();const t=document.querySelector(".modal-title");t&&(t.innerHTML="Ajouter une priorit\xe9");const n=document.getElementById("add-btn");n&&(n.innerHTML="Ajouter")}),this.deleteRecordModal&&this.deleteRecordModal.onHidden.subscribe(()=>{this.deleteID=null})}loadData(t=1){this.store.dispatch((0,B.Xo)({page:t}))}onUploadSuccess(t){setTimeout(()=>{this.uploadedFiles.push(t[0]),this.prioriteForm.controls.img.setValue(t[0].dataURL)},0)}removeFile(t){this.uploadedFiles.splice(this.uploadedFiles.indexOf(t),1)}openAddModal(){this.lastActiveElement=document.activeElement,this.addPriorite?.show(),document.querySelector(".modal-title").innerHTML="Ajouter une priorit\xe9",document.getElementById("add-btn").innerHTML="Ajouter",this.prioriteForm.reset()}closeAddModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.addPriorite?.hide();const t=document.querySelector(".modal-title");t&&(t.innerHTML="Ajouter une priorit\xe9");const n=document.getElementById("add-btn");n&&(n.innerHTML="Ajouter")},10)}editList(t){this.lastActiveElement=document.activeElement,this.addPriorite?.show(),document.querySelector(".modal-title").innerHTML="Modifier la priorit\xe9",document.getElementById("add-btn").innerHTML="Mettre \xe0 jour";const s="number"==typeof t?this.priorites[t]:this.priorites.find(r=>r.id===t);s&&(this.uploadedFiles.length>0&&(this.uploadedFiles=[]),s.img&&this.uploadedFiles.push({dataURL:s.img,name:s.imgalt,size:1024}),this.prioriteForm.patchValue(s))}saveProperty(){if(this.prioriteForm.valid){let t={...this.prioriteForm.value};t.id||delete t.id,this.prioriteForm.get("id")?.value?(this.store.dispatch((0,B.EB)({updatedData:t})),this.toastService.success("Priorit\xe9 mise \xe0 jour avec succ\xe8s !","Succ\xe8s")):(this.store.dispatch((0,B.yu)({newData:t})),this.toastService.success("Priorit\xe9 ajout\xe9e avec succ\xe8s !","Succ\xe8s")),this.uploadedFiles=[],this.prioriteForm.reset(),this.closeAddModal()}else this.toastService.error("Veuillez v\xe9rifier les informations saisies.","Erreur")}removeItem(t){this.lastActiveElement=document.activeElement,this.deleteID=t,this.deleteRecordModal?.show()}closeDeleteModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.deleteRecordModal?.hide()},10)}confirmDelete(t){return t?(this.store.dispatch((0,B.Qk)({id:t.toString()})),this.toastService.success("Priorit\xe9 supprim\xe9e avec succ\xe8s !","Succ\xe8s"),void this.afterDeleteActions()):this.checkedValGet&&this.checkedValGet.length>0?(console.log("IDs \xe0 supprimer :",this.checkedValGet),this.store.dispatch((0,B.eT)({id:this.checkedValGet.join(",")})),this.toastService.success("Priorit\xe9s supprim\xe9es avec succ\xe8s !","Succ\xe8s"),void this.afterDeleteActions()):(this.toastService.error("Aucune priorit\xe9 s\xe9lectionn\xe9e pour suppression.","Erreur"),void this.closeDeleteModal())}afterDeleteActions(){this.closeDeleteModal(),this.masterSelected=!1,this.deleteID=null,this.checkedValGet=[]}resetCheckboxes(){this.priorites&&this.priorites.forEach(n=>{n&&(n.state=!1)}),this.checkedValGet=[];const t=document.querySelector("#select-all-checkbox");t&&(t.checked=!1)}checkUncheckAll(t){this.priorites&&(this.priorites.forEach(n=>{n&&(n.state=t.target.checked)}),this.masterSelected=t.target.checked,this.updateCheckedValues())}onCheckboxChange(t){this.updateCheckedValues()}updateCheckedValues(){const t=[];if(this.priorites&&this.priorites.length>0)for(let n=0;n<this.priorites.length;n++)this.priorites[n]&&!0===this.priorites[n].state&&t.push(this.priorites[n].id);this.checkedValGet=t,console.log("\xc9l\xe9ments coch\xe9s:",this.checkedValGet)}onSort(t){this.direction="asc"==this.direction?"desc":"asc";const n=[...this.priorites];n.sort((i,s)=>{const r=this.compare(i[t],s[t]);return"asc"===this.direction?r:-r}),this.priorites=n}compare(t,n){return t<n?-1:t>n?1:0}filterdata(){this.term?this.priorites=this.prioriteList.filter(t=>t.libelle?.toLowerCase().includes(this.term.toLowerCase())||t.id?.toString().includes(this.term)):this.loadData(this.currentPage),this.updateNoResultDisplay()}updateNoResultDisplay(){const t=document.querySelector(".noresult");t&&(t.style.display=this.term&&0===this.priorites.length?"block":"none")}pageChanged(t){this.loadData(t.page)}viewDetails(t){this.lastActiveElement=document.activeElement;const n=this.priorites.find(i=>i.id===t);n?(this.selectedPriorite=n,this.viewPriorite?.show()):this.toastService.error("Priorit\xe9 introuvable","Erreur")}closeViewModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.viewPriorite?.hide(),this.selectedPriorite=null},10)}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(a.ze),e.rXU(d.vh),e.rXU(C.tw),e.rXU(k.il))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-priorite"]],viewQuery:function(n,i){if(1&n&&(e.GBs(Re,5),e.GBs(Ve,5),e.GBs(Ae,5),e.GBs(De,5)),2&n){let s;e.mGM(s=e.lsd())&&(i.addPriorite=s.first),e.mGM(s=e.lsd())&&(i.deleteRecordModal=s.first),e.mGM(s=e.lsd())&&(i.mainContainer=s.first),e.mGM(s=e.lsd())&&(i.viewPriorite=s.first)}},features:[e.Jv_([d.QX])],decls:126,vars:26,consts:[["addPriorite","bs-modal"],["deleteRecordModal","bs-modal"],["viewPriorite","bs-modal"],["title","Priorite List",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-12"],["id","prioriteList",1,"card"],[1,"card-header"],[1,"row","align-items-center","gy-3"],[1,"col-lg-3","col-md-6","order-last","order-md-first","me-auto"],[1,"search-box"],["type","text","placeholder","Rechercher par libell\xe9 ou ID...",1,"form-control","search",3,"ngModelChange","keyup","ngModel"],[1,"ri-search-line","search-icon"],[1,"col-md-auto","col-6","text-end"],[1,"d-flex","flex-wrap","align-items-start","gap-2"],["id","remove-actions",1,"btn","btn-subtle-danger",3,"click"],[1,"ri-delete-bin-2-line"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-person-plus","align-baseline","me-1"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-borderless","table-centered","align-middle","table-nowrap","mb-0"],[1,"text-muted","table-light"],[1,"form-check"],["type","checkbox","value","option","id","checkAll",1,"form-check-input",3,"ngModelChange","change","ngModel"],["for","checkAll",1,"form-check-label"],["scope","col",1,"sort","cursor-pointer",3,"click"],["scope","col"],[1,"list","form-check-all"],[3,"id"],[4,"ngIf"],["id","elmLoader",4,"ngIf"],[1,"noresult",2,"display","none"],[1,"text-center","py-4"],[1,"ph-magnifying-glass","fs-1","text-primary"],[1,"mt-2"],[1,"text-muted","mb-0"],["id","pagination-element",1,"row","mt-3","align-items-center",3,"ngClass"],[1,"col-sm"],[1,"text-muted","text-center","text-sm-start"],[1,"fw-semibold"],[1,"col-sm-auto","mt-3","mt-sm-0"],[1,"pagination-wrap","justify-content-center","hstack","gap-2",3,"ngModelChange","pageChanged","totalItems","itemsPerPage","ngModel"],["bsModal","","id","addPriorite",1,"modal","fade",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","addPrioriteModalLabel",1,"modal-title"],["type","button",1,"btn-close",3,"click"],["novalidate","","autocomplete","off",1,"tablelist-form",3,"ngSubmit","formGroup"],[1,"modal-body"],["id","alert-error-msg",1,"d-none","alert","alert-danger","py-2"],["type","hidden","id","id-field","formControlName","id"],[1,"mb-3"],["for","libelle-input",1,"form-label"],[1,"text-danger"],["type","text","formControlName","libelle","id","libelle-input","placeholder","Entrez le libell\xe9","required","",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["type","hidden","id","date-input"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button",1,"btn","btn-ghost-danger",3,"click"],[1,"bi","bi-x-lg","align-baseline","me-1"],["type","submit","id","add-btn",1,"btn","btn-primary",3,"disabled"],["bsModal","","id","deleteRecordModal","tabindex","-1","aria-hidden","true",1,"modal","fade","zoomIn",3,"config"],[1,"modal-dialog","modal-dialog-centered"],["type","button","id","deleteRecord-close",1,"btn-close",3,"click"],[1,"modal-body","p-md-5"],[1,"text-center"],[1,"bi","bi-trash","display-5"],[1,"mt-4"],[1,"mb-2"],[1,"text-muted","fs-md","mx-3","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","pt-2","mb-2"],["type","button",1,"btn","w-sm","btn-light","btn-hover",3,"click"],["type","button","id","delete-record",1,"btn","w-sm","btn-danger","btn-hover",3,"click"],["bsModal","","id","viewPriorite",1,"modal","fade",3,"config"],["id","viewPrioriteModalLabel",1,"modal-title"],[1,"form-label","fw-medium"],["type","button",1,"btn","btn-secondary",3,"click"],["type","checkbox","name","checkAll",1,"form-check-input",3,"ngModelChange","change","value","ngModel"],[1,"form-check-label"],[1,"priorite_id"],["href","javascript:void(0);",1,"fw-medium","link-primary"],[1,"libelle"],[1,"d-flex","gap-2","list-unstyled","mb-0"],["href","javascript:void(0);",1,"btn","btn-subtle-primary","btn-icon","btn-sm",3,"click"],[1,"ph-eye"],["href","javascript:void(0);",1,"btn","btn-subtle-secondary","btn-icon","btn-sm","edit-item-btn",3,"click"],[1,"ph-pencil"],["href","javascript:void(0);",1,"btn","btn-subtle-danger","btn-icon","btn-sm","remove-item-btn",3,"click"],[1,"ph-trash"],["colspan","4",1,"text-center","py-4"],[1,"ph-file-x","fs-1","text-primary"],["id","elmLoader"],["role","status",1,"spinner-border","text-primary","avatar-sm"],[1,"visually-hidden"],[1,"text-danger","mt-1"]],template:function(n,i){if(1&n){const s=e.RV6();e.nrm(0,"app-breadcrumbs",3),e.j41(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"input",11),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.term,l)||(i.term=l),e.Njj(l)}),e.bIt("keyup",function(){return e.eBV(s),e.Njj(i.filterdata())}),e.k0s(),e.nrm(9,"i",12),e.k0s()(),e.j41(10,"div",13)(11,"div",14)(12,"button",15),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.show())}),e.nrm(13,"i",16),e.EFF(14),e.k0s(),e.j41(15,"button",17),e.bIt("click",function(){e.eBV(s);const l=e.sdS(58);return e.Njj(null==l?null:l.show())}),e.nrm(16,"i",18),e.EFF(17," Ajouter une priorit\xe9"),e.k0s()()()()(),e.j41(18,"div",19)(19,"div",20)(20,"table",21)(21,"thead",22)(22,"tr")(23,"th")(24,"div",23)(25,"input",24),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.masterSelected,l)||(i.masterSelected=l),e.Njj(l)}),e.bIt("change",function(l){return e.eBV(s),e.Njj(i.checkUncheckAll(l))}),e.k0s(),e.nrm(26,"label",25),e.k0s()(),e.j41(27,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("id"))}),e.EFF(28,"# "),e.k0s(),e.j41(29,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("libelle"))}),e.EFF(30,"Libell\xe9"),e.k0s(),e.j41(31,"th",27),e.EFF(32,"Action"),e.k0s()()(),e.j41(33,"tbody",28),e.Z7z(34,Ge,21,6,"tr",29,Se),e.DNE(36,Be,7,0,"tr",30),e.k0s()(),e.DNE(37,Le,4,0,"div",31),e.j41(38,"div",32)(39,"div",33),e.nrm(40,"i",34),e.j41(41,"h5",35),e.EFF(42,"Aucun r\xe9sultat trouv\xe9"),e.k0s(),e.j41(43,"p",36),e.EFF(44,"Nous n'avons trouv\xe9 aucune priorit\xe9 correspondant \xe0 votre recherche."),e.k0s()()()(),e.j41(45,"div",37)(46,"div",38)(47,"div",39),e.EFF(48," Affichage de "),e.j41(49,"span",40),e.EFF(50),e.k0s(),e.EFF(51," sur "),e.j41(52,"span",40),e.EFF(53),e.k0s(),e.EFF(54," r\xe9sultats "),e.k0s()(),e.j41(55,"div",41)(56,"pagination",42),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.currentPage,l)||(i.currentPage=l),e.Njj(l)}),e.bIt("pageChanged",function(l){return e.eBV(s),e.Njj(i.pageChanged(l))}),e.k0s()()()()()()(),e.j41(57,"div",43,0)(59,"div",44)(60,"div",45)(61,"div",46)(62,"h5",47),e.EFF(63,"Ajouter une priorit\xe9"),e.k0s(),e.j41(64,"button",48),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeAddModal())}),e.k0s()(),e.j41(65,"form",49),e.bIt("ngSubmit",function(){return e.eBV(s),e.Njj(i.saveProperty())}),e.j41(66,"div",50),e.nrm(67,"div",51)(68,"input",52),e.j41(69,"div",53)(70,"label",54),e.EFF(71,"Libell\xe9"),e.j41(72,"span",55),e.EFF(73,"*"),e.k0s()(),e.nrm(74,"input",56),e.DNE(75,Ne,2,1,"div",57),e.k0s(),e.nrm(76,"input",58),e.k0s(),e.j41(77,"div",59)(78,"div",60)(79,"button",61),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeAddModal())}),e.nrm(80,"i",62),e.EFF(81," Fermer"),e.k0s(),e.j41(82,"button",63),e.EFF(83,"Ajouter"),e.k0s()()()()()()(),e.j41(84,"div",64,1)(86,"div",65)(87,"div",45)(88,"div",46)(89,"button",66),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.hide())}),e.k0s()(),e.j41(90,"div",67)(91,"div",68)(92,"div",55),e.nrm(93,"i",69),e.k0s(),e.j41(94,"div",70)(95,"h4",71),e.EFF(96,"\xcates-vous s\xfbr ?"),e.k0s(),e.j41(97,"p",72),e.EFF(98),e.k0s()()(),e.j41(99,"div",73)(100,"button",74),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.hide())}),e.EFF(101,"Annuler"),e.k0s(),e.j41(102,"button",75),e.bIt("click",function(){return e.eBV(s),e.Njj(i.confirmDelete(i.deleteID))}),e.EFF(103,"Oui, supprimer"),e.k0s()()()()()(),e.j41(104,"div",76,2)(106,"div",44)(107,"div",45)(108,"div",46)(109,"h5",77),e.EFF(110,"D\xe9tails de la priorit\xe9"),e.k0s(),e.j41(111,"button",48),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeViewModal())}),e.k0s()(),e.j41(112,"div",50)(113,"div",53)(114,"label",78),e.EFF(115,"ID:"),e.k0s(),e.j41(116,"p"),e.EFF(117),e.k0s()(),e.j41(118,"div",53)(119,"label",78),e.EFF(120,"Libell\xe9:"),e.k0s(),e.j41(121,"p"),e.EFF(122),e.k0s()()(),e.j41(123,"div",59)(124,"button",79),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeViewModal())}),e.EFF(125,"Fermer"),e.k0s()()()()()}if(2&n){let s;e.Y8G("breadcrumbItems",i.breadCrumbItems),e.R7$(8),e.R50("ngModel",i.term),e.R7$(4),e.AVh("d-none",0===i.checkedValGet.length),e.R7$(2),e.SpI(" Supprimer (",i.checkedValGet.length,") "),e.R7$(11),e.R50("ngModel",i.masterSelected),e.R7$(9),e.Dyx(i.priorites),e.R7$(2),e.Y8G("ngIf",0===(null==i.priorites?null:i.priorites.length)&&!i.term&&!i.isLoading),e.R7$(),e.Y8G("ngIf",i.isLoading),e.R7$(8),e.Y8G("ngClass",0==i.priorites.length?"d-none":""),e.R7$(5),e.JRh(i.priorites.length||0),e.R7$(3),e.JRh(i.totalItems||0),e.R7$(3),e.Y8G("totalItems",i.totalItems)("itemsPerPage",10),e.R50("ngModel",i.currentPage),e.R7$(),e.Y8G("config",e.lJ4(23,ne)),e.R7$(8),e.Y8G("formGroup",i.prioriteForm),e.R7$(10),e.Y8G("ngIf",(null==(s=i.prioriteForm.get("libelle"))?null:s.invalid)&&(null==(s=i.prioriteForm.get("libelle"))?null:s.touched)),e.R7$(7),e.Y8G("disabled",i.prioriteForm.invalid),e.R7$(2),e.Y8G("config",e.lJ4(24,ne)),e.R7$(14),e.SpI("Voulez-vous vraiment supprimer ",i.checkedValGet&&i.checkedValGet.length>1?"ces priorit\xe9s":"cette priorit\xe9"," ?"),e.R7$(6),e.Y8G("config",e.lJ4(25,ne)),e.R7$(13),e.JRh(null==i.selectedPriorite?null:i.selectedPriorite.id),e.R7$(5),e.JRh(null==i.selectedPriorite?null:i.selectedPriorite.libelle)}},dependencies:[d.YU,d.bT,y.m,_.eK,a.qT,a.me,a.Zm,a.BC,a.cb,a.YS,a.vS,a.j4,a.JD,c.hZ]})}}return o})();var L=f(18019),X=f(44169);const Pe=["addStatut"],Ue=["deleteRecordModal"],Ye=["mainContainer"],ze=["viewStatut"],He=(o,p)=>p.id,se=()=>({backdrop:"static",keyboard:!1,ignoreBackdropClick:!0});function Xe(o,p){if(1&o){const t=e.RV6();e.j41(0,"tr",29)(1,"td")(2,"div",23)(3,"input",80),e.mxI("ngModelChange",function(i){const s=e.eBV(t).$implicit;return e.DH7(s.state,i)||(s.state=i),e.Njj(i)}),e.bIt("change",function(i){e.eBV(t);const s=e.XpG();return e.Njj(s.onCheckboxChange(i))}),e.k0s(),e.nrm(4,"label",81),e.k0s()(),e.j41(5,"td",82)(6,"a",83),e.EFF(7),e.k0s()(),e.j41(8,"td",84),e.EFF(9),e.k0s(),e.j41(10,"td")(11,"ul",85)(12,"li")(13,"a",86),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.viewDetails(i.id))}),e.nrm(14,"i",87),e.k0s()(),e.j41(15,"li")(16,"a",88),e.bIt("click",function(){const i=e.eBV(t).$index,s=e.XpG();return e.Njj(s.editList(i))}),e.nrm(17,"i",89),e.k0s()(),e.j41(18,"li")(19,"a",90),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.removeItem(i.id))}),e.nrm(20,"i",91),e.k0s()()()()()}if(2&o){const t=p.$implicit;e.Mz_("id","l_",t.id,""),e.R7$(3),e.FS9("value",t.id),e.R50("ngModel",t.state),e.R7$(4),e.SpI("#",t.id,""),e.R7$(2),e.JRh(t.libelle_statut)}}function Je(o,p){1&o&&(e.j41(0,"tr")(1,"td",92),e.nrm(2,"i",93),e.j41(3,"h5",35),e.EFF(4,"Aucun statut disponible"),e.k0s(),e.j41(5,"p",36),e.EFF(6,"Veuillez ajouter un statut pour commencer."),e.k0s()()())}function qe(o,p){1&o&&(e.j41(0,"div",94)(1,"div",95)(2,"span",96),e.EFF(3,"Chargement..."),e.k0s()()())}function xe(o,p){1&o&&(e.j41(0,"small"),e.EFF(1,"Le libell\xe9 est requis"),e.k0s())}function Oe(o,p){if(1&o&&(e.j41(0,"div",97),e.DNE(1,xe,2,0,"small",30),e.k0s()),2&o){let t;const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=n.statutForm.get("libelle_statut"))||null==t.errors?null:t.errors.required)}}let Ze=(()=>{class o{constructor(t,n,i,s){this.formBuilder=t,this.datePipe=n,this.toastService=i,this.store=s,this.statuts=[],this.statutList=[],this.totalItems=0,this.currentPage=1,this.isLoading=!0,this.submitted=!1,this.files=[],this.checkedValGet=[],this.lastActiveElement=null,this.selectedStatut=null,this.direction="asc",this.dropzoneConfig={clickable:!0,addRemoveLinks:!0,previewsContainer:!1},this.uploadedFiles=[]}ngOnInit(){this.breadCrumbItems=[{label:"Statuts",active:!0},{label:"Statut List",active:!0}],this.statutForm=this.formBuilder.group({id:[""],libelle_statut:["",[a.k0.required]]}),this.store.select(X.Nz).subscribe(t=>{this.isLoading=t,t?document.getElementById("elmLoader")?.classList.remove("d-none"):document.getElementById("elmLoader")?.classList.add("d-none")}),this.store.select(X.$8).subscribe(t=>{this.totalItems=t||0}),this.store.select(X.Vs).subscribe(t=>{this.currentPage=t||1}),this.store.select(X.g2).subscribe(t=>{t&&(this.statuts=t.map(n=>({...n,state:!1})),this.statutList=[...this.statuts],this.updateNoResultDisplay())}),this.loadData(1)}ngAfterViewInit(){this.addStatut&&this.addStatut.onHidden.subscribe(()=>{this.statutForm.reset();const t=document.querySelector(".modal-title");t&&(t.innerHTML="Ajouter un statut");const n=document.getElementById("add-btn");n&&(n.innerHTML="Ajouter")}),this.deleteRecordModal&&this.deleteRecordModal.onHidden.subscribe(()=>{this.deleteID=null})}loadData(t=1){this.store.dispatch((0,L.eo)({page:t}))}onUploadSuccess(t){setTimeout(()=>{this.uploadedFiles.push(t[0]),this.statutForm.controls.img.setValue(t[0].dataURL)},0)}removeFile(t){this.uploadedFiles.splice(this.uploadedFiles.indexOf(t),1)}openAddModal(){this.lastActiveElement=document.activeElement,this.addStatut?.show(),document.querySelector(".modal-title").innerHTML="Ajouter un statut",document.getElementById("add-btn").innerHTML="Ajouter",this.statutForm.reset()}closeAddModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.addStatut?.hide();const t=document.querySelector(".modal-title");t&&(t.innerHTML="Ajouter un statut");const n=document.getElementById("add-btn");n&&(n.innerHTML="Ajouter")},10)}editList(t){this.lastActiveElement=document.activeElement,this.addStatut?.show(),document.querySelector(".modal-title").innerHTML="Modifier le statut",document.getElementById("add-btn").innerHTML="Mettre \xe0 jour";const s="number"==typeof t?this.statuts[t]:this.statuts.find(r=>r.id===t);s&&(this.uploadedFiles.length>0&&(this.uploadedFiles=[]),s.img&&this.uploadedFiles.push({dataURL:s.img,name:s.imgalt,size:1024}),this.statutForm.patchValue(s))}saveProperty(){if(this.statutForm.valid){let t={...this.statutForm.value};t.id||delete t.id,this.statutForm.get("id")?.value?(this.store.dispatch((0,L.xz)({updatedData:t})),this.toastService.success("Statut mis \xe0 jour avec succ\xe8s !","Succ\xe8s")):(this.store.dispatch((0,L.rs)({newData:t})),this.toastService.success("Statut ajout\xe9 avec succ\xe8s !","Succ\xe8s")),this.uploadedFiles=[],this.statutForm.reset(),this.closeAddModal()}else this.toastService.error("Veuillez v\xe9rifier les informations saisies.","Erreur")}removeItem(t){this.lastActiveElement=document.activeElement,this.deleteID=t,this.deleteRecordModal?.show()}closeDeleteModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.deleteRecordModal?.hide()},10)}confirmDelete(t){return t?(this.store.dispatch((0,L.LL)({id:t.toString()})),this.toastService.success("Statut supprim\xe9 avec succ\xe8s !","Succ\xe8s"),void this.afterDeleteActions()):this.checkedValGet&&this.checkedValGet.length>0?(console.log("IDs \xe0 supprimer :",this.checkedValGet),this.store.dispatch((0,L.Ll)({id:this.checkedValGet.join(",")})),this.toastService.success("Statut supprim\xe9es avec succ\xe8s !","Succ\xe8s"),void this.afterDeleteActions()):(this.toastService.error("Aucune statut s\xe9lectionn\xe9 pour suppression.","Erreur"),void this.closeDeleteModal())}afterDeleteActions(){this.closeDeleteModal(),this.masterSelected=!1,this.deleteID=null,this.checkedValGet=[]}resetCheckboxes(){this.statuts&&this.statuts.forEach(n=>{n&&(n.state=!1)}),this.checkedValGet=[];const t=document.querySelector("#select-all-checkbox");t&&(t.checked=!1)}checkUncheckAll(t){this.statuts&&(this.statuts.forEach(n=>{n&&(n.state=t.target.checked)}),this.masterSelected=t.target.checked,this.updateCheckedValues())}onCheckboxChange(t){this.updateCheckedValues()}updateCheckedValues(){const t=[];if(this.statuts&&this.statuts.length>0)for(let n=0;n<this.statuts.length;n++)this.statuts[n]&&!0===this.statuts[n].state&&t.push(this.statuts[n].id);this.checkedValGet=t,console.log("\xc9l\xe9ments coch\xe9s:",this.checkedValGet)}onSort(t){this.direction="asc"==this.direction?"desc":"asc";const n=[...this.statuts];n.sort((i,s)=>{const r=this.compare(i[t],s[t]);return"asc"===this.direction?r:-r}),this.statuts=n}compare(t,n){return t<n?-1:t>n?1:0}filterdata(){this.term?this.statuts=this.statutList.filter(t=>t.libelle_statut?.toLowerCase().includes(this.term.toLowerCase())||t.id?.toString().includes(this.term)):this.loadData(this.currentPage),this.updateNoResultDisplay()}updateNoResultDisplay(){const t=document.querySelector(".noresult");t&&(t.style.display=this.term&&0===this.statuts.length?"block":"none")}pageChanged(t){this.loadData(t.page)}viewDetails(t){this.lastActiveElement=document.activeElement;const n=this.statuts.find(i=>i.id===t);n?(this.selectedStatut=n,this.viewStatut?.show()):this.toastService.error("Statut introuvable","Erreur")}closeViewModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.viewStatut?.hide(),this.selectedStatut=null},10)}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(a.ze),e.rXU(d.vh),e.rXU(C.tw),e.rXU(k.il))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-statut"]],viewQuery:function(n,i){if(1&n&&(e.GBs(Pe,5),e.GBs(Ue,5),e.GBs(Ye,5),e.GBs(ze,5)),2&n){let s;e.mGM(s=e.lsd())&&(i.addStatut=s.first),e.mGM(s=e.lsd())&&(i.deleteRecordModal=s.first),e.mGM(s=e.lsd())&&(i.mainContainer=s.first),e.mGM(s=e.lsd())&&(i.viewStatut=s.first)}},features:[e.Jv_([d.QX])],decls:126,vars:26,consts:[["addStatut","bs-modal"],["deleteRecordModal","bs-modal"],["viewStatut","bs-modal"],["title","Statut List",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-12"],["id","statutList",1,"card"],[1,"card-header"],[1,"row","align-items-center","gy-3"],[1,"col-lg-3","col-md-6","order-last","order-md-first","me-auto"],[1,"search-box"],["type","text","placeholder","Rechercher par libell\xe9 ou ID...",1,"form-control","search",3,"ngModelChange","keyup","ngModel"],[1,"ri-search-line","search-icon"],[1,"col-md-auto","col-6","text-end"],[1,"d-flex","flex-wrap","align-items-start","gap-2"],["id","remove-actions",1,"btn","btn-subtle-danger",3,"click"],[1,"ri-delete-bin-2-line"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-person-plus","align-baseline","me-1"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-borderless","table-centered","align-middle","table-nowrap","mb-0"],[1,"text-muted","table-light"],[1,"form-check"],["type","checkbox","value","option","id","checkAll",1,"form-check-input",3,"ngModelChange","change","ngModel"],["for","checkAll",1,"form-check-label"],["scope","col",1,"sort","cursor-pointer",3,"click"],["scope","col"],[1,"list","form-check-all"],[3,"id"],[4,"ngIf"],["id","elmLoader",4,"ngIf"],[1,"noresult",2,"display","none"],[1,"text-center","py-4"],[1,"ph-magnifying-glass","fs-1","text-primary"],[1,"mt-2"],[1,"text-muted","mb-0"],["id","pagination-element",1,"row","mt-3","align-items-center",3,"ngClass"],[1,"col-sm"],[1,"text-muted","text-center","text-sm-start"],[1,"fw-semibold"],[1,"col-sm-auto","mt-3","mt-sm-0"],[1,"pagination-wrap","justify-content-center","hstack","gap-2",3,"ngModelChange","pageChanged","totalItems","itemsPerPage","ngModel"],["bsModal","","id","addStatut",1,"modal","fade",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","addStatutModalLabel",1,"modal-title"],["type","button",1,"btn-close",3,"click"],["novalidate","","autocomplete","off",1,"tablelist-form",3,"ngSubmit","formGroup"],[1,"modal-body"],["id","alert-error-msg",1,"d-none","alert","alert-danger","py-2"],["type","hidden","id","id-field","formControlName","id"],[1,"mb-3"],["for","libelle-input",1,"form-label"],[1,"text-danger"],["type","text","formControlName","libelle_statut","id","libelle-input","placeholder","Entrez le libell\xe9","required","",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["type","hidden","id","date-input"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button",1,"btn","btn-ghost-danger",3,"click"],[1,"bi","bi-x-lg","align-baseline","me-1"],["type","submit","id","add-btn",1,"btn","btn-primary",3,"disabled"],["bsModal","","id","deleteRecordModal","tabindex","-1","aria-hidden","true",1,"modal","fade","zoomIn",3,"config"],[1,"modal-dialog","modal-dialog-centered"],["type","button","id","deleteRecord-close",1,"btn-close",3,"click"],[1,"modal-body","p-md-5"],[1,"text-center"],[1,"bi","bi-trash","display-5"],[1,"mt-4"],[1,"mb-2"],[1,"text-muted","fs-md","mx-3","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","pt-2","mb-2"],["type","button",1,"btn","w-sm","btn-light","btn-hover",3,"click"],["type","button","id","delete-record",1,"btn","w-sm","btn-danger","btn-hover",3,"click"],["bsModal","","id","viewStatut",1,"modal","fade",3,"config"],["id","viewStatutModalLabel",1,"modal-title"],[1,"form-label","fw-medium"],["type","button",1,"btn","btn-secondary",3,"click"],["type","checkbox","name","checkAll",1,"form-check-input",3,"ngModelChange","change","value","ngModel"],[1,"form-check-label"],[1,"statut_id"],["href","javascript:void(0);",1,"fw-medium","link-primary"],[1,"libelle"],[1,"d-flex","gap-2","list-unstyled","mb-0"],["href","javascript:void(0);",1,"btn","btn-subtle-primary","btn-icon","btn-sm",3,"click"],[1,"ph-eye"],["href","javascript:void(0);",1,"btn","btn-subtle-secondary","btn-icon","btn-sm","edit-item-btn",3,"click"],[1,"ph-pencil"],["href","javascript:void(0);",1,"btn","btn-subtle-danger","btn-icon","btn-sm","remove-item-btn",3,"click"],[1,"ph-trash"],["colspan","4",1,"text-center","py-4"],[1,"ph-file-x","fs-1","text-primary"],["id","elmLoader"],["role","status",1,"spinner-border","text-primary","avatar-sm"],[1,"visually-hidden"],[1,"text-danger","mt-1"]],template:function(n,i){if(1&n){const s=e.RV6();e.nrm(0,"app-breadcrumbs",3),e.j41(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"input",11),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.term,l)||(i.term=l),e.Njj(l)}),e.bIt("keyup",function(){return e.eBV(s),e.Njj(i.filterdata())}),e.k0s(),e.nrm(9,"i",12),e.k0s()(),e.j41(10,"div",13)(11,"div",14)(12,"button",15),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.show())}),e.nrm(13,"i",16),e.EFF(14),e.k0s(),e.j41(15,"button",17),e.bIt("click",function(){e.eBV(s);const l=e.sdS(58);return e.Njj(null==l?null:l.show())}),e.nrm(16,"i",18),e.EFF(17," Ajouter un statut"),e.k0s()()()()(),e.j41(18,"div",19)(19,"div",20)(20,"table",21)(21,"thead",22)(22,"tr")(23,"th")(24,"div",23)(25,"input",24),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.masterSelected,l)||(i.masterSelected=l),e.Njj(l)}),e.bIt("change",function(l){return e.eBV(s),e.Njj(i.checkUncheckAll(l))}),e.k0s(),e.nrm(26,"label",25),e.k0s()(),e.j41(27,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("id"))}),e.EFF(28,"# "),e.k0s(),e.j41(29,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("libelle_statut"))}),e.EFF(30,"Libell\xe9"),e.k0s(),e.j41(31,"th",27),e.EFF(32,"Action"),e.k0s()()(),e.j41(33,"tbody",28),e.Z7z(34,Xe,21,6,"tr",29,He),e.DNE(36,Je,7,0,"tr",30),e.k0s()(),e.DNE(37,qe,4,0,"div",31),e.j41(38,"div",32)(39,"div",33),e.nrm(40,"i",34),e.j41(41,"h5",35),e.EFF(42,"Aucun r\xe9sultat trouv\xe9"),e.k0s(),e.j41(43,"p",36),e.EFF(44,"Nous n'avons trouv\xe9 aucun statut correspondant \xe0 votre recherche."),e.k0s()()()(),e.j41(45,"div",37)(46,"div",38)(47,"div",39),e.EFF(48," Affichage de "),e.j41(49,"span",40),e.EFF(50),e.k0s(),e.EFF(51," sur "),e.j41(52,"span",40),e.EFF(53),e.k0s(),e.EFF(54," r\xe9sultats "),e.k0s()(),e.j41(55,"div",41)(56,"pagination",42),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.currentPage,l)||(i.currentPage=l),e.Njj(l)}),e.bIt("pageChanged",function(l){return e.eBV(s),e.Njj(i.pageChanged(l))}),e.k0s()()()()()()(),e.j41(57,"div",43,0)(59,"div",44)(60,"div",45)(61,"div",46)(62,"h5",47),e.EFF(63,"Ajouter un statut"),e.k0s(),e.j41(64,"button",48),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeAddModal())}),e.k0s()(),e.j41(65,"form",49),e.bIt("ngSubmit",function(){return e.eBV(s),e.Njj(i.saveProperty())}),e.j41(66,"div",50),e.nrm(67,"div",51)(68,"input",52),e.j41(69,"div",53)(70,"label",54),e.EFF(71,"Libell\xe9"),e.j41(72,"span",55),e.EFF(73,"*"),e.k0s()(),e.nrm(74,"input",56),e.DNE(75,Oe,2,1,"div",57),e.k0s(),e.nrm(76,"input",58),e.k0s(),e.j41(77,"div",59)(78,"div",60)(79,"button",61),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeAddModal())}),e.nrm(80,"i",62),e.EFF(81," Fermer"),e.k0s(),e.j41(82,"button",63),e.EFF(83,"Ajouter"),e.k0s()()()()()()(),e.j41(84,"div",64,1)(86,"div",65)(87,"div",45)(88,"div",46)(89,"button",66),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.hide())}),e.k0s()(),e.j41(90,"div",67)(91,"div",68)(92,"div",55),e.nrm(93,"i",69),e.k0s(),e.j41(94,"div",70)(95,"h4",71),e.EFF(96,"\xcates-vous s\xfbr ?"),e.k0s(),e.j41(97,"p",72),e.EFF(98),e.k0s()()(),e.j41(99,"div",73)(100,"button",74),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.hide())}),e.EFF(101,"Annuler"),e.k0s(),e.j41(102,"button",75),e.bIt("click",function(){return e.eBV(s),e.Njj(i.confirmDelete(i.deleteID))}),e.EFF(103,"Oui, supprimer"),e.k0s()()()()()(),e.j41(104,"div",76,2)(106,"div",44)(107,"div",45)(108,"div",46)(109,"h5",77),e.EFF(110,"D\xe9tails du statut"),e.k0s(),e.j41(111,"button",48),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeViewModal())}),e.k0s()(),e.j41(112,"div",50)(113,"div",53)(114,"label",78),e.EFF(115,"ID:"),e.k0s(),e.j41(116,"p"),e.EFF(117),e.k0s()(),e.j41(118,"div",53)(119,"label",78),e.EFF(120,"Libell\xe9:"),e.k0s(),e.j41(121,"p"),e.EFF(122),e.k0s()()(),e.j41(123,"div",59)(124,"button",79),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeViewModal())}),e.EFF(125,"Fermer"),e.k0s()()()()()}if(2&n){let s;e.Y8G("breadcrumbItems",i.breadCrumbItems),e.R7$(8),e.R50("ngModel",i.term),e.R7$(4),e.AVh("d-none",0===i.checkedValGet.length),e.R7$(2),e.SpI(" Supprimer (",i.checkedValGet.length,") "),e.R7$(11),e.R50("ngModel",i.masterSelected),e.R7$(9),e.Dyx(i.statuts),e.R7$(2),e.Y8G("ngIf",0===(null==i.statuts?null:i.statuts.length)&&!i.term&&!i.isLoading),e.R7$(),e.Y8G("ngIf",i.isLoading),e.R7$(8),e.Y8G("ngClass",0==i.statuts.length?"d-none":""),e.R7$(5),e.JRh(i.statuts.length||0),e.R7$(3),e.JRh(i.totalItems||0),e.R7$(3),e.Y8G("totalItems",i.totalItems)("itemsPerPage",10),e.R50("ngModel",i.currentPage),e.R7$(),e.Y8G("config",e.lJ4(23,se)),e.R7$(8),e.Y8G("formGroup",i.statutForm),e.R7$(10),e.Y8G("ngIf",(null==(s=i.statutForm.get("libelle_statut"))?null:s.invalid)&&(null==(s=i.statutForm.get("libelle_statut"))?null:s.touched)),e.R7$(7),e.Y8G("disabled",i.statutForm.invalid),e.R7$(2),e.Y8G("config",e.lJ4(24,se)),e.R7$(14),e.SpI("Voulez-vous vraiment supprimer ",i.checkedValGet&&i.checkedValGet.length>1?"ces statuts":"ce statut"," ?"),e.R7$(6),e.Y8G("config",e.lJ4(25,se)),e.R7$(13),e.JRh(null==i.selectedStatut?null:i.selectedStatut.id),e.R7$(5),e.JRh(null==i.selectedStatut?null:i.selectedStatut.libelle_statut)}},dependencies:[d.YU,d.bT,y.m,_.eK,a.qT,a.me,a.Zm,a.BC,a.cb,a.YS,a.vS,a.j4,a.JD,c.hZ]})}}return o})();var w=f(4021),J=f(74099);const Qe=["addTypebesoin"],Ke=["deleteRecordModal"],We=["mainContainer"],et=["viewTypebesoin"],tt=(o,p)=>p.id,le=()=>({backdrop:"static",keyboard:!1,ignoreBackdropClick:!0});function it(o,p){if(1&o){const t=e.RV6();e.j41(0,"tr",29)(1,"td")(2,"div",23)(3,"input",80),e.mxI("ngModelChange",function(i){const s=e.eBV(t).$implicit;return e.DH7(s.state,i)||(s.state=i),e.Njj(i)}),e.bIt("change",function(i){e.eBV(t);const s=e.XpG();return e.Njj(s.onCheckboxChange(i))}),e.k0s(),e.nrm(4,"label",81),e.k0s()(),e.j41(5,"td",82)(6,"a",83),e.EFF(7),e.k0s()(),e.j41(8,"td",84),e.EFF(9),e.k0s(),e.j41(10,"td")(11,"ul",85)(12,"li")(13,"a",86),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.viewDetails(i.id))}),e.nrm(14,"i",87),e.k0s()(),e.j41(15,"li")(16,"a",88),e.bIt("click",function(){const i=e.eBV(t).$index,s=e.XpG();return e.Njj(s.editList(i))}),e.nrm(17,"i",89),e.k0s()(),e.j41(18,"li")(19,"a",90),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.removeItem(i.id))}),e.nrm(20,"i",91),e.k0s()()()()()}if(2&o){const t=p.$implicit;e.Mz_("id","l_",t.id,""),e.R7$(3),e.FS9("value",t.id),e.R50("ngModel",t.state),e.R7$(4),e.SpI("#",t.id,""),e.R7$(2),e.JRh(t.libelle)}}function nt(o,p){1&o&&(e.j41(0,"tr")(1,"td",92),e.nrm(2,"i",93),e.j41(3,"h5",35),e.EFF(4,"Aucun type besoin disponible"),e.k0s(),e.j41(5,"p",36),e.EFF(6,"Veuillez ajouter un type besoin pour commencer."),e.k0s()()())}function st(o,p){1&o&&(e.j41(0,"div",94)(1,"div",95)(2,"span",96),e.EFF(3,"Chargement..."),e.k0s()()())}function lt(o,p){1&o&&(e.j41(0,"small"),e.EFF(1,"Le libell\xe9 est requis"),e.k0s())}function ot(o,p){if(1&o&&(e.j41(0,"div",97),e.DNE(1,lt,2,0,"small",30),e.k0s()),2&o){let t;const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=n.typebesoinForm.get("libelle"))||null==t.errors?null:t.errors.required)}}let rt=(()=>{class o{constructor(t,n,i,s){this.formBuilder=t,this.datePipe=n,this.toastService=i,this.store=s,this.typebesoins=[],this.typebesoinList=[],this.totalItems=0,this.currentPage=1,this.isLoading=!0,this.submitted=!1,this.files=[],this.checkedValGet=[],this.lastActiveElement=null,this.selectedTypebesoin=null,this.direction="asc",this.dropzoneConfig={clickable:!0,addRemoveLinks:!0,previewsContainer:!1},this.uploadedFiles=[]}ngOnInit(){this.breadCrumbItems=[{label:"Typebesoins",active:!0},{label:"Typebesoin List",active:!0}],this.typebesoinForm=this.formBuilder.group({id:[""],libelle:["",[a.k0.required]]}),this.store.select(J.Nz).subscribe(t=>{this.isLoading=t,t?document.getElementById("elmLoader")?.classList.remove("d-none"):document.getElementById("elmLoader")?.classList.add("d-none")}),this.store.select(J.$8).subscribe(t=>{this.totalItems=t||0}),this.store.select(J.Vs).subscribe(t=>{this.currentPage=t||1}),this.store.select(J.P1).subscribe(t=>{t&&(this.typebesoins=t.map(n=>({...n,state:!1})),this.typebesoinList=[...this.typebesoins],this.updateNoResultDisplay())}),this.loadData(1)}ngAfterViewInit(){this.addTypebesoin&&this.addTypebesoin.onHidden.subscribe(()=>{this.typebesoinForm.reset();const t=document.querySelector(".modal-title");t&&(t.innerHTML="Ajouter un typebesoin");const n=document.getElementById("add-btn");n&&(n.innerHTML="Ajouter")}),this.deleteRecordModal&&this.deleteRecordModal.onHidden.subscribe(()=>{this.deleteID=null})}loadData(t=1){this.store.dispatch((0,w.pR)({page:t}))}onUploadSuccess(t){setTimeout(()=>{this.uploadedFiles.push(t[0]),this.typebesoinForm.controls.img.setValue(t[0].dataURL)},0)}removeFile(t){this.uploadedFiles.splice(this.uploadedFiles.indexOf(t),1)}openAddModal(){this.lastActiveElement=document.activeElement,this.addTypebesoin?.show(),document.querySelector(".modal-title").innerHTML="Ajouter un typebesoin",document.getElementById("add-btn").innerHTML="Ajouter",this.typebesoinForm.reset()}closeAddModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.addTypebesoin?.hide();const t=document.querySelector(".modal-title");t&&(t.innerHTML="Ajouter un typebesoin");const n=document.getElementById("add-btn");n&&(n.innerHTML="Ajouter")},10)}editList(t){this.lastActiveElement=document.activeElement,this.addTypebesoin?.show(),document.querySelector(".modal-title").innerHTML="Modifier le typebesoin",document.getElementById("add-btn").innerHTML="Mettre \xe0 jour";const s="number"==typeof t?this.typebesoins[t]:this.typebesoins.find(r=>r.id===t);s&&(this.uploadedFiles.length>0&&(this.uploadedFiles=[]),s.img&&this.uploadedFiles.push({dataURL:s.img,name:s.imgalt,size:1024}),this.typebesoinForm.patchValue(s))}saveProperty(){if(this.typebesoinForm.valid){let t={...this.typebesoinForm.value};t.id||delete t.id,this.typebesoinForm.get("id")?.value?(this.store.dispatch((0,w.a2)({updatedData:t})),this.toastService.success("Typebeoin mis \xe0 jour avec succ\xe8s !","Succ\xe8s")):(this.store.dispatch((0,w.qE)({newData:t})),this.toastService.success("Typebesoin ajout\xe9 avec succ\xe8s !","Succ\xe8s")),this.uploadedFiles=[],this.typebesoinForm.reset(),this.closeAddModal()}else this.toastService.error("Veuillez v\xe9rifier les informations saisies.","Erreur")}removeItem(t){this.lastActiveElement=document.activeElement,this.deleteID=t,this.deleteRecordModal?.show()}closeDeleteModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.deleteRecordModal?.hide()},10)}confirmDelete(t){return t?(this.store.dispatch((0,w.uF)({id:t.toString()})),this.toastService.success("Type besoin supprim\xe9 avec succ\xe8s !","Succ\xe8s"),void this.afterDeleteActions()):this.checkedValGet&&this.checkedValGet.length>0?(console.log("IDs \xe0 supprimer :",this.checkedValGet),this.store.dispatch((0,w.AO)({id:this.checkedValGet.join(",")})),this.toastService.success("Type besoin supprim\xe9es avec succ\xe8s !","Succ\xe8s"),void this.afterDeleteActions()):(this.toastService.error("Aucun type besoin s\xe9lectionn\xe9 pour suppression.","Erreur"),void this.closeDeleteModal())}afterDeleteActions(){this.closeDeleteModal(),this.masterSelected=!1,this.deleteID=null,this.checkedValGet=[]}resetCheckboxes(){this.typebesoins&&this.typebesoins.forEach(n=>{n&&(n.state=!1)}),this.checkedValGet=[];const t=document.querySelector("#select-all-checkbox");t&&(t.checked=!1)}checkUncheckAll(t){this.typebesoins&&(this.typebesoins.forEach(n=>{n&&(n.state=t.target.checked)}),this.masterSelected=t.target.checked,this.updateCheckedValues())}onCheckboxChange(t){this.updateCheckedValues()}updateCheckedValues(){const t=[];if(this.typebesoins&&this.typebesoins.length>0)for(let n=0;n<this.typebesoins.length;n++)this.typebesoins[n]&&!0===this.typebesoins[n].state&&t.push(this.typebesoins[n].id);this.checkedValGet=t,console.log("\xc9l\xe9ments coch\xe9s:",this.checkedValGet)}onSort(t){this.direction="asc"==this.direction?"desc":"asc";const n=[...this.typebesoins];n.sort((i,s)=>{const r=this.compare(i[t],s[t]);return"asc"===this.direction?r:-r}),this.typebesoins=n}compare(t,n){return t<n?-1:t>n?1:0}filterdata(){this.term?this.typebesoins=this.typebesoinList.filter(t=>t.libelle?.toLowerCase().includes(this.term.toLowerCase())||t.id?.toString().includes(this.term)):this.loadData(this.currentPage),this.updateNoResultDisplay()}updateNoResultDisplay(){const t=document.querySelector(".noresult");t&&(t.style.display=this.term&&0===this.typebesoins.length?"block":"none")}pageChanged(t){this.loadData(t.page)}viewDetails(t){this.lastActiveElement=document.activeElement;const n=this.typebesoins.find(i=>i.id===t);n?(this.selectedTypebesoin=n,this.viewTypebesoin?.show()):this.toastService.error("Departement introuvable","Erreur")}closeViewModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.viewTypebesoin?.hide(),this.selectedTypebesoin=null},10)}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(a.ze),e.rXU(d.vh),e.rXU(C.tw),e.rXU(k.il))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-typebesoin"]],viewQuery:function(n,i){if(1&n&&(e.GBs(Qe,5),e.GBs(Ke,5),e.GBs(We,5),e.GBs(et,5)),2&n){let s;e.mGM(s=e.lsd())&&(i.addTypebesoin=s.first),e.mGM(s=e.lsd())&&(i.deleteRecordModal=s.first),e.mGM(s=e.lsd())&&(i.mainContainer=s.first),e.mGM(s=e.lsd())&&(i.viewTypebesoin=s.first)}},features:[e.Jv_([d.QX])],decls:126,vars:26,consts:[["addTypebesoin","bs-modal"],["deleteRecordModal","bs-modal"],["viewTypebesoin","bs-modal"],["title","Type besoin List",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-12"],["id","typebesoinList",1,"card"],[1,"card-header"],[1,"row","align-items-center","gy-3"],[1,"col-lg-3","col-md-6","order-last","order-md-first","me-auto"],[1,"search-box"],["type","text","placeholder","Rechercher par libell\xe9 ou ID...",1,"form-control","search",3,"ngModelChange","keyup","ngModel"],[1,"ri-search-line","search-icon"],[1,"col-md-auto","col-6","text-end"],[1,"d-flex","flex-wrap","align-items-start","gap-2"],["id","remove-actions",1,"btn","btn-subtle-danger",3,"click"],[1,"ri-delete-bin-2-line"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-person-plus","align-baseline","me-1"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-borderless","table-centered","align-middle","table-nowrap","mb-0"],[1,"text-muted","table-light"],[1,"form-check"],["type","checkbox","value","option","id","checkAll",1,"form-check-input",3,"ngModelChange","change","ngModel"],["for","checkAll",1,"form-check-label"],["scope","col",1,"sort","cursor-pointer",3,"click"],["scope","col"],[1,"list","form-check-all"],[3,"id"],[4,"ngIf"],["id","elmLoader",4,"ngIf"],[1,"noresult",2,"display","none"],[1,"text-center","py-4"],[1,"ph-magnifying-glass","fs-1","text-primary"],[1,"mt-2"],[1,"text-muted","mb-0"],["id","pagination-element",1,"row","mt-3","align-items-center",3,"ngClass"],[1,"col-sm"],[1,"text-muted","text-center","text-sm-start"],[1,"fw-semibold"],[1,"col-sm-auto","mt-3","mt-sm-0"],[1,"pagination-wrap","justify-content-center","hstack","gap-2",3,"ngModelChange","pageChanged","totalItems","itemsPerPage","ngModel"],["bsModal","","id","addTypebesoin",1,"modal","fade",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","addTypebesoinModalLabel",1,"modal-title"],["type","button",1,"btn-close",3,"click"],["novalidate","","autocomplete","off",1,"tablelist-form",3,"ngSubmit","formGroup"],[1,"modal-body"],["id","alert-error-msg",1,"d-none","alert","alert-danger","py-2"],["type","hidden","id","id-field","formControlName","id"],[1,"mb-3"],["for","libelle-input",1,"form-label"],[1,"text-danger"],["type","text","formControlName","libelle","id","libelle-input","placeholder","Entrez le libell\xe9","required","",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["type","hidden","id","date-input"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button",1,"btn","btn-ghost-danger",3,"click"],[1,"bi","bi-x-lg","align-baseline","me-1"],["type","submit","id","add-btn",1,"btn","btn-primary",3,"disabled"],["bsModal","","id","deleteRecordModal","tabindex","-1","aria-hidden","true",1,"modal","fade","zoomIn",3,"config"],[1,"modal-dialog","modal-dialog-centered"],["type","button","id","deleteRecord-close",1,"btn-close",3,"click"],[1,"modal-body","p-md-5"],[1,"text-center"],[1,"bi","bi-trash","display-5"],[1,"mt-4"],[1,"mb-2"],[1,"text-muted","fs-md","mx-3","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","pt-2","mb-2"],["type","button",1,"btn","w-sm","btn-light","btn-hover",3,"click"],["type","button","id","delete-record",1,"btn","w-sm","btn-danger","btn-hover",3,"click"],["bsModal","","id","viewTypebesoin",1,"modal","fade",3,"config"],["id","viewTypebesoinModalLabel",1,"modal-title"],[1,"form-label","fw-medium"],["type","button",1,"btn","btn-secondary",3,"click"],["type","checkbox","name","checkAll",1,"form-check-input",3,"ngModelChange","change","value","ngModel"],[1,"form-check-label"],[1,"typebesoin_id"],["href","javascript:void(0);",1,"fw-medium","link-primary"],[1,"libelle"],[1,"d-flex","gap-2","list-unstyled","mb-0"],["href","javascript:void(0);",1,"btn","btn-subtle-primary","btn-icon","btn-sm",3,"click"],[1,"ph-eye"],["href","javascript:void(0);",1,"btn","btn-subtle-secondary","btn-icon","btn-sm","edit-item-btn",3,"click"],[1,"ph-pencil"],["href","javascript:void(0);",1,"btn","btn-subtle-danger","btn-icon","btn-sm","remove-item-btn",3,"click"],[1,"ph-trash"],["colspan","4",1,"text-center","py-4"],[1,"ph-file-x","fs-1","text-primary"],["id","elmLoader"],["role","status",1,"spinner-border","text-primary","avatar-sm"],[1,"visually-hidden"],[1,"text-danger","mt-1"]],template:function(n,i){if(1&n){const s=e.RV6();e.nrm(0,"app-breadcrumbs",3),e.j41(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"input",11),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.term,l)||(i.term=l),e.Njj(l)}),e.bIt("keyup",function(){return e.eBV(s),e.Njj(i.filterdata())}),e.k0s(),e.nrm(9,"i",12),e.k0s()(),e.j41(10,"div",13)(11,"div",14)(12,"button",15),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.show())}),e.nrm(13,"i",16),e.EFF(14),e.k0s(),e.j41(15,"button",17),e.bIt("click",function(){e.eBV(s);const l=e.sdS(58);return e.Njj(null==l?null:l.show())}),e.nrm(16,"i",18),e.EFF(17," Ajouter un type besoin"),e.k0s()()()()(),e.j41(18,"div",19)(19,"div",20)(20,"table",21)(21,"thead",22)(22,"tr")(23,"th")(24,"div",23)(25,"input",24),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.masterSelected,l)||(i.masterSelected=l),e.Njj(l)}),e.bIt("change",function(l){return e.eBV(s),e.Njj(i.checkUncheckAll(l))}),e.k0s(),e.nrm(26,"label",25),e.k0s()(),e.j41(27,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("id"))}),e.EFF(28,"# "),e.k0s(),e.j41(29,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("libelle"))}),e.EFF(30,"Libell\xe9"),e.k0s(),e.j41(31,"th",27),e.EFF(32,"Action"),e.k0s()()(),e.j41(33,"tbody",28),e.Z7z(34,it,21,6,"tr",29,tt),e.DNE(36,nt,7,0,"tr",30),e.k0s()(),e.DNE(37,st,4,0,"div",31),e.j41(38,"div",32)(39,"div",33),e.nrm(40,"i",34),e.j41(41,"h5",35),e.EFF(42,"Aucun r\xe9sultat trouv\xe9"),e.k0s(),e.j41(43,"p",36),e.EFF(44,"Nous n'avons trouv\xe9 aucun type besoin correspondant \xe0 votre recherche."),e.k0s()()()(),e.j41(45,"div",37)(46,"div",38)(47,"div",39),e.EFF(48," Affichage de "),e.j41(49,"span",40),e.EFF(50),e.k0s(),e.EFF(51," sur "),e.j41(52,"span",40),e.EFF(53),e.k0s(),e.EFF(54," r\xe9sultats "),e.k0s()(),e.j41(55,"div",41)(56,"pagination",42),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.currentPage,l)||(i.currentPage=l),e.Njj(l)}),e.bIt("pageChanged",function(l){return e.eBV(s),e.Njj(i.pageChanged(l))}),e.k0s()()()()()()(),e.j41(57,"div",43,0)(59,"div",44)(60,"div",45)(61,"div",46)(62,"h5",47),e.EFF(63,"Ajouter un type besoin"),e.k0s(),e.j41(64,"button",48),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeAddModal())}),e.k0s()(),e.j41(65,"form",49),e.bIt("ngSubmit",function(){return e.eBV(s),e.Njj(i.saveProperty())}),e.j41(66,"div",50),e.nrm(67,"div",51)(68,"input",52),e.j41(69,"div",53)(70,"label",54),e.EFF(71,"Libell\xe9"),e.j41(72,"span",55),e.EFF(73,"*"),e.k0s()(),e.nrm(74,"input",56),e.DNE(75,ot,2,1,"div",57),e.k0s(),e.nrm(76,"input",58),e.k0s(),e.j41(77,"div",59)(78,"div",60)(79,"button",61),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeAddModal())}),e.nrm(80,"i",62),e.EFF(81," Fermer"),e.k0s(),e.j41(82,"button",63),e.EFF(83,"Ajouter"),e.k0s()()()()()()(),e.j41(84,"div",64,1)(86,"div",65)(87,"div",45)(88,"div",46)(89,"button",66),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.hide())}),e.k0s()(),e.j41(90,"div",67)(91,"div",68)(92,"div",55),e.nrm(93,"i",69),e.k0s(),e.j41(94,"div",70)(95,"h4",71),e.EFF(96,"\xcates-vous s\xfbr ?"),e.k0s(),e.j41(97,"p",72),e.EFF(98),e.k0s()()(),e.j41(99,"div",73)(100,"button",74),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.hide())}),e.EFF(101,"Annuler"),e.k0s(),e.j41(102,"button",75),e.bIt("click",function(){return e.eBV(s),e.Njj(i.confirmDelete(i.deleteID))}),e.EFF(103,"Oui, supprimer"),e.k0s()()()()()(),e.j41(104,"div",76,2)(106,"div",44)(107,"div",45)(108,"div",46)(109,"h5",77),e.EFF(110,"D\xe9tails du type besoin"),e.k0s(),e.j41(111,"button",48),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeViewModal())}),e.k0s()(),e.j41(112,"div",50)(113,"div",53)(114,"label",78),e.EFF(115,"ID:"),e.k0s(),e.j41(116,"p"),e.EFF(117),e.k0s()(),e.j41(118,"div",53)(119,"label",78),e.EFF(120,"Libell\xe9:"),e.k0s(),e.j41(121,"p"),e.EFF(122),e.k0s()()(),e.j41(123,"div",59)(124,"button",79),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeViewModal())}),e.EFF(125,"Fermer"),e.k0s()()()()()}if(2&n){let s;e.Y8G("breadcrumbItems",i.breadCrumbItems),e.R7$(8),e.R50("ngModel",i.term),e.R7$(4),e.AVh("d-none",0===i.checkedValGet.length),e.R7$(2),e.SpI(" Supprimer (",i.checkedValGet.length,") "),e.R7$(11),e.R50("ngModel",i.masterSelected),e.R7$(9),e.Dyx(i.typebesoins),e.R7$(2),e.Y8G("ngIf",0===(null==i.typebesoins?null:i.typebesoins.length)&&!i.term&&!i.isLoading),e.R7$(),e.Y8G("ngIf",i.isLoading),e.R7$(8),e.Y8G("ngClass",0==i.typebesoins.length?"d-none":""),e.R7$(5),e.JRh(i.typebesoins.length||0),e.R7$(3),e.JRh(i.totalItems||0),e.R7$(3),e.Y8G("totalItems",i.totalItems)("itemsPerPage",10),e.R50("ngModel",i.currentPage),e.R7$(),e.Y8G("config",e.lJ4(23,le)),e.R7$(8),e.Y8G("formGroup",i.typebesoinForm),e.R7$(10),e.Y8G("ngIf",(null==(s=i.typebesoinForm.get("libelle"))?null:s.invalid)&&(null==(s=i.typebesoinForm.get("libelle"))?null:s.touched)),e.R7$(7),e.Y8G("disabled",i.typebesoinForm.invalid),e.R7$(2),e.Y8G("config",e.lJ4(24,le)),e.R7$(14),e.SpI("Voulez-vous vraiment supprimer ",i.checkedValGet&&i.checkedValGet.length>1?"ces types besoin":"ce type besoin"," ?"),e.R7$(6),e.Y8G("config",e.lJ4(25,le)),e.R7$(13),e.JRh(null==i.selectedTypebesoin?null:i.selectedTypebesoin.id),e.R7$(5),e.JRh(null==i.selectedTypebesoin?null:i.selectedTypebesoin.libelle)}},dependencies:[d.YU,d.bT,y.m,_.eK,a.qT,a.me,a.Zm,a.BC,a.cb,a.YS,a.vS,a.j4,a.JD,c.hZ]})}}return o})();var N=f(7099);const A=(0,k.UX)("departement"),at=(0,k.Mz)(A,o=>o.departementdata),dt=(0,k.Mz)(A,o=>o.loading),ct=(0,k.Mz)(A,o=>o.totalItems),ut=(0,k.Mz)(A,o=>o.currentPage),mt=((0,k.Mz)(A,o=>o.next),(0,k.Mz)(A,o=>o.previous),["addDepartement"]),pt=["deleteRecordModal"],ht=["mainContainer"],bt=["viewDepartement"],ft=(o,p)=>p.id,oe=()=>({backdrop:"static",keyboard:!1,ignoreBackdropClick:!0});function _t(o,p){if(1&o){const t=e.RV6();e.j41(0,"tr",29)(1,"td")(2,"div",23)(3,"input",80),e.mxI("ngModelChange",function(i){const s=e.eBV(t).$implicit;return e.DH7(s.state,i)||(s.state=i),e.Njj(i)}),e.bIt("change",function(i){e.eBV(t);const s=e.XpG();return e.Njj(s.onCheckboxChange(i))}),e.k0s(),e.nrm(4,"label",81),e.k0s()(),e.j41(5,"td",82)(6,"a",83),e.EFF(7),e.k0s()(),e.j41(8,"td",84),e.EFF(9),e.k0s(),e.j41(10,"td")(11,"ul",85)(12,"li")(13,"a",86),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.viewDetails(i.id))}),e.nrm(14,"i",87),e.k0s()(),e.j41(15,"li")(16,"a",88),e.bIt("click",function(){const i=e.eBV(t).$index,s=e.XpG();return e.Njj(s.editList(i))}),e.nrm(17,"i",89),e.k0s()(),e.j41(18,"li")(19,"a",90),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.removeItem(i.id))}),e.nrm(20,"i",91),e.k0s()()()()()}if(2&o){const t=p.$implicit;e.Mz_("id","l_",t.id,""),e.R7$(3),e.FS9("value",t.id),e.R50("ngModel",t.state),e.R7$(4),e.SpI("#",t.id,""),e.R7$(2),e.JRh(t.libelle_service)}}function gt(o,p){1&o&&(e.j41(0,"tr")(1,"td",92),e.nrm(2,"i",93),e.j41(3,"h5",35),e.EFF(4,"Aucun d\xe9partement disponible"),e.k0s(),e.j41(5,"p",36),e.EFF(6,"Veuillez ajouter un d\xe9partement pour commencer."),e.k0s()()())}function vt(o,p){1&o&&(e.j41(0,"div",94)(1,"div",95)(2,"span",96),e.EFF(3,"Chargement..."),e.k0s()()())}function kt(o,p){1&o&&(e.j41(0,"small"),e.EFF(1,"Le libell\xe9 est requis"),e.k0s())}function jt(o,p){if(1&o&&(e.j41(0,"div",97),e.DNE(1,kt,2,0,"small",30),e.k0s()),2&o){let t;const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=n.departementForm.get("libelle_service"))||null==t.errors?null:t.errors.required)}}let yt=(()=>{class o{constructor(t,n,i,s){this.formBuilder=t,this.datePipe=n,this.toastService=i,this.store=s,this.departements=[],this.departementList=[],this.totalItems=0,this.currentPage=1,this.isLoading=!0,this.submitted=!1,this.files=[],this.checkedValGet=[],this.lastActiveElement=null,this.selectedDepartement=null,this.direction="asc",this.dropzoneConfig={clickable:!0,addRemoveLinks:!0,previewsContainer:!1},this.uploadedFiles=[]}ngOnInit(){this.breadCrumbItems=[{label:"Departements",active:!0},{label:"Departement List",active:!0}],this.departementForm=this.formBuilder.group({id:[""],libelle_service:["",[a.k0.required]]}),this.store.select(dt).subscribe(t=>{this.isLoading=t,t?document.getElementById("elmLoader")?.classList.remove("d-none"):document.getElementById("elmLoader")?.classList.add("d-none")}),this.store.select(ct).subscribe(t=>{this.totalItems=t||0}),this.store.select(ut).subscribe(t=>{this.currentPage=t||1}),this.store.select(at).subscribe(t=>{t&&(this.departements=t.map(n=>({...n,state:!1})),this.departementList=[...this.departements],this.updateNoResultDisplay())}),this.loadData(1)}ngAfterViewInit(){this.addDepartement&&this.addDepartement.onHidden.subscribe(()=>{this.departementForm.reset();const t=document.querySelector(".modal-title");t&&(t.innerHTML="Ajouter un departement");const n=document.getElementById("add-btn");n&&(n.innerHTML="Ajouter")}),this.deleteRecordModal&&this.deleteRecordModal.onHidden.subscribe(()=>{this.deleteID=null})}loadData(t=1){this.store.dispatch((0,N.iY)({page:t}))}onUploadSuccess(t){setTimeout(()=>{this.uploadedFiles.push(t[0]),this.departementForm.controls.img.setValue(t[0].dataURL)},0)}removeFile(t){this.uploadedFiles.splice(this.uploadedFiles.indexOf(t),1)}openAddModal(){this.lastActiveElement=document.activeElement,this.addDepartement?.show(),document.querySelector(".modal-title").innerHTML="Ajouter un departement",document.getElementById("add-btn").innerHTML="Ajouter",this.departementForm.reset()}closeAddModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.addDepartement?.hide();const t=document.querySelector(".modal-title");t&&(t.innerHTML="Ajouter un departement");const n=document.getElementById("add-btn");n&&(n.innerHTML="Ajouter")},10)}editList(t){this.lastActiveElement=document.activeElement,this.addDepartement?.show(),document.querySelector(".modal-title").innerHTML="Modifier le departement",document.getElementById("add-btn").innerHTML="Mettre \xe0 jour";const s="number"==typeof t?this.departements[t]:this.departements.find(r=>r.id===t);s&&(this.uploadedFiles.length>0&&(this.uploadedFiles=[]),s.img&&this.uploadedFiles.push({dataURL:s.img,name:s.imgalt,size:1024}),this.departementForm.patchValue(s))}saveProperty(){if(this.departementForm.valid){let t={...this.departementForm.value};t.id||delete t.id,this.departementForm.get("id")?.value?(this.store.dispatch((0,N.J2)({updatedData:t})),this.toastService.success("Departement mis \xe0 jour avec succ\xe8s !","Succ\xe8s")):(this.store.dispatch((0,N.P9)({newData:t})),this.toastService.success("Departement ajout\xe9 avec succ\xe8s !","Succ\xe8s")),this.uploadedFiles=[],this.departementForm.reset(),this.closeAddModal()}else this.toastService.error("Veuillez v\xe9rifier les informations saisies.","Erreur")}removeItem(t){this.lastActiveElement=document.activeElement,this.deleteID=t,this.deleteRecordModal?.show()}closeDeleteModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.deleteRecordModal?.hide()},10)}confirmDelete(t){return t?(this.store.dispatch((0,N.Nn)({id:t.toString()})),this.toastService.success("Departement supprim\xe9 avec succ\xe8s !","Succ\xe8s"),void this.afterDeleteActions()):this.checkedValGet&&this.checkedValGet.length>0?(console.log("IDs \xe0 supprimer :",this.checkedValGet),this.store.dispatch((0,N.nU)({id:this.checkedValGet.join(",")})),this.toastService.success("Departement supprim\xe9es avec succ\xe8s !","Succ\xe8s"),void this.afterDeleteActions()):(this.toastService.error("Aucune departement s\xe9lectionn\xe9 pour suppression.","Erreur"),void this.closeDeleteModal())}afterDeleteActions(){this.closeDeleteModal(),this.masterSelected=!1,this.deleteID=null,this.checkedValGet=[]}resetCheckboxes(){this.departements&&this.departements.forEach(n=>{n&&(n.state=!1)}),this.checkedValGet=[];const t=document.querySelector("#select-all-checkbox");t&&(t.checked=!1)}checkUncheckAll(t){this.departements&&(this.departements.forEach(n=>{n&&(n.state=t.target.checked)}),this.masterSelected=t.target.checked,this.updateCheckedValues())}onCheckboxChange(t){this.updateCheckedValues()}updateCheckedValues(){const t=[];if(this.departements&&this.departements.length>0)for(let n=0;n<this.departements.length;n++)this.departements[n]&&!0===this.departements[n].state&&t.push(this.departements[n].id);this.checkedValGet=t,console.log("\xc9l\xe9ments coch\xe9s:",this.checkedValGet)}onSort(t){this.direction="asc"==this.direction?"desc":"asc";const n=[...this.departements];n.sort((i,s)=>{const r=this.compare(i[t],s[t]);return"asc"===this.direction?r:-r}),this.departements=n}compare(t,n){return t<n?-1:t>n?1:0}filterdata(){this.term?this.departements=this.departementList.filter(t=>t.libelle_service?.toLowerCase().includes(this.term.toLowerCase())||t.id?.toString().includes(this.term)):this.loadData(this.currentPage),this.updateNoResultDisplay()}updateNoResultDisplay(){const t=document.querySelector(".noresult");t&&(t.style.display=this.term&&0===this.departements.length?"block":"none")}pageChanged(t){this.loadData(t.page)}viewDetails(t){this.lastActiveElement=document.activeElement;const n=this.departements.find(i=>i.id===t);n?(this.selectedDepartement=n,this.viewDepartement?.show()):this.toastService.error("Departement introuvable","Erreur")}closeViewModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.viewDepartement?.hide(),this.selectedDepartement=null},10)}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(a.ze),e.rXU(d.vh),e.rXU(C.tw),e.rXU(k.il))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-departement"]],viewQuery:function(n,i){if(1&n&&(e.GBs(mt,5),e.GBs(pt,5),e.GBs(ht,5),e.GBs(bt,5)),2&n){let s;e.mGM(s=e.lsd())&&(i.addDepartement=s.first),e.mGM(s=e.lsd())&&(i.deleteRecordModal=s.first),e.mGM(s=e.lsd())&&(i.mainContainer=s.first),e.mGM(s=e.lsd())&&(i.viewDepartement=s.first)}},features:[e.Jv_([d.QX])],decls:126,vars:26,consts:[["addDepartement","bs-modal"],["deleteRecordModal","bs-modal"],["viewDepartement","bs-modal"],["title","D\xe9partement List",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-12"],["id","departementList",1,"card"],[1,"card-header"],[1,"row","align-items-center","gy-3"],[1,"col-lg-3","col-md-6","order-last","order-md-first","me-auto"],[1,"search-box"],["type","text","placeholder","Rechercher par libell\xe9 ou ID...",1,"form-control","search",3,"ngModelChange","keyup","ngModel"],[1,"ri-search-line","search-icon"],[1,"col-md-auto","col-6","text-end"],[1,"d-flex","flex-wrap","align-items-start","gap-2"],["id","remove-actions",1,"btn","btn-subtle-danger",3,"click"],[1,"ri-delete-bin-2-line"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-person-plus","align-baseline","me-1"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-borderless","table-centered","align-middle","table-nowrap","mb-0"],[1,"text-muted","table-light"],[1,"form-check"],["type","checkbox","value","option","id","checkAll",1,"form-check-input",3,"ngModelChange","change","ngModel"],["for","checkAll",1,"form-check-label"],["scope","col",1,"sort","cursor-pointer",3,"click"],["scope","col"],[1,"list","form-check-all"],[3,"id"],[4,"ngIf"],["id","elmLoader",4,"ngIf"],[1,"noresult",2,"display","none"],[1,"text-center","py-4"],[1,"ph-magnifying-glass","fs-1","text-primary"],[1,"mt-2"],[1,"text-muted","mb-0"],["id","pagination-element",1,"row","mt-3","align-items-center",3,"ngClass"],[1,"col-sm"],[1,"text-muted","text-center","text-sm-start"],[1,"fw-semibold"],[1,"col-sm-auto","mt-3","mt-sm-0"],[1,"pagination-wrap","justify-content-center","hstack","gap-2",3,"ngModelChange","pageChanged","totalItems","itemsPerPage","ngModel"],["bsModal","","id","addDepartement",1,"modal","fade",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","addDepartementModalLabel",1,"modal-title"],["type","button",1,"btn-close",3,"click"],["novalidate","","autocomplete","off",1,"tablelist-form",3,"ngSubmit","formGroup"],[1,"modal-body"],["id","alert-error-msg",1,"d-none","alert","alert-danger","py-2"],["type","hidden","id","id-field","formControlName","id"],[1,"mb-3"],["for","libelle-input",1,"form-label"],[1,"text-danger"],["type","text","formControlName","libelle_service","id","libelle-input","placeholder","Entrez le libell\xe9","required","",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["type","hidden","id","date-input"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button",1,"btn","btn-ghost-danger",3,"click"],[1,"bi","bi-x-lg","align-baseline","me-1"],["type","submit","id","add-btn",1,"btn","btn-primary",3,"disabled"],["bsModal","","id","deleteRecordModal","tabindex","-1","aria-hidden","true",1,"modal","fade","zoomIn",3,"config"],[1,"modal-dialog","modal-dialog-centered"],["type","button","id","deleteRecord-close",1,"btn-close",3,"click"],[1,"modal-body","p-md-5"],[1,"text-center"],[1,"bi","bi-trash","display-5"],[1,"mt-4"],[1,"mb-2"],[1,"text-muted","fs-md","mx-3","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","pt-2","mb-2"],["type","button",1,"btn","w-sm","btn-light","btn-hover",3,"click"],["type","button","id","delete-record",1,"btn","w-sm","btn-danger","btn-hover",3,"click"],["bsModal","","id","viewDepartement",1,"modal","fade",3,"config"],["id","viewDepartementModalLabel",1,"modal-title"],[1,"form-label","fw-medium"],["type","button",1,"btn","btn-secondary",3,"click"],["type","checkbox","name","checkAll",1,"form-check-input",3,"ngModelChange","change","value","ngModel"],[1,"form-check-label"],[1,"departement_id"],["href","javascript:void(0);",1,"fw-medium","link-primary"],[1,"libelle"],[1,"d-flex","gap-2","list-unstyled","mb-0"],["href","javascript:void(0);",1,"btn","btn-subtle-primary","btn-icon","btn-sm",3,"click"],[1,"ph-eye"],["href","javascript:void(0);",1,"btn","btn-subtle-secondary","btn-icon","btn-sm","edit-item-btn",3,"click"],[1,"ph-pencil"],["href","javascript:void(0);",1,"btn","btn-subtle-danger","btn-icon","btn-sm","remove-item-btn",3,"click"],[1,"ph-trash"],["colspan","4",1,"text-center","py-4"],[1,"ph-file-x","fs-1","text-primary"],["id","elmLoader"],["role","status",1,"spinner-border","text-primary","avatar-sm"],[1,"visually-hidden"],[1,"text-danger","mt-1"]],template:function(n,i){if(1&n){const s=e.RV6();e.nrm(0,"app-breadcrumbs",3),e.j41(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"input",11),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.term,l)||(i.term=l),e.Njj(l)}),e.bIt("keyup",function(){return e.eBV(s),e.Njj(i.filterdata())}),e.k0s(),e.nrm(9,"i",12),e.k0s()(),e.j41(10,"div",13)(11,"div",14)(12,"button",15),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.show())}),e.nrm(13,"i",16),e.EFF(14),e.k0s(),e.j41(15,"button",17),e.bIt("click",function(){e.eBV(s);const l=e.sdS(58);return e.Njj(null==l?null:l.show())}),e.nrm(16,"i",18),e.EFF(17," Ajouter un d\xe9partement"),e.k0s()()()()(),e.j41(18,"div",19)(19,"div",20)(20,"table",21)(21,"thead",22)(22,"tr")(23,"th")(24,"div",23)(25,"input",24),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.masterSelected,l)||(i.masterSelected=l),e.Njj(l)}),e.bIt("change",function(l){return e.eBV(s),e.Njj(i.checkUncheckAll(l))}),e.k0s(),e.nrm(26,"label",25),e.k0s()(),e.j41(27,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("id"))}),e.EFF(28,"# "),e.k0s(),e.j41(29,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("libelle_service"))}),e.EFF(30,"Libell\xe9"),e.k0s(),e.j41(31,"th",27),e.EFF(32,"Action"),e.k0s()()(),e.j41(33,"tbody",28),e.Z7z(34,_t,21,6,"tr",29,ft),e.DNE(36,gt,7,0,"tr",30),e.k0s()(),e.DNE(37,vt,4,0,"div",31),e.j41(38,"div",32)(39,"div",33),e.nrm(40,"i",34),e.j41(41,"h5",35),e.EFF(42,"Aucun r\xe9sultat trouv\xe9"),e.k0s(),e.j41(43,"p",36),e.EFF(44,"Nous n'avons trouv\xe9 aucun d\xe9partement correspondant \xe0 votre recherche."),e.k0s()()()(),e.j41(45,"div",37)(46,"div",38)(47,"div",39),e.EFF(48," Affichage de "),e.j41(49,"span",40),e.EFF(50),e.k0s(),e.EFF(51," sur "),e.j41(52,"span",40),e.EFF(53),e.k0s(),e.EFF(54," r\xe9sultats "),e.k0s()(),e.j41(55,"div",41)(56,"pagination",42),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.currentPage,l)||(i.currentPage=l),e.Njj(l)}),e.bIt("pageChanged",function(l){return e.eBV(s),e.Njj(i.pageChanged(l))}),e.k0s()()()()()()(),e.j41(57,"div",43,0)(59,"div",44)(60,"div",45)(61,"div",46)(62,"h5",47),e.EFF(63,"Ajouter un d\xe9partement"),e.k0s(),e.j41(64,"button",48),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeAddModal())}),e.k0s()(),e.j41(65,"form",49),e.bIt("ngSubmit",function(){return e.eBV(s),e.Njj(i.saveProperty())}),e.j41(66,"div",50),e.nrm(67,"div",51)(68,"input",52),e.j41(69,"div",53)(70,"label",54),e.EFF(71,"Libell\xe9"),e.j41(72,"span",55),e.EFF(73,"*"),e.k0s()(),e.nrm(74,"input",56),e.DNE(75,jt,2,1,"div",57),e.k0s(),e.nrm(76,"input",58),e.k0s(),e.j41(77,"div",59)(78,"div",60)(79,"button",61),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeAddModal())}),e.nrm(80,"i",62),e.EFF(81," Fermer"),e.k0s(),e.j41(82,"button",63),e.EFF(83,"Ajouter"),e.k0s()()()()()()(),e.j41(84,"div",64,1)(86,"div",65)(87,"div",45)(88,"div",46)(89,"button",66),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.hide())}),e.k0s()(),e.j41(90,"div",67)(91,"div",68)(92,"div",55),e.nrm(93,"i",69),e.k0s(),e.j41(94,"div",70)(95,"h4",71),e.EFF(96,"\xcates-vous s\xfbr ?"),e.k0s(),e.j41(97,"p",72),e.EFF(98),e.k0s()()(),e.j41(99,"div",73)(100,"button",74),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.hide())}),e.EFF(101,"Annuler"),e.k0s(),e.j41(102,"button",75),e.bIt("click",function(){return e.eBV(s),e.Njj(i.confirmDelete(i.deleteID))}),e.EFF(103,"Oui, supprimer"),e.k0s()()()()()(),e.j41(104,"div",76,2)(106,"div",44)(107,"div",45)(108,"div",46)(109,"h5",77),e.EFF(110,"D\xe9tails du d\xe9partement"),e.k0s(),e.j41(111,"button",48),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeViewModal())}),e.k0s()(),e.j41(112,"div",50)(113,"div",53)(114,"label",78),e.EFF(115,"ID:"),e.k0s(),e.j41(116,"p"),e.EFF(117),e.k0s()(),e.j41(118,"div",53)(119,"label",78),e.EFF(120,"Libell\xe9:"),e.k0s(),e.j41(121,"p"),e.EFF(122),e.k0s()()(),e.j41(123,"div",59)(124,"button",79),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeViewModal())}),e.EFF(125,"Fermer"),e.k0s()()()()()}if(2&n){let s;e.Y8G("breadcrumbItems",i.breadCrumbItems),e.R7$(8),e.R50("ngModel",i.term),e.R7$(4),e.AVh("d-none",0===i.checkedValGet.length),e.R7$(2),e.SpI(" Supprimer (",i.checkedValGet.length,") "),e.R7$(11),e.R50("ngModel",i.masterSelected),e.R7$(9),e.Dyx(i.departements),e.R7$(2),e.Y8G("ngIf",0===(null==i.departements?null:i.departements.length)&&!i.term&&!i.isLoading),e.R7$(),e.Y8G("ngIf",i.isLoading),e.R7$(8),e.Y8G("ngClass",0==i.departements.length?"d-none":""),e.R7$(5),e.JRh(i.departements.length||0),e.R7$(3),e.JRh(i.totalItems||0),e.R7$(3),e.Y8G("totalItems",i.totalItems)("itemsPerPage",10),e.R50("ngModel",i.currentPage),e.R7$(),e.Y8G("config",e.lJ4(23,oe)),e.R7$(8),e.Y8G("formGroup",i.departementForm),e.R7$(10),e.Y8G("ngIf",(null==(s=i.departementForm.get("libelle_service"))?null:s.invalid)&&(null==(s=i.departementForm.get("libelle_service"))?null:s.touched)),e.R7$(7),e.Y8G("disabled",i.departementForm.invalid),e.R7$(2),e.Y8G("config",e.lJ4(24,oe)),e.R7$(14),e.SpI("Voulez-vous vraiment supprimer ",i.checkedValGet&&i.checkedValGet.length>1?"ces departements":"cet d\xe9partement"," ?"),e.R7$(6),e.Y8G("config",e.lJ4(25,oe)),e.R7$(13),e.JRh(null==i.selectedDepartement?null:i.selectedDepartement.id),e.R7$(5),e.JRh(null==i.selectedDepartement?null:i.selectedDepartement.libelle_service)}},dependencies:[d.YU,d.bT,y.m,_.eK,a.qT,a.me,a.Zm,a.BC,a.cb,a.YS,a.vS,a.j4,a.JD,c.hZ]})}}return o})();var $=f(53985);const D=(0,k.UX)("role"),Ft=(0,k.Mz)(D,o=>o.roledata),Et=(0,k.Mz)(D,o=>o.loading),Ct=(0,k.Mz)(D,o=>o.totalItems),Tt=(0,k.Mz)(D,o=>o.currentPage),It=((0,k.Mz)(D,o=>o.next),(0,k.Mz)(D,o=>o.previous),["addRole"]),Mt=["deleteRecordModal"],Rt=["mainContainer"],Vt=["viewRole"],At=(o,p)=>p.id,re=()=>({backdrop:"static",keyboard:!1,ignoreBackdropClick:!0});function Dt(o,p){if(1&o){const t=e.RV6();e.j41(0,"tr",29)(1,"td")(2,"div",23)(3,"input",80),e.mxI("ngModelChange",function(i){const s=e.eBV(t).$implicit;return e.DH7(s.state,i)||(s.state=i),e.Njj(i)}),e.bIt("change",function(i){e.eBV(t);const s=e.XpG();return e.Njj(s.onCheckboxChange(i))}),e.k0s(),e.nrm(4,"label",81),e.k0s()(),e.j41(5,"td",82)(6,"a",83),e.EFF(7),e.k0s()(),e.j41(8,"td",84),e.EFF(9),e.k0s(),e.j41(10,"td")(11,"ul",85)(12,"li")(13,"a",86),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.viewDetails(i.id))}),e.nrm(14,"i",87),e.k0s()(),e.j41(15,"li")(16,"a",88),e.bIt("click",function(){const i=e.eBV(t).$index,s=e.XpG();return e.Njj(s.editList(i))}),e.nrm(17,"i",89),e.k0s()(),e.j41(18,"li")(19,"a",90),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.removeItem(i.id))}),e.nrm(20,"i",91),e.k0s()()()()()}if(2&o){const t=p.$implicit;e.Mz_("id","l_",t.id,""),e.R7$(3),e.FS9("value",t.id),e.R50("ngModel",t.state),e.R7$(4),e.SpI("#",t.id,""),e.R7$(2),e.JRh(t.name)}}function St(o,p){1&o&&(e.j41(0,"tr")(1,"td",92),e.nrm(2,"i",93),e.j41(3,"h5",35),e.EFF(4,"Aucun role disponible"),e.k0s(),e.j41(5,"p",36),e.EFF(6,"Veuillez ajouter un role pour commencer."),e.k0s()()())}function Gt(o,p){1&o&&(e.j41(0,"div",94)(1,"div",95)(2,"span",96),e.EFF(3,"Chargement..."),e.k0s()()())}function Bt(o,p){1&o&&(e.j41(0,"small"),e.EFF(1,"Le libell\xe9 est requis"),e.k0s())}function Lt(o,p){if(1&o&&(e.j41(0,"div",97),e.DNE(1,Bt,2,0,"small",30),e.k0s()),2&o){let t;const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=n.roleForm.get("name"))||null==t.errors?null:t.errors.required)}}let wt=(()=>{class o{constructor(t,n,i,s){this.formBuilder=t,this.datePipe=n,this.toastService=i,this.store=s,this.roles=[],this.roleList=[],this.totalItems=0,this.currentPage=1,this.isLoading=!0,this.submitted=!1,this.files=[],this.checkedValGet=[],this.lastActiveElement=null,this.selectedRole=null,this.direction="asc",this.dropzoneConfig={clickable:!0,addRemoveLinks:!0,previewsContainer:!1},this.uploadedFiles=[]}ngOnInit(){this.breadCrumbItems=[{label:"roles",active:!0},{label:"Role List",active:!0}],this.roleForm=this.formBuilder.group({id:[""],name:["",[a.k0.required]]}),this.store.select(Et).subscribe(t=>{this.isLoading=t,t?document.getElementById("elmLoader")?.classList.remove("d-none"):document.getElementById("elmLoader")?.classList.add("d-none")}),this.store.select(Ct).subscribe(t=>{this.totalItems=t||0}),this.store.select(Tt).subscribe(t=>{this.currentPage=t||1}),this.store.select(Ft).subscribe(t=>{t&&(this.roles=t.map(n=>({...n,state:!1})),this.roleList=[...this.roles],this.updateNoResultDisplay())}),this.loadData(1)}ngAfterViewInit(){this.addRole&&this.addRole.onHidden.subscribe(()=>{this.roleForm.reset();const t=document.querySelector(".modal-title");t&&(t.innerHTML="Ajouter une role");const n=document.getElementById("add-btn");n&&(n.innerHTML="Ajouter")}),this.deleteRecordModal&&this.deleteRecordModal.onHidden.subscribe(()=>{this.deleteID=null})}loadData(t=1){this.store.dispatch((0,$.XQ)({page:t}))}onUploadSuccess(t){setTimeout(()=>{this.uploadedFiles.push(t[0]),this.roleForm.controls.img.setValue(t[0].dataURL)},0)}removeFile(t){this.uploadedFiles.splice(this.uploadedFiles.indexOf(t),1)}openAddModal(){this.lastActiveElement=document.activeElement,this.addRole?.show(),document.querySelector(".modal-title").innerHTML="Ajouter une role",document.getElementById("add-btn").innerHTML="Ajouter",this.roleForm.reset()}closeAddModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.addRole?.hide();const t=document.querySelector(".modal-title");t&&(t.innerHTML="Ajouter une role");const n=document.getElementById("add-btn");n&&(n.innerHTML="Ajouter")},10)}editList(t){this.lastActiveElement=document.activeElement,this.addRole?.show(),document.querySelector(".modal-title").innerHTML="Modifier la role",document.getElementById("add-btn").innerHTML="Mettre \xe0 jour";const s="number"==typeof t?this.roles[t]:this.roles.find(r=>r.id===t);s&&(this.uploadedFiles.length>0&&(this.uploadedFiles=[]),s.img&&this.uploadedFiles.push({dataURL:s.img,name:s.imgalt,size:1024}),this.roleForm.patchValue(s))}saveProperty(){if(this.roleForm.valid){let t={...this.roleForm.value};t.id||delete t.id,this.roleForm.get("id")?.value?(this.store.dispatch((0,$.Cq)({updatedData:t})),this.toastService.success("role mise \xe0 jour avec succ\xe8s !","Succ\xe8s")):(this.store.dispatch((0,$.uC)({newData:t})),this.toastService.success("role ajout\xe9e avec succ\xe8s !","Succ\xe8s")),this.uploadedFiles=[],this.roleForm.reset(),this.closeAddModal()}else this.toastService.error("Veuillez v\xe9rifier les informations saisies.","Erreur")}removeItem(t){this.lastActiveElement=document.activeElement,this.deleteID=t,this.deleteRecordModal?.show()}closeDeleteModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.deleteRecordModal?.hide()},10)}confirmDelete(t){return t?(this.store.dispatch((0,$.Aw)({id:t.toString()})),this.toastService.success("role supprim\xe9e avec succ\xe8s !","Succ\xe8s"),void this.afterDeleteActions()):this.checkedValGet&&this.checkedValGet.length>0?(console.log("IDs \xe0 supprimer :",this.checkedValGet),this.store.dispatch((0,$.Ec)({id:this.checkedValGet.join(",")})),this.toastService.success("roles supprim\xe9es avec succ\xe8s !","Succ\xe8s"),void this.afterDeleteActions()):(this.toastService.error("Aucune role s\xe9lectionn\xe9e pour suppression.","Erreur"),void this.closeDeleteModal())}afterDeleteActions(){this.closeDeleteModal(),this.masterSelected=!1,this.deleteID=null,this.checkedValGet=[]}resetCheckboxes(){this.roles&&this.roles.forEach(n=>{n&&(n.state=!1)}),this.checkedValGet=[];const t=document.querySelector("#select-all-checkbox");t&&(t.checked=!1)}checkUncheckAll(t){this.roles&&(this.roles.forEach(n=>{n&&(n.state=t.target.checked)}),this.masterSelected=t.target.checked,this.updateCheckedValues())}onCheckboxChange(t){this.updateCheckedValues()}updateCheckedValues(){const t=[];if(this.roles&&this.roles.length>0)for(let n=0;n<this.roles.length;n++)this.roles[n]&&!0===this.roles[n].state&&t.push(this.roles[n].id);this.checkedValGet=t,console.log("\xc9l\xe9ments coch\xe9s:",this.checkedValGet)}onSort(t){this.direction="asc"==this.direction?"desc":"asc";const n=[...this.roles];n.sort((i,s)=>{const r=this.compare(i[t],s[t]);return"asc"===this.direction?r:-r}),this.roles=n}compare(t,n){return t<n?-1:t>n?1:0}filterdata(){this.term?this.roles=this.roleList.filter(t=>t.name?.toLowerCase().includes(this.term.toLowerCase())||t.id?.toString().includes(this.term)):this.loadData(this.currentPage),this.updateNoResultDisplay()}updateNoResultDisplay(){const t=document.querySelector(".noresult");t&&(t.style.display=this.term&&0===this.roles.length?"block":"none")}pageChanged(t){this.loadData(t.page)}viewDetails(t){this.lastActiveElement=document.activeElement;const n=this.roles.find(i=>i.id===t);n?(this.selectedRole=n,this.viewRole?.show()):this.toastService.error("role introuvable","Erreur")}closeViewModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.viewRole?.hide(),this.selectedRole=null},10)}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(a.ze),e.rXU(d.vh),e.rXU(C.tw),e.rXU(k.il))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-role"]],viewQuery:function(n,i){if(1&n&&(e.GBs(It,5),e.GBs(Mt,5),e.GBs(Rt,5),e.GBs(Vt,5)),2&n){let s;e.mGM(s=e.lsd())&&(i.addRole=s.first),e.mGM(s=e.lsd())&&(i.deleteRecordModal=s.first),e.mGM(s=e.lsd())&&(i.mainContainer=s.first),e.mGM(s=e.lsd())&&(i.viewRole=s.first)}},features:[e.Jv_([d.QX])],decls:126,vars:26,consts:[["addRole","bs-modal"],["deleteRecordModal","bs-modal"],["viewRole","bs-modal"],["title","Role List",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-12"],["id","roleList",1,"card"],[1,"card-header"],[1,"row","align-items-center","gy-3"],[1,"col-lg-3","col-md-6","order-last","order-md-first","me-auto"],[1,"search-box"],["type","text","placeholder","Rechercher par libell\xe9 ou ID...",1,"form-control","search",3,"ngModelChange","keyup","ngModel"],[1,"ri-search-line","search-icon"],[1,"col-md-auto","col-6","text-end"],[1,"d-flex","flex-wrap","align-items-start","gap-2"],["id","remove-actions",1,"btn","btn-subtle-danger",3,"click"],[1,"ri-delete-bin-2-line"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-person-plus","align-baseline","me-1"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-borderless","table-centered","align-middle","table-nowrap","mb-0"],[1,"text-muted","table-light"],[1,"form-check"],["type","checkbox","value","option","id","checkAll",1,"form-check-input",3,"ngModelChange","change","ngModel"],["for","checkAll",1,"form-check-label"],["scope","col",1,"sort","cursor-pointer",3,"click"],["scope","col"],[1,"list","form-check-all"],[3,"id"],[4,"ngIf"],["id","elmLoader",4,"ngIf"],[1,"noresult",2,"display","none"],[1,"text-center","py-4"],[1,"ph-magnifying-glass","fs-1","text-primary"],[1,"mt-2"],[1,"text-muted","mb-0"],["id","pagination-element",1,"row","mt-3","align-items-center",3,"ngClass"],[1,"col-sm"],[1,"text-muted","text-center","text-sm-start"],[1,"fw-semibold"],[1,"col-sm-auto","mt-3","mt-sm-0"],[1,"pagination-wrap","justify-content-center","hstack","gap-2",3,"ngModelChange","pageChanged","totalItems","itemsPerPage","ngModel"],["bsModal","","id","addRole",1,"modal","fade",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","addRoleModalLabel",1,"modal-title"],["type","button",1,"btn-close",3,"click"],["novalidate","","autocomplete","off",1,"tablelist-form",3,"ngSubmit","formGroup"],[1,"modal-body"],["id","alert-error-msg",1,"d-none","alert","alert-danger","py-2"],["type","hidden","id","id-field","formControlName","id"],[1,"mb-3"],["for","libelle-input",1,"form-label"],[1,"text-danger"],["type","text","formControlName","name","id","libelle-input","placeholder","Entrez le libell\xe9","required","",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["type","hidden","id","date-input"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button",1,"btn","btn-ghost-danger",3,"click"],[1,"bi","bi-x-lg","align-baseline","me-1"],["type","submit","id","add-btn",1,"btn","btn-primary",3,"disabled"],["bsModal","","id","deleteRecordModal","tabindex","-1","aria-hidden","true",1,"modal","fade","zoomIn",3,"config"],[1,"modal-dialog","modal-dialog-centered"],["type","button","id","deleteRecord-close",1,"btn-close",3,"click"],[1,"modal-body","p-md-5"],[1,"text-center"],[1,"bi","bi-trash","display-5"],[1,"mt-4"],[1,"mb-2"],[1,"text-muted","fs-md","mx-3","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","pt-2","mb-2"],["type","button",1,"btn","w-sm","btn-light","btn-hover",3,"click"],["type","button","id","delete-record",1,"btn","w-sm","btn-danger","btn-hover",3,"click"],["bsModal","","id","viewRole",1,"modal","fade",3,"config"],["id","viewRoleModalLabel",1,"modal-title"],[1,"form-label","fw-medium"],["type","button",1,"btn","btn-secondary",3,"click"],["type","checkbox","name","checkAll",1,"form-check-input",3,"ngModelChange","change","value","ngModel"],[1,"form-check-label"],[1,"role_id"],["href","javascript:void(0);",1,"fw-medium","link-primary"],[1,"libelle"],[1,"d-flex","gap-2","list-unstyled","mb-0"],["href","javascript:void(0);",1,"btn","btn-subtle-primary","btn-icon","btn-sm",3,"click"],[1,"ph-eye"],["href","javascript:void(0);",1,"btn","btn-subtle-secondary","btn-icon","btn-sm","edit-item-btn",3,"click"],[1,"ph-pencil"],["href","javascript:void(0);",1,"btn","btn-subtle-danger","btn-icon","btn-sm","remove-item-btn",3,"click"],[1,"ph-trash"],["colspan","4",1,"text-center","py-4"],[1,"ph-file-x","fs-1","text-primary"],["id","elmLoader"],["role","status",1,"spinner-border","text-primary","avatar-sm"],[1,"visually-hidden"],[1,"text-danger","mt-1"]],template:function(n,i){if(1&n){const s=e.RV6();e.nrm(0,"app-breadcrumbs",3),e.j41(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"input",11),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.term,l)||(i.term=l),e.Njj(l)}),e.bIt("keyup",function(){return e.eBV(s),e.Njj(i.filterdata())}),e.k0s(),e.nrm(9,"i",12),e.k0s()(),e.j41(10,"div",13)(11,"div",14)(12,"button",15),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.show())}),e.nrm(13,"i",16),e.EFF(14),e.k0s(),e.j41(15,"button",17),e.bIt("click",function(){e.eBV(s);const l=e.sdS(58);return e.Njj(null==l?null:l.show())}),e.nrm(16,"i",18),e.EFF(17," Ajouter un role"),e.k0s()()()()(),e.j41(18,"div",19)(19,"div",20)(20,"table",21)(21,"thead",22)(22,"tr")(23,"th")(24,"div",23)(25,"input",24),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.masterSelected,l)||(i.masterSelected=l),e.Njj(l)}),e.bIt("change",function(l){return e.eBV(s),e.Njj(i.checkUncheckAll(l))}),e.k0s(),e.nrm(26,"label",25),e.k0s()(),e.j41(27,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("id"))}),e.EFF(28,"# "),e.k0s(),e.j41(29,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("name"))}),e.EFF(30,"Libell\xe9"),e.k0s(),e.j41(31,"th",27),e.EFF(32,"Action"),e.k0s()()(),e.j41(33,"tbody",28),e.Z7z(34,Dt,21,6,"tr",29,At),e.DNE(36,St,7,0,"tr",30),e.k0s()(),e.DNE(37,Gt,4,0,"div",31),e.j41(38,"div",32)(39,"div",33),e.nrm(40,"i",34),e.j41(41,"h5",35),e.EFF(42,"Aucun r\xe9sultat trouv\xe9"),e.k0s(),e.j41(43,"p",36),e.EFF(44,"Nous n'avons trouv\xe9 aucun role correspondant \xe0 votre recherche."),e.k0s()()()(),e.j41(45,"div",37)(46,"div",38)(47,"div",39),e.EFF(48," Affichage de "),e.j41(49,"span",40),e.EFF(50),e.k0s(),e.EFF(51," sur "),e.j41(52,"span",40),e.EFF(53),e.k0s(),e.EFF(54," r\xe9sultats "),e.k0s()(),e.j41(55,"div",41)(56,"pagination",42),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.currentPage,l)||(i.currentPage=l),e.Njj(l)}),e.bIt("pageChanged",function(l){return e.eBV(s),e.Njj(i.pageChanged(l))}),e.k0s()()()()()()(),e.j41(57,"div",43,0)(59,"div",44)(60,"div",45)(61,"div",46)(62,"h5",47),e.EFF(63,"Ajouter un role"),e.k0s(),e.j41(64,"button",48),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeAddModal())}),e.k0s()(),e.j41(65,"form",49),e.bIt("ngSubmit",function(){return e.eBV(s),e.Njj(i.saveProperty())}),e.j41(66,"div",50),e.nrm(67,"div",51)(68,"input",52),e.j41(69,"div",53)(70,"label",54),e.EFF(71,"Libell\xe9"),e.j41(72,"span",55),e.EFF(73,"*"),e.k0s()(),e.nrm(74,"input",56),e.DNE(75,Lt,2,1,"div",57),e.k0s(),e.nrm(76,"input",58),e.k0s(),e.j41(77,"div",59)(78,"div",60)(79,"button",61),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeAddModal())}),e.nrm(80,"i",62),e.EFF(81," Fermer"),e.k0s(),e.j41(82,"button",63),e.EFF(83,"Ajouter"),e.k0s()()()()()()(),e.j41(84,"div",64,1)(86,"div",65)(87,"div",45)(88,"div",46)(89,"button",66),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.hide())}),e.k0s()(),e.j41(90,"div",67)(91,"div",68)(92,"div",55),e.nrm(93,"i",69),e.k0s(),e.j41(94,"div",70)(95,"h4",71),e.EFF(96,"\xcates-vous s\xfbr ?"),e.k0s(),e.j41(97,"p",72),e.EFF(98),e.k0s()()(),e.j41(99,"div",73)(100,"button",74),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.hide())}),e.EFF(101,"Annuler"),e.k0s(),e.j41(102,"button",75),e.bIt("click",function(){return e.eBV(s),e.Njj(i.confirmDelete(i.deleteID))}),e.EFF(103,"Oui, supprimer"),e.k0s()()()()()(),e.j41(104,"div",76,2)(106,"div",44)(107,"div",45)(108,"div",46)(109,"h5",77),e.EFF(110,"D\xe9tails de la role"),e.k0s(),e.j41(111,"button",48),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeViewModal())}),e.k0s()(),e.j41(112,"div",50)(113,"div",53)(114,"label",78),e.EFF(115,"ID:"),e.k0s(),e.j41(116,"p"),e.EFF(117),e.k0s()(),e.j41(118,"div",53)(119,"label",78),e.EFF(120,"Libell\xe9:"),e.k0s(),e.j41(121,"p"),e.EFF(122),e.k0s()()(),e.j41(123,"div",59)(124,"button",79),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeViewModal())}),e.EFF(125,"Fermer"),e.k0s()()()()()}if(2&n){let s;e.Y8G("breadcrumbItems",i.breadCrumbItems),e.R7$(8),e.R50("ngModel",i.term),e.R7$(4),e.AVh("d-none",0===i.checkedValGet.length),e.R7$(2),e.SpI(" Supprimer (",i.checkedValGet.length,") "),e.R7$(11),e.R50("ngModel",i.masterSelected),e.R7$(9),e.Dyx(i.roles),e.R7$(2),e.Y8G("ngIf",0===(null==i.roles?null:i.roles.length)&&!i.term&&!i.isLoading),e.R7$(),e.Y8G("ngIf",i.isLoading),e.R7$(8),e.Y8G("ngClass",0==i.roles.length?"d-none":""),e.R7$(5),e.JRh(i.roles.length||0),e.R7$(3),e.JRh(i.totalItems||0),e.R7$(3),e.Y8G("totalItems",i.totalItems)("itemsPerPage",10),e.R50("ngModel",i.currentPage),e.R7$(),e.Y8G("config",e.lJ4(23,re)),e.R7$(8),e.Y8G("formGroup",i.roleForm),e.R7$(10),e.Y8G("ngIf",(null==(s=i.roleForm.get("name"))?null:s.invalid)&&(null==(s=i.roleForm.get("name"))?null:s.touched)),e.R7$(7),e.Y8G("disabled",i.roleForm.invalid),e.R7$(2),e.Y8G("config",e.lJ4(24,re)),e.R7$(14),e.SpI("Voulez-vous vraiment supprimer ",i.checkedValGet&&i.checkedValGet.length>1?"ces roles":"cette role"," ?"),e.R7$(6),e.Y8G("config",e.lJ4(25,re)),e.R7$(13),e.JRh(null==i.selectedRole?null:i.selectedRole.id),e.R7$(5),e.JRh(null==i.selectedRole?null:i.selectedRole.name)}},dependencies:[d.YU,d.bT,y.m,_.eK,a.qT,a.me,a.Zm,a.BC,a.cb,a.YS,a.vS,a.j4,a.JD,c.hZ]})}}return o})();var P=f(9703),q=f(12397);const Nt=["addUser"],$t=["deleteRecordModal"],Pt=["mainContainer"],Ut=["viewUser"],Yt=(o,p)=>p.id,ae=()=>({backdrop:"static",keyboard:!1,ignoreBackdropClick:!0});function zt(o,p){if(1&o){const t=e.RV6();e.j41(0,"tr",29)(1,"td")(2,"div",23)(3,"input",89),e.mxI("ngModelChange",function(i){const s=e.eBV(t).$implicit;return e.DH7(s.state,i)||(s.state=i),e.Njj(i)}),e.bIt("change",function(i){e.eBV(t);const s=e.XpG();return e.Njj(s.onCheckboxChange(i))}),e.k0s(),e.nrm(4,"label",90),e.k0s()(),e.j41(5,"td",91)(6,"a",92),e.EFF(7),e.k0s()(),e.j41(8,"td",93),e.EFF(9),e.k0s(),e.j41(10,"td",93),e.EFF(11),e.k0s(),e.j41(12,"td",93),e.EFF(13),e.k0s(),e.j41(14,"td",93),e.EFF(15),e.k0s(),e.j41(16,"td",93),e.EFF(17),e.k0s(),e.j41(18,"td",93),e.EFF(19),e.k0s(),e.j41(20,"td",93),e.EFF(21),e.k0s(),e.j41(22,"td")(23,"ul",94)(24,"li")(25,"a",95),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.viewDetails(i.id))}),e.nrm(26,"i",96),e.k0s()(),e.j41(27,"li")(28,"a",97),e.bIt("click",function(){const i=e.eBV(t).$index,s=e.XpG();return e.Njj(s.editList(i))}),e.nrm(29,"i",98),e.k0s()(),e.j41(30,"li")(31,"a",99),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.removeItem(i.id))}),e.nrm(32,"i",100),e.k0s()()()()()}if(2&o){const t=p.$implicit;e.Mz_("id","l_",t.id,""),e.R7$(3),e.FS9("value",t.id),e.R50("ngModel",t.state),e.R7$(4),e.SpI("#",t.id,""),e.R7$(2),e.JRh(t.username),e.R7$(2),e.JRh(t.email),e.R7$(2),e.JRh(t.nom),e.R7$(2),e.JRh(t.prenom),e.R7$(2),e.JRh(t.contact),e.R7$(2),e.JRh(t.poste_telephone),e.R7$(2),e.JRh(t.statut)}}function Ht(o,p){1&o&&(e.j41(0,"tr")(1,"td",101),e.nrm(2,"i",102),e.j41(3,"h5",35),e.EFF(4,"Aucun utilisateur disponible"),e.k0s(),e.j41(5,"p",36),e.EFF(6,"Veuillez ajouter un utilisateur pour commencer."),e.k0s()()())}function Xt(o,p){1&o&&(e.j41(0,"div",103)(1,"div",104)(2,"span",105),e.EFF(3,"Chargement..."),e.k0s()()())}function Jt(o,p){1&o&&(e.j41(0,"small"),e.EFF(1,"Le mot de passe est requis"),e.k0s())}function qt(o,p){if(1&o&&(e.j41(0,"div",106),e.DNE(1,Jt,2,0,"small",30),e.k0s()),2&o){let t;const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=n.userForm.get("username"))||null==t.errors?null:t.errors.required)}}function xt(o,p){1&o&&(e.j41(0,"small"),e.EFF(1,"Le e-mail est requis"),e.k0s())}function Ot(o,p){if(1&o&&(e.j41(0,"div",106),e.DNE(1,xt,2,0,"small",30),e.k0s()),2&o){let t;const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=n.userForm.get("email"))||null==t.errors?null:t.errors.required)}}function Zt(o,p){1&o&&(e.j41(0,"small"),e.EFF(1,"Le nom est requis"),e.k0s())}function Qt(o,p){if(1&o&&(e.j41(0,"div",106),e.DNE(1,Zt,2,0,"small",30),e.k0s()),2&o){let t;const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=n.userForm.get("nom"))||null==t.errors?null:t.errors.required)}}function Kt(o,p){1&o&&(e.j41(0,"small"),e.EFF(1,"Le pr\xe9nom est requis"),e.k0s())}function Wt(o,p){if(1&o&&(e.j41(0,"div",106),e.DNE(1,Kt,2,0,"small",30),e.k0s()),2&o){let t;const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=n.userForm.get("prenom"))||null==t.errors?null:t.errors.required)}}function ei(o,p){1&o&&(e.j41(0,"small"),e.EFF(1,"Le contact est requis"),e.k0s())}function ti(o,p){if(1&o&&(e.j41(0,"div",106),e.DNE(1,ei,2,0,"small",30),e.k0s()),2&o){let t;const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=n.userForm.get("contact"))||null==t.errors?null:t.errors.required)}}function ii(o,p){1&o&&(e.j41(0,"small"),e.EFF(1,"Le numero de poste telephone est requis"),e.k0s())}function ni(o,p){if(1&o&&(e.j41(0,"div",106),e.DNE(1,ii,2,0,"small",30),e.k0s()),2&o){let t;const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=n.userForm.get("poste_telephone"))||null==t.errors?null:t.errors.required)}}function si(o,p){1&o&&(e.j41(0,"small"),e.EFF(1,"Le mot de passe est requis"),e.k0s())}function li(o,p){if(1&o&&(e.j41(0,"div",106),e.DNE(1,si,2,0,"small",30),e.k0s()),2&o){let t;const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=n.userForm.get("password"))||null==t.errors?null:t.errors.required)}}function oi(o,p){1&o&&(e.j41(0,"small"),e.EFF(1,"Le mot de passe est requis"),e.k0s())}function ri(o,p){if(1&o&&(e.j41(0,"div",106),e.DNE(1,oi,2,0,"small",30),e.k0s()),2&o){let t;const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=n.userForm.get("password2"))||null==t.errors?null:t.errors.required)}}function ai(o,p){1&o&&(e.j41(0,"small"),e.EFF(1,"Le statut est requis"),e.k0s())}function di(o,p){if(1&o&&(e.j41(0,"div",106),e.DNE(1,ai,2,0,"small",30),e.k0s()),2&o){let t;const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=n.userForm.get("statut"))||null==t.errors?null:t.errors.required)}}let ci=(()=>{class o{constructor(t,n,i,s){this.formBuilder=t,this.datePipe=n,this.toastService=i,this.store=s,this.users=[],this.userList=[],this.totalItems=0,this.currentPage=1,this.isLoading=!0,this.submitted=!1,this.files=[],this.checkedValGet=[],this.lastActiveElement=null,this.selectedUser=null,this.direction="asc",this.dropzoneConfig={clickable:!0,addRemoveLinks:!0,previewsContainer:!1},this.uploadedFiles=[]}ngOnInit(){this.breadCrumbItems=[{label:"users",active:!0},{label:"User List",active:!0}],this.userForm=this.formBuilder.group({id:[""],username:["",[a.k0.required]],password:["",[a.k0.required]],password2:["",[a.k0.required]],email:["",[a.k0.required]],nom:["",[a.k0.required]],prenom:["",[a.k0.required]],contact:["",[a.k0.required]],poste_telephone:["",[a.k0.required]],statut:["",[a.k0.required]]}),this.store.select(q.Nz).subscribe(t=>{this.isLoading=t,t?document.getElementById("elmLoader")?.classList.remove("d-none"):document.getElementById("elmLoader")?.classList.add("d-none")}),this.store.select(q.$8).subscribe(t=>{this.totalItems=t||0}),this.store.select(q.Vs).subscribe(t=>{this.currentPage=t||1}),this.store.select(q.Ei).subscribe(t=>{t&&(this.users=t.map(n=>({...n,state:!1})),this.userList=[...this.users],this.updateNoResultDisplay())}),this.loadData(1)}ngAfterViewInit(){this.addUser&&this.addUser.onHidden.subscribe(()=>{this.userForm.reset();const t=document.querySelector(".modal-title");t&&(t.innerHTML="Ajouter un user");const n=document.getElementById("add-btn");n&&(n.innerHTML="Ajouter")}),this.deleteRecordModal&&this.deleteRecordModal.onHidden.subscribe(()=>{this.deleteID=null})}loadData(t=1){this.store.dispatch((0,P.wR)({page:t}))}onUploadSuccess(t){setTimeout(()=>{this.uploadedFiles.push(t[0]),this.userForm.controls.img.setValue(t[0].dataURL)},0)}removeFile(t){this.uploadedFiles.splice(this.uploadedFiles.indexOf(t),1)}openAddModal(){this.lastActiveElement=document.activeElement,this.addUser?.show(),document.querySelector(".modal-title").innerHTML="Ajouter un user",document.getElementById("add-btn").innerHTML="Ajouter",this.userForm.reset()}closeAddModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.addUser?.hide();const t=document.querySelector(".modal-title");t&&(t.innerHTML="Ajouter un user");const n=document.getElementById("add-btn");n&&(n.innerHTML="Ajouter")},10)}editList(t){this.lastActiveElement=document.activeElement,this.addUser?.show(),document.querySelector(".modal-title").innerHTML="Modifier l utilisateur",document.getElementById("add-btn").innerHTML="Mettre \xe0 jour";const s="number"==typeof t?this.users[t]:this.users.find(r=>r.id===t);s&&(this.uploadedFiles.length>0&&(this.uploadedFiles=[]),s.img&&this.uploadedFiles.push({dataURL:s.img,name:s.imgalt,size:1024}),this.userForm.patchValue(s))}saveProperty(){if(this.userForm.valid){let t={...this.userForm.value};t.id||delete t.id,this.userForm.get("id")?.value?(this.store.dispatch((0,P.j_)({updatedData:t})),this.toastService.success("User mise \xe0 jour avec succ\xe8s !","Succ\xe8s")):(this.store.dispatch((0,P.bk)({newData:t})),this.toastService.success("User ajout\xe9e avec succ\xe8s !","Succ\xe8s")),this.uploadedFiles=[],this.userForm.reset(),this.closeAddModal()}else this.toastService.error("Veuillez v\xe9rifier les informations saisies.","Erreur")}removeItem(t){this.lastActiveElement=document.activeElement,this.deleteID=t,this.deleteRecordModal?.show()}closeDeleteModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.deleteRecordModal?.hide()},10)}confirmDelete(t){return t?(this.store.dispatch((0,P.PT)({id:t.toString()})),this.toastService.success("User supprim\xe9e avec succ\xe8s !","Succ\xe8s"),void this.afterDeleteActions()):this.checkedValGet&&this.checkedValGet.length>0?(console.log("IDs \xe0 supprimer :",this.checkedValGet),this.store.dispatch((0,P.HF)({id:this.checkedValGet.join(",")})),this.toastService.success("Users supprim\xe9es avec succ\xe8s !","Succ\xe8s"),void this.afterDeleteActions()):(this.toastService.error("Aucune user s\xe9lectionn\xe9e pour suppression.","Erreur"),void this.closeDeleteModal())}afterDeleteActions(){this.closeDeleteModal(),this.masterSelected=!1,this.deleteID=null,this.checkedValGet=[]}resetCheckboxes(){this.users&&this.users.forEach(n=>{n&&(n.state=!1)}),this.checkedValGet=[];const t=document.querySelector("#select-all-checkbox");t&&(t.checked=!1)}checkUncheckAll(t){this.users&&(this.users.forEach(n=>{n&&(n.state=t.target.checked)}),this.masterSelected=t.target.checked,this.updateCheckedValues())}onCheckboxChange(t){this.updateCheckedValues()}updateCheckedValues(){const t=[];if(this.users&&this.users.length>0)for(let n=0;n<this.users.length;n++)this.users[n]&&!0===this.users[n].state&&t.push(this.users[n].id);this.checkedValGet=t,console.log("\xc9l\xe9ments coch\xe9s:",this.checkedValGet)}onSort(t){this.direction="asc"==this.direction?"desc":"asc";const n=[...this.users];n.sort((i,s)=>{const r=this.compare(i[t],s[t]);return"asc"===this.direction?r:-r}),this.users=n}compare(t,n){return t<n?-1:t>n?1:0}filterdata(){this.term?this.users=this.userList.filter(t=>t.username?.toLowerCase().includes(this.term.toLowerCase())||t.id?.toString().includes(this.term)):this.loadData(this.currentPage),this.updateNoResultDisplay()}updateNoResultDisplay(){const t=document.querySelector(".noresult");t&&(t.style.display=this.term&&0===this.users.length?"block":"none")}pageChanged(t){this.loadData(t.page)}viewDetails(t){this.lastActiveElement=document.activeElement;const n=this.users.find(i=>i.id===t);n?(this.selectedUser=n,this.viewUser?.show()):this.toastService.error("User introuvable","Erreur")}closeViewModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.viewUser?.hide(),this.selectedUser=null},10)}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(a.ze),e.rXU(d.vh),e.rXU(C.tw),e.rXU(k.il))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-user"]],viewQuery:function(n,i){if(1&n&&(e.GBs(Nt,5),e.GBs($t,5),e.GBs(Pt,5),e.GBs(Ut,5)),2&n){let s;e.mGM(s=e.lsd())&&(i.addUser=s.first),e.mGM(s=e.lsd())&&(i.deleteRecordModal=s.first),e.mGM(s=e.lsd())&&(i.mainContainer=s.first),e.mGM(s=e.lsd())&&(i.viewUser=s.first)}},features:[e.Jv_([d.QX])],decls:234,vars:39,consts:[["addUser","bs-modal"],["deleteRecordModal","bs-modal"],["viewUser","bs-modal"],["title","User List",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-12"],["id","userList",1,"card"],[1,"card-header"],[1,"row","align-items-center","gy-3"],[1,"col-lg-3","col-md-6","order-last","order-md-first","me-auto"],[1,"search-box"],["type","text","placeholder","Rechercher par libell\xe9 ou ID...",1,"form-control","search",3,"ngModelChange","keyup","ngModel"],[1,"ri-search-line","search-icon"],[1,"col-md-auto","col-6","text-end"],[1,"d-flex","flex-wrap","align-items-start","gap-2"],["id","remove-actions",1,"btn","btn-subtle-danger",3,"click"],[1,"ri-delete-bin-2-line"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-person-plus","align-baseline","me-1"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-borderless","table-centered","align-middle","table-nowrap","mb-0"],[1,"text-muted","table-light"],[1,"form-check"],["type","checkbox","value","option","id","checkAll",1,"form-check-input",3,"ngModelChange","change","ngModel"],["for","checkAll",1,"form-check-label"],["scope","col",1,"sort","cursor-pointer",3,"click"],["scope","col"],[1,"list","form-check-all"],[3,"id"],[4,"ngIf"],["id","elmLoader",4,"ngIf"],[1,"noresult",2,"display","none"],[1,"text-center","py-4"],[1,"ph-magnifying-glass","fs-1","text-primary"],[1,"mt-2"],[1,"text-muted","mb-0"],["id","pagination-element",1,"row","mt-3","align-items-center",3,"ngClass"],[1,"col-sm"],[1,"text-muted","text-center","text-sm-start"],[1,"fw-semibold"],[1,"col-sm-auto","mt-3","mt-sm-0"],[1,"pagination-wrap","justify-content-center","hstack","gap-2",3,"ngModelChange","pageChanged","totalItems","itemsPerPage","ngModel"],["bsModal","","id","addUser",1,"modal","fade",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","addUserModalLabel",1,"modal-title"],["type","button",1,"btn-close",3,"click"],["novalidate","","autocomplete","off",1,"tablelist-form",3,"ngSubmit","formGroup"],[1,"modal-body"],["id","alert-error-msg",1,"d-none","alert","alert-danger","py-2"],["type","hidden","id","id-field","formControlName","id"],[1,"col-lg-6"],[1,"mb-3"],["for","libelle-input",1,"form-label"],[1,"text-danger"],["type","text","formControlName","username","id","libelle-input","placeholder","Entrez le username","required","",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["type","text","formControlName","email","id","libelle-input","placeholder","Entrez le email","required","",1,"form-control"],["type","text","formControlName","nom","id","libelle-input","placeholder","Entrez le nom","required","",1,"form-control"],["type","text","formControlName","prenom","id","libelle-input","placeholder","Entrez le pr\xe9nom","required","",1,"form-control"],["type","text","formControlName","contact","id","libelle-input","placeholder","Entrez le contact","required","",1,"form-control"],["type","text","formControlName","poste_telephone","id","libelle-input","placeholder","Entrez le numero poste telephone","required","",1,"form-control"],["type","text","formControlName","password","id","libelle-input","placeholder","Entrez le mot de passe","required","",1,"form-control"],["type","text","formControlName","password2","id","libelle-input","placeholder","Entrez \xe0 nouveau le mot de passe","required","",1,"form-control"],["type","text","formControlName","statut","id","libelle-input","placeholder","Entrez le statut","required","",1,"form-control"],["type","hidden","id","date-input"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button",1,"btn","btn-ghost-danger",3,"click"],[1,"bi","bi-x-lg","align-baseline","me-1"],["type","submit","id","add-btn",1,"btn","btn-primary",3,"disabled"],["bsModal","","id","deleteRecordModal","tabindex","-1","aria-hidden","true",1,"modal","fade","zoomIn",3,"config"],[1,"modal-dialog","modal-dialog-centered"],["type","button","id","deleteRecord-close",1,"btn-close",3,"click"],[1,"modal-body","p-md-5"],[1,"text-center"],[1,"bi","bi-trash","display-5"],[1,"mt-4"],[1,"mb-2"],[1,"text-muted","fs-md","mx-3","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","pt-2","mb-2"],["type","button",1,"btn","w-sm","btn-light","btn-hover",3,"click"],["type","button","id","delete-record",1,"btn","w-sm","btn-danger","btn-hover",3,"click"],["bsModal","","id","viewUser",1,"modal","fade",3,"config"],["id","viewUserModalLabel",1,"modal-title"],[1,"form-label","fw-medium"],["type","button",1,"btn","btn-secondary",3,"click"],["type","checkbox","name","checkAll",1,"form-check-input",3,"ngModelChange","change","value","ngModel"],[1,"form-check-label"],[1,"user_id"],["href","javascript:void(0);",1,"fw-medium","link-primary"],[1,"libelle"],[1,"d-flex","gap-2","list-unstyled","mb-0"],["href","javascript:void(0);",1,"btn","btn-subtle-primary","btn-icon","btn-sm",3,"click"],[1,"ph-eye"],["href","javascript:void(0);",1,"btn","btn-subtle-secondary","btn-icon","btn-sm","edit-item-btn",3,"click"],[1,"ph-pencil"],["href","javascript:void(0);",1,"btn","btn-subtle-danger","btn-icon","btn-sm","remove-item-btn",3,"click"],[1,"ph-trash"],["colspan","4",1,"text-center","py-4"],[1,"ph-file-x","fs-1","text-primary"],["id","elmLoader"],["role","status",1,"spinner-border","text-primary","avatar-sm"],[1,"visually-hidden"],[1,"text-danger","mt-1"]],template:function(n,i){if(1&n){const s=e.RV6();e.nrm(0,"app-breadcrumbs",3),e.j41(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"input",11),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.term,l)||(i.term=l),e.Njj(l)}),e.bIt("keyup",function(){return e.eBV(s),e.Njj(i.filterdata())}),e.k0s(),e.nrm(9,"i",12),e.k0s()(),e.j41(10,"div",13)(11,"div",14)(12,"button",15),e.bIt("click",function(){e.eBV(s);const l=e.sdS(168);return e.Njj(null==l?null:l.show())}),e.nrm(13,"i",16),e.EFF(14),e.k0s(),e.j41(15,"button",17),e.bIt("click",function(){e.eBV(s);const l=e.sdS(70);return e.Njj(null==l?null:l.show())}),e.nrm(16,"i",18),e.EFF(17," Ajouter un utilisateur"),e.k0s()()()()(),e.j41(18,"div",19)(19,"div",20)(20,"table",21)(21,"thead",22)(22,"tr")(23,"th")(24,"div",23)(25,"input",24),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.masterSelected,l)||(i.masterSelected=l),e.Njj(l)}),e.bIt("change",function(l){return e.eBV(s),e.Njj(i.checkUncheckAll(l))}),e.k0s(),e.nrm(26,"label",25),e.k0s()(),e.j41(27,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("id"))}),e.EFF(28,"# "),e.k0s(),e.j41(29,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("username"))}),e.EFF(30,"username"),e.k0s(),e.j41(31,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("email"))}),e.EFF(32,"email"),e.k0s(),e.j41(33,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("nom"))}),e.EFF(34,"nom"),e.k0s(),e.j41(35,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("prenom"))}),e.EFF(36,"prenom"),e.k0s(),e.j41(37,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("contact"))}),e.EFF(38,"contact"),e.k0s(),e.j41(39,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("poste_telephone"))}),e.EFF(40,"T\xe9l\xe9phone"),e.k0s(),e.j41(41,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("statut"))}),e.EFF(42,"statut"),e.k0s(),e.j41(43,"th",27),e.EFF(44,"Action"),e.k0s()()(),e.j41(45,"tbody",28),e.Z7z(46,zt,33,12,"tr",29,Yt),e.DNE(48,Ht,7,0,"tr",30),e.k0s()(),e.DNE(49,Xt,4,0,"div",31),e.j41(50,"div",32)(51,"div",33),e.nrm(52,"i",34),e.j41(53,"h5",35),e.EFF(54,"Aucun r\xe9sultat trouv\xe9"),e.k0s(),e.j41(55,"p",36),e.EFF(56,"Nous n'avons trouv\xe9 aucun utilisateur correspondant \xe0 votre recherche."),e.k0s()()()(),e.j41(57,"div",37)(58,"div",38)(59,"div",39),e.EFF(60," Affichage de "),e.j41(61,"span",40),e.EFF(62),e.k0s(),e.EFF(63," sur "),e.j41(64,"span",40),e.EFF(65),e.k0s(),e.EFF(66," r\xe9sultats "),e.k0s()(),e.j41(67,"div",41)(68,"pagination",42),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.currentPage,l)||(i.currentPage=l),e.Njj(l)}),e.bIt("pageChanged",function(l){return e.eBV(s),e.Njj(i.pageChanged(l))}),e.k0s()()()()()()(),e.j41(69,"div",43,0)(71,"div",44)(72,"div",45)(73,"div",46)(74,"h5",47),e.EFF(75,"Ajouter un utilisateur"),e.k0s(),e.j41(76,"button",48),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeAddModal())}),e.k0s()(),e.j41(77,"form",49),e.bIt("ngSubmit",function(){return e.eBV(s),e.Njj(i.saveProperty())}),e.j41(78,"div",50),e.nrm(79,"div",51)(80,"input",52),e.j41(81,"div",4)(82,"div",53)(83,"div",54)(84,"label",55),e.EFF(85,"Username"),e.j41(86,"span",56),e.EFF(87,"*"),e.k0s()(),e.nrm(88,"input",57),e.DNE(89,qt,2,1,"div",58),e.k0s()(),e.j41(90,"div",53)(91,"div",54)(92,"label",55),e.EFF(93,"E-mail"),e.j41(94,"span",56),e.EFF(95,"*"),e.k0s()(),e.nrm(96,"input",59),e.DNE(97,Ot,2,1,"div",58),e.k0s()()(),e.j41(98,"div",4)(99,"div",53)(100,"div",54)(101,"label",55),e.EFF(102,"Nom"),e.j41(103,"span",56),e.EFF(104,"*"),e.k0s()(),e.nrm(105,"input",60),e.DNE(106,Qt,2,1,"div",58),e.k0s()(),e.j41(107,"div",53)(108,"div",54)(109,"label",55),e.EFF(110,"Pr\xe9nom"),e.j41(111,"span",56),e.EFF(112,"*"),e.k0s()(),e.nrm(113,"input",61),e.DNE(114,Wt,2,1,"div",58),e.k0s()()(),e.j41(115,"div",4)(116,"div",53)(117,"div",54)(118,"label",55),e.EFF(119,"Contact"),e.j41(120,"span",56),e.EFF(121,"*"),e.k0s()(),e.nrm(122,"input",62),e.DNE(123,ti,2,1,"div",58),e.k0s()(),e.j41(124,"div",53)(125,"div",54)(126,"label",55),e.EFF(127,"T\xe9l\xe9phone"),e.j41(128,"span",56),e.EFF(129,"*"),e.k0s()(),e.nrm(130,"input",63),e.DNE(131,ni,2,1,"div",58),e.k0s()()(),e.j41(132,"div",4)(133,"div",53)(134,"div",54)(135,"label",55),e.EFF(136,"Mot de passe"),e.j41(137,"span",56),e.EFF(138,"*"),e.k0s()(),e.nrm(139,"input",64),e.DNE(140,li,2,1,"div",58),e.k0s()(),e.j41(141,"div",53)(142,"div",54)(143,"label",55),e.EFF(144,"Confirmez le mot de passe"),e.j41(145,"span",56),e.EFF(146,"*"),e.k0s()(),e.nrm(147,"input",65),e.DNE(148,ri,2,1,"div",58),e.k0s()()(),e.j41(149,"div",4)(150,"div",53)(151,"div",54)(152,"label",55),e.EFF(153,"Statut"),e.j41(154,"span",56),e.EFF(155,"*"),e.k0s()(),e.nrm(156,"input",66),e.DNE(157,di,2,1,"div",58),e.k0s()(),e.nrm(158,"div",53),e.k0s(),e.nrm(159,"input",67),e.k0s(),e.j41(160,"div",68)(161,"div",69)(162,"button",70),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeAddModal())}),e.nrm(163,"i",71),e.EFF(164," Fermer"),e.k0s(),e.j41(165,"button",72),e.EFF(166,"Ajouter"),e.k0s()()()()()()(),e.j41(167,"div",73,1)(169,"div",74)(170,"div",45)(171,"div",46)(172,"button",75),e.bIt("click",function(){e.eBV(s);const l=e.sdS(168);return e.Njj(null==l?null:l.hide())}),e.k0s()(),e.j41(173,"div",76)(174,"div",77)(175,"div",56),e.nrm(176,"i",78),e.k0s(),e.j41(177,"div",79)(178,"h4",80),e.EFF(179,"\xcates-vous s\xfbr ?"),e.k0s(),e.j41(180,"p",81),e.EFF(181),e.k0s()()(),e.j41(182,"div",82)(183,"button",83),e.bIt("click",function(){e.eBV(s);const l=e.sdS(168);return e.Njj(null==l?null:l.hide())}),e.EFF(184,"Annuler"),e.k0s(),e.j41(185,"button",84),e.bIt("click",function(){return e.eBV(s),e.Njj(i.confirmDelete(i.deleteID))}),e.EFF(186,"Oui, supprimer"),e.k0s()()()()()(),e.j41(187,"div",85,2)(189,"div",44)(190,"div",45)(191,"div",46)(192,"h5",86),e.EFF(193,"D\xe9tails de l'utilisateur"),e.k0s(),e.j41(194,"button",48),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeViewModal())}),e.k0s()(),e.j41(195,"div",50)(196,"div",54)(197,"p")(198,"label",87),e.EFF(199,"ID:"),e.k0s(),e.EFF(200),e.k0s()(),e.j41(201,"div",54)(202,"p")(203,"label",87),e.EFF(204,"username:"),e.k0s(),e.EFF(205),e.k0s()(),e.j41(206,"div",54)(207,"p")(208,"label",87),e.EFF(209,"email:"),e.k0s(),e.EFF(210),e.k0s()(),e.j41(211,"div",54)(212,"p")(213,"label",87),e.EFF(214,"nom:"),e.k0s(),e.EFF(215),e.k0s()(),e.j41(216,"div",54)(217,"p")(218,"label",87),e.EFF(219,"prenom:"),e.k0s(),e.EFF(220),e.k0s()(),e.j41(221,"div",54)(222,"p")(223,"label",87),e.EFF(224,"contact:"),e.k0s(),e.EFF(225),e.k0s()(),e.j41(226,"div",54)(227,"p")(228,"label",87),e.EFF(229,"T\xe9l\xe9phone:"),e.k0s(),e.EFF(230),e.k0s()()(),e.j41(231,"div",68)(232,"button",88),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeViewModal())}),e.EFF(233,"Fermer"),e.k0s()()()()()}if(2&n){let s,r,l,Z,Q,K,W,ee,te;e.Y8G("breadcrumbItems",i.breadCrumbItems),e.R7$(8),e.R50("ngModel",i.term),e.R7$(4),e.AVh("d-none",0===i.checkedValGet.length),e.R7$(2),e.SpI(" Supprimer (",i.checkedValGet.length,") "),e.R7$(11),e.R50("ngModel",i.masterSelected),e.R7$(21),e.Dyx(i.users),e.R7$(2),e.Y8G("ngIf",0===(null==i.users?null:i.users.length)&&!i.term&&!i.isLoading),e.R7$(),e.Y8G("ngIf",i.isLoading),e.R7$(8),e.Y8G("ngClass",0==i.users.length?"d-none":""),e.R7$(5),e.JRh(i.users.length||0),e.R7$(3),e.JRh(i.totalItems||0),e.R7$(3),e.Y8G("totalItems",i.totalItems)("itemsPerPage",10),e.R50("ngModel",i.currentPage),e.R7$(),e.Y8G("config",e.lJ4(36,ae)),e.R7$(8),e.Y8G("formGroup",i.userForm),e.R7$(12),e.Y8G("ngIf",(null==(s=i.userForm.get("username"))?null:s.invalid)&&(null==(s=i.userForm.get("username"))?null:s.touched)),e.R7$(8),e.Y8G("ngIf",(null==(r=i.userForm.get("email"))?null:r.invalid)&&(null==(r=i.userForm.get("email"))?null:r.touched)),e.R7$(9),e.Y8G("ngIf",(null==(l=i.userForm.get("nom"))?null:l.invalid)&&(null==(l=i.userForm.get("nom"))?null:l.touched)),e.R7$(8),e.Y8G("ngIf",(null==(Z=i.userForm.get("prenom"))?null:Z.invalid)&&(null==(Z=i.userForm.get("prenom"))?null:Z.touched)),e.R7$(9),e.Y8G("ngIf",(null==(Q=i.userForm.get("contact"))?null:Q.invalid)&&(null==(Q=i.userForm.get("contact"))?null:Q.touched)),e.R7$(8),e.Y8G("ngIf",(null==(K=i.userForm.get("poste_telephone"))?null:K.invalid)&&(null==(K=i.userForm.get("poste_telephone"))?null:K.touched)),e.R7$(9),e.Y8G("ngIf",(null==(W=i.userForm.get("password"))?null:W.invalid)&&(null==(W=i.userForm.get("password"))?null:W.touched)),e.R7$(8),e.Y8G("ngIf",(null==(ee=i.userForm.get("password2"))?null:ee.invalid)&&(null==(ee=i.userForm.get("password2"))?null:ee.touched)),e.R7$(9),e.Y8G("ngIf",(null==(te=i.userForm.get("statut"))?null:te.invalid)&&(null==(te=i.userForm.get("statut"))?null:te.touched)),e.R7$(8),e.Y8G("disabled",i.userForm.invalid),e.R7$(2),e.Y8G("config",e.lJ4(37,ae)),e.R7$(14),e.SpI("Voulez-vous vraiment supprimer ",i.checkedValGet&&i.checkedValGet.length>1?"ces utilisateurs":"cet utilisateur"," ?"),e.R7$(6),e.Y8G("config",e.lJ4(38,ae)),e.R7$(13),e.SpI(" ",null==i.selectedUser?null:i.selectedUser.id,""),e.R7$(5),e.SpI(" ",null==i.selectedUser?null:i.selectedUser.username,""),e.R7$(5),e.SpI(" ",null==i.selectedUser?null:i.selectedUser.email,""),e.R7$(5),e.SpI(" ",null==i.selectedUser?null:i.selectedUser.nom,""),e.R7$(5),e.SpI(" ",null==i.selectedUser?null:i.selectedUser.prenom,""),e.R7$(5),e.SpI(" ",null==i.selectedUser?null:i.selectedUser.contact,""),e.R7$(5),e.SpI(" ",null==i.selectedUser?null:i.selectedUser.poste_telephone,"")}},dependencies:[d.YU,d.bT,y.m,_.eK,a.qT,a.me,a.Zm,a.BC,a.cb,a.YS,a.vS,a.j4,a.JD,c.hZ]})}}return o})();var U=f(57083),x=f(55729);const ui=["addTypeplat"],mi=["deleteRecordModal"],pi=["mainContainer"],hi=["viewTypeplat"],bi=(o,p)=>p.id,de=()=>({backdrop:"static",keyboard:!1,ignoreBackdropClick:!0});function fi(o,p){if(1&o){const t=e.RV6();e.j41(0,"tr",29)(1,"td")(2,"div",23)(3,"input",80),e.mxI("ngModelChange",function(i){const s=e.eBV(t).$implicit;return e.DH7(s.state,i)||(s.state=i),e.Njj(i)}),e.bIt("change",function(i){e.eBV(t);const s=e.XpG();return e.Njj(s.onCheckboxChange(i))}),e.k0s(),e.nrm(4,"label",81),e.k0s()(),e.j41(5,"td",82)(6,"a",83),e.EFF(7),e.k0s()(),e.j41(8,"td",84),e.EFF(9),e.k0s(),e.j41(10,"td")(11,"ul",85)(12,"li")(13,"a",86),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.viewDetails(i.id))}),e.nrm(14,"i",87),e.k0s()(),e.j41(15,"li")(16,"a",88),e.bIt("click",function(){const i=e.eBV(t).$index,s=e.XpG();return e.Njj(s.editList(i))}),e.nrm(17,"i",89),e.k0s()(),e.j41(18,"li")(19,"a",90),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.removeItem(i.id))}),e.nrm(20,"i",91),e.k0s()()()()()}if(2&o){const t=p.$implicit;e.Mz_("id","l_",t.id,""),e.R7$(3),e.FS9("value",t.id),e.R50("ngModel",t.state),e.R7$(4),e.SpI("#",t.id,""),e.R7$(2),e.JRh(t.libelle)}}function _i(o,p){1&o&&(e.j41(0,"tr")(1,"td",92),e.nrm(2,"i",93),e.j41(3,"h5",35),e.EFF(4,"Aucun type plat disponible"),e.k0s(),e.j41(5,"p",36),e.EFF(6,"Veuillez ajouter un type plat pour commencer."),e.k0s()()())}function gi(o,p){1&o&&(e.j41(0,"div",94)(1,"div",95)(2,"span",96),e.EFF(3,"Chargement..."),e.k0s()()())}function vi(o,p){1&o&&(e.j41(0,"small"),e.EFF(1,"Le libell\xe9 est requis"),e.k0s())}function ki(o,p){if(1&o&&(e.j41(0,"div",97),e.DNE(1,vi,2,0,"small",30),e.k0s()),2&o){let t;const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=n.typeplatForm.get("libelle"))||null==t.errors?null:t.errors.required)}}let ji=(()=>{class o{constructor(t,n,i,s){this.formBuilder=t,this.datePipe=n,this.toastService=i,this.store=s,this.typeplats=[],this.typeplatList=[],this.totalItems=0,this.currentPage=1,this.isLoading=!0,this.submitted=!1,this.files=[],this.checkedValGet=[],this.lastActiveElement=null,this.selectedTypeplat=null,this.direction="asc",this.dropzoneConfig={clickable:!0,addRemoveLinks:!0,previewsContainer:!1},this.uploadedFiles=[]}ngOnInit(){this.breadCrumbItems=[{label:"Typeplats",active:!0},{label:"Typeplat List",active:!0}],this.typeplatForm=this.formBuilder.group({id:[""],libelle:["",[a.k0.required]]}),this.store.select(x.Nz).subscribe(t=>{this.isLoading=t,t?document.getElementById("elmLoader")?.classList.remove("d-none"):document.getElementById("elmLoader")?.classList.add("d-none")}),this.store.select(x.$8).subscribe(t=>{this.totalItems=t||0}),this.store.select(x.Vs).subscribe(t=>{this.currentPage=t||1}),this.store.select(x.Gw).subscribe(t=>{t&&(this.typeplats=t.map(n=>({...n,state:!1})),this.typeplatList=[...this.typeplats],this.updateNoResultDisplay())}),this.loadData(1)}ngAfterViewInit(){this.addTypeplat&&this.addTypeplat.onHidden.subscribe(()=>{this.typeplatForm.reset();const t=document.querySelector(".modal-title");t&&(t.innerHTML="Ajouter un typeplat");const n=document.getElementById("add-btn");n&&(n.innerHTML="Ajouter")}),this.deleteRecordModal&&this.deleteRecordModal.onHidden.subscribe(()=>{this.deleteID=null})}loadData(t=1){this.store.dispatch((0,U.M4)({page:t}))}onUploadSuccess(t){setTimeout(()=>{this.uploadedFiles.push(t[0]),this.typeplatForm.controls.img.setValue(t[0].dataURL)},0)}removeFile(t){this.uploadedFiles.splice(this.uploadedFiles.indexOf(t),1)}openAddModal(){this.lastActiveElement=document.activeElement,this.addTypeplat?.show(),document.querySelector(".modal-title").innerHTML="Ajouter un typeplat",document.getElementById("add-btn").innerHTML="Ajouter",this.typeplatForm.reset()}closeAddModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.addTypeplat?.hide();const t=document.querySelector(".modal-title");t&&(t.innerHTML="Ajouter un typeplat");const n=document.getElementById("add-btn");n&&(n.innerHTML="Ajouter")},10)}editList(t){this.lastActiveElement=document.activeElement,this.addTypeplat?.show(),document.querySelector(".modal-title").innerHTML="Modifier le typeplat",document.getElementById("add-btn").innerHTML="Mettre \xe0 jour";const s="number"==typeof t?this.typeplats[t]:this.typeplats.find(r=>r.id===t);s&&(this.uploadedFiles.length>0&&(this.uploadedFiles=[]),s.img&&this.uploadedFiles.push({dataURL:s.img,name:s.imgalt,size:1024}),this.typeplatForm.patchValue(s))}saveProperty(){if(this.typeplatForm.valid){let t={...this.typeplatForm.value};t.id||delete t.id,this.typeplatForm.get("id")?.value?(this.store.dispatch((0,U.Dh)({updatedData:t})),this.toastService.success("Typebeoin mis \xe0 jour avec succ\xe8s !","Succ\xe8s")):(this.store.dispatch((0,U.x)({newData:t})),this.toastService.success("Typeplat ajout\xe9 avec succ\xe8s !","Succ\xe8s")),this.uploadedFiles=[],this.typeplatForm.reset(),this.closeAddModal()}else this.toastService.error("Veuillez v\xe9rifier les informations saisies.","Erreur")}removeItem(t){this.lastActiveElement=document.activeElement,this.deleteID=t,this.deleteRecordModal?.show()}closeDeleteModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.deleteRecordModal?.hide()},10)}confirmDelete(t){return t?(this.store.dispatch((0,U.BP)({id:t.toString()})),this.toastService.success("Type plat supprim\xe9 avec succ\xe8s !","Succ\xe8s"),void this.afterDeleteActions()):this.checkedValGet&&this.checkedValGet.length>0?(console.log("IDs \xe0 supprimer :",this.checkedValGet),this.store.dispatch((0,U.Rp)({id:this.checkedValGet.join(",")})),this.toastService.success("Type plat supprim\xe9es avec succ\xe8s !","Succ\xe8s"),void this.afterDeleteActions()):(this.toastService.error("Aucun type plat s\xe9lectionn\xe9 pour suppression.","Erreur"),void this.closeDeleteModal())}afterDeleteActions(){this.closeDeleteModal(),this.masterSelected=!1,this.deleteID=null,this.checkedValGet=[]}resetCheckboxes(){this.typeplats&&this.typeplats.forEach(n=>{n&&(n.state=!1)}),this.checkedValGet=[];const t=document.querySelector("#select-all-checkbox");t&&(t.checked=!1)}checkUncheckAll(t){this.typeplats&&(this.typeplats.forEach(n=>{n&&(n.state=t.target.checked)}),this.masterSelected=t.target.checked,this.updateCheckedValues())}onCheckboxChange(t){this.updateCheckedValues()}updateCheckedValues(){const t=[];if(this.typeplats&&this.typeplats.length>0)for(let n=0;n<this.typeplats.length;n++)this.typeplats[n]&&!0===this.typeplats[n].state&&t.push(this.typeplats[n].id);this.checkedValGet=t,console.log("\xc9l\xe9ments coch\xe9s:",this.checkedValGet)}onSort(t){this.direction="asc"==this.direction?"desc":"asc";const n=[...this.typeplats];n.sort((i,s)=>{const r=this.compare(i[t],s[t]);return"asc"===this.direction?r:-r}),this.typeplats=n}compare(t,n){return t<n?-1:t>n?1:0}filterdata(){this.term?this.typeplats=this.typeplatList.filter(t=>t.libelle?.toLowerCase().includes(this.term.toLowerCase())||t.id?.toString().includes(this.term)):this.loadData(this.currentPage),this.updateNoResultDisplay()}updateNoResultDisplay(){const t=document.querySelector(".noresult");t&&(t.style.display=this.term&&0===this.typeplats.length?"block":"none")}pageChanged(t){this.loadData(t.page)}viewDetails(t){this.lastActiveElement=document.activeElement;const n=this.typeplats.find(i=>i.id===t);n?(this.selectedTypeplat=n,this.viewTypeplat?.show()):this.toastService.error("Departement introuvable","Erreur")}closeViewModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.viewTypeplat?.hide(),this.selectedTypeplat=null},10)}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(a.ze),e.rXU(d.vh),e.rXU(C.tw),e.rXU(k.il))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-typeplat"]],viewQuery:function(n,i){if(1&n&&(e.GBs(ui,5),e.GBs(mi,5),e.GBs(pi,5),e.GBs(hi,5)),2&n){let s;e.mGM(s=e.lsd())&&(i.addTypeplat=s.first),e.mGM(s=e.lsd())&&(i.deleteRecordModal=s.first),e.mGM(s=e.lsd())&&(i.mainContainer=s.first),e.mGM(s=e.lsd())&&(i.viewTypeplat=s.first)}},features:[e.Jv_([d.QX])],decls:126,vars:26,consts:[["addTypeplat","bs-modal"],["deleteRecordModal","bs-modal"],["viewTypeplat","bs-modal"],["title","Type plat List",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-12"],["id","typeplatList",1,"card"],[1,"card-header"],[1,"row","align-items-center","gy-3"],[1,"col-lg-3","col-md-6","order-last","order-md-first","me-auto"],[1,"search-box"],["type","text","placeholder","Rechercher par libell\xe9 ou ID...",1,"form-control","search",3,"ngModelChange","keyup","ngModel"],[1,"ri-search-line","search-icon"],[1,"col-md-auto","col-6","text-end"],[1,"d-flex","flex-wrap","align-items-start","gap-2"],["id","remove-actions",1,"btn","btn-subtle-danger",3,"click"],[1,"ri-delete-bin-2-line"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-person-plus","align-baseline","me-1"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-borderless","table-centered","align-middle","table-nowrap","mb-0"],[1,"text-muted","table-light"],[1,"form-check"],["type","checkbox","value","option","id","checkAll",1,"form-check-input",3,"ngModelChange","change","ngModel"],["for","checkAll",1,"form-check-label"],["scope","col",1,"sort","cursor-pointer",3,"click"],["scope","col"],[1,"list","form-check-all"],[3,"id"],[4,"ngIf"],["id","elmLoader",4,"ngIf"],[1,"noresult",2,"display","none"],[1,"text-center","py-4"],[1,"ph-magnifying-glass","fs-1","text-primary"],[1,"mt-2"],[1,"text-muted","mb-0"],["id","pagination-element",1,"row","mt-3","align-items-center",3,"ngClass"],[1,"col-sm"],[1,"text-muted","text-center","text-sm-start"],[1,"fw-semibold"],[1,"col-sm-auto","mt-3","mt-sm-0"],[1,"pagination-wrap","justify-content-center","hstack","gap-2",3,"ngModelChange","pageChanged","totalItems","itemsPerPage","ngModel"],["bsModal","","id","addTypeplat",1,"modal","fade",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","addTypeplatModalLabel",1,"modal-title"],["type","button",1,"btn-close",3,"click"],["novalidate","","autocomplete","off",1,"tablelist-form",3,"ngSubmit","formGroup"],[1,"modal-body"],["id","alert-error-msg",1,"d-none","alert","alert-danger","py-2"],["type","hidden","id","id-field","formControlName","id"],[1,"mb-3"],["for","libelle-input",1,"form-label"],[1,"text-danger"],["type","text","formControlName","libelle","id","libelle-input","placeholder","Entrez le libell\xe9","required","",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["type","hidden","id","date-input"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button",1,"btn","btn-ghost-danger",3,"click"],[1,"bi","bi-x-lg","align-baseline","me-1"],["type","submit","id","add-btn",1,"btn","btn-primary",3,"disabled"],["bsModal","","id","deleteRecordModal","tabindex","-1","aria-hidden","true",1,"modal","fade","zoomIn",3,"config"],[1,"modal-dialog","modal-dialog-centered"],["type","button","id","deleteRecord-close",1,"btn-close",3,"click"],[1,"modal-body","p-md-5"],[1,"text-center"],[1,"bi","bi-trash","display-5"],[1,"mt-4"],[1,"mb-2"],[1,"text-muted","fs-md","mx-3","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","pt-2","mb-2"],["type","button",1,"btn","w-sm","btn-light","btn-hover",3,"click"],["type","button","id","delete-record",1,"btn","w-sm","btn-danger","btn-hover",3,"click"],["bsModal","","id","viewTypeplat",1,"modal","fade",3,"config"],["id","viewTypeplatModalLabel",1,"modal-title"],[1,"form-label","fw-medium"],["type","button",1,"btn","btn-secondary",3,"click"],["type","checkbox","name","checkAll",1,"form-check-input",3,"ngModelChange","change","value","ngModel"],[1,"form-check-label"],[1,"typeplat_id"],["href","javascript:void(0);",1,"fw-medium","link-primary"],[1,"libelle"],[1,"d-flex","gap-2","list-unstyled","mb-0"],["href","javascript:void(0);",1,"btn","btn-subtle-primary","btn-icon","btn-sm",3,"click"],[1,"ph-eye"],["href","javascript:void(0);",1,"btn","btn-subtle-secondary","btn-icon","btn-sm","edit-item-btn",3,"click"],[1,"ph-pencil"],["href","javascript:void(0);",1,"btn","btn-subtle-danger","btn-icon","btn-sm","remove-item-btn",3,"click"],[1,"ph-trash"],["colspan","4",1,"text-center","py-4"],[1,"ph-file-x","fs-1","text-primary"],["id","elmLoader"],["role","status",1,"spinner-border","text-primary","avatar-sm"],[1,"visually-hidden"],[1,"text-danger","mt-1"]],template:function(n,i){if(1&n){const s=e.RV6();e.nrm(0,"app-breadcrumbs",3),e.j41(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"input",11),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.term,l)||(i.term=l),e.Njj(l)}),e.bIt("keyup",function(){return e.eBV(s),e.Njj(i.filterdata())}),e.k0s(),e.nrm(9,"i",12),e.k0s()(),e.j41(10,"div",13)(11,"div",14)(12,"button",15),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.show())}),e.nrm(13,"i",16),e.EFF(14),e.k0s(),e.j41(15,"button",17),e.bIt("click",function(){e.eBV(s);const l=e.sdS(58);return e.Njj(null==l?null:l.show())}),e.nrm(16,"i",18),e.EFF(17," Ajouter un type plat"),e.k0s()()()()(),e.j41(18,"div",19)(19,"div",20)(20,"table",21)(21,"thead",22)(22,"tr")(23,"th")(24,"div",23)(25,"input",24),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.masterSelected,l)||(i.masterSelected=l),e.Njj(l)}),e.bIt("change",function(l){return e.eBV(s),e.Njj(i.checkUncheckAll(l))}),e.k0s(),e.nrm(26,"label",25),e.k0s()(),e.j41(27,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("id"))}),e.EFF(28,"# "),e.k0s(),e.j41(29,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("libelle"))}),e.EFF(30,"Libell\xe9"),e.k0s(),e.j41(31,"th",27),e.EFF(32,"Action"),e.k0s()()(),e.j41(33,"tbody",28),e.Z7z(34,fi,21,6,"tr",29,bi),e.DNE(36,_i,7,0,"tr",30),e.k0s()(),e.DNE(37,gi,4,0,"div",31),e.j41(38,"div",32)(39,"div",33),e.nrm(40,"i",34),e.j41(41,"h5",35),e.EFF(42,"Aucun r\xe9sultat trouv\xe9"),e.k0s(),e.j41(43,"p",36),e.EFF(44,"Nous n'avons trouv\xe9 aucun type plat correspondant \xe0 votre recherche."),e.k0s()()()(),e.j41(45,"div",37)(46,"div",38)(47,"div",39),e.EFF(48," Affichage de "),e.j41(49,"span",40),e.EFF(50),e.k0s(),e.EFF(51," sur "),e.j41(52,"span",40),e.EFF(53),e.k0s(),e.EFF(54," r\xe9sultats "),e.k0s()(),e.j41(55,"div",41)(56,"pagination",42),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.currentPage,l)||(i.currentPage=l),e.Njj(l)}),e.bIt("pageChanged",function(l){return e.eBV(s),e.Njj(i.pageChanged(l))}),e.k0s()()()()()()(),e.j41(57,"div",43,0)(59,"div",44)(60,"div",45)(61,"div",46)(62,"h5",47),e.EFF(63,"Ajouter un type plat"),e.k0s(),e.j41(64,"button",48),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeAddModal())}),e.k0s()(),e.j41(65,"form",49),e.bIt("ngSubmit",function(){return e.eBV(s),e.Njj(i.saveProperty())}),e.j41(66,"div",50),e.nrm(67,"div",51)(68,"input",52),e.j41(69,"div",53)(70,"label",54),e.EFF(71,"Libell\xe9"),e.j41(72,"span",55),e.EFF(73,"*"),e.k0s()(),e.nrm(74,"input",56),e.DNE(75,ki,2,1,"div",57),e.k0s(),e.nrm(76,"input",58),e.k0s(),e.j41(77,"div",59)(78,"div",60)(79,"button",61),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeAddModal())}),e.nrm(80,"i",62),e.EFF(81," Fermer"),e.k0s(),e.j41(82,"button",63),e.EFF(83,"Ajouter"),e.k0s()()()()()()(),e.j41(84,"div",64,1)(86,"div",65)(87,"div",45)(88,"div",46)(89,"button",66),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.hide())}),e.k0s()(),e.j41(90,"div",67)(91,"div",68)(92,"div",55),e.nrm(93,"i",69),e.k0s(),e.j41(94,"div",70)(95,"h4",71),e.EFF(96,"\xcates-vous s\xfbr ?"),e.k0s(),e.j41(97,"p",72),e.EFF(98),e.k0s()()(),e.j41(99,"div",73)(100,"button",74),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.hide())}),e.EFF(101,"Annuler"),e.k0s(),e.j41(102,"button",75),e.bIt("click",function(){return e.eBV(s),e.Njj(i.confirmDelete(i.deleteID))}),e.EFF(103,"Oui, supprimer"),e.k0s()()()()()(),e.j41(104,"div",76,2)(106,"div",44)(107,"div",45)(108,"div",46)(109,"h5",77),e.EFF(110,"D\xe9tails du type plat"),e.k0s(),e.j41(111,"button",48),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeViewModal())}),e.k0s()(),e.j41(112,"div",50)(113,"div",53)(114,"label",78),e.EFF(115,"ID:"),e.k0s(),e.j41(116,"p"),e.EFF(117),e.k0s()(),e.j41(118,"div",53)(119,"label",78),e.EFF(120,"Libell\xe9:"),e.k0s(),e.j41(121,"p"),e.EFF(122),e.k0s()()(),e.j41(123,"div",59)(124,"button",79),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeViewModal())}),e.EFF(125,"Fermer"),e.k0s()()()()()}if(2&n){let s;e.Y8G("breadcrumbItems",i.breadCrumbItems),e.R7$(8),e.R50("ngModel",i.term),e.R7$(4),e.AVh("d-none",0===i.checkedValGet.length),e.R7$(2),e.SpI(" Supprimer (",i.checkedValGet.length,") "),e.R7$(11),e.R50("ngModel",i.masterSelected),e.R7$(9),e.Dyx(i.typeplats),e.R7$(2),e.Y8G("ngIf",0===(null==i.typeplats?null:i.typeplats.length)&&!i.term&&!i.isLoading),e.R7$(),e.Y8G("ngIf",i.isLoading),e.R7$(8),e.Y8G("ngClass",0==i.typeplats.length?"d-none":""),e.R7$(5),e.JRh(i.typeplats.length||0),e.R7$(3),e.JRh(i.totalItems||0),e.R7$(3),e.Y8G("totalItems",i.totalItems)("itemsPerPage",10),e.R50("ngModel",i.currentPage),e.R7$(),e.Y8G("config",e.lJ4(23,de)),e.R7$(8),e.Y8G("formGroup",i.typeplatForm),e.R7$(10),e.Y8G("ngIf",(null==(s=i.typeplatForm.get("libelle"))?null:s.invalid)&&(null==(s=i.typeplatForm.get("libelle"))?null:s.touched)),e.R7$(7),e.Y8G("disabled",i.typeplatForm.invalid),e.R7$(2),e.Y8G("config",e.lJ4(24,de)),e.R7$(14),e.SpI("Voulez-vous vraiment supprimer ",i.checkedValGet&&i.checkedValGet.length>1?"ces types plat":"ce type plat"," ?"),e.R7$(6),e.Y8G("config",e.lJ4(25,de)),e.R7$(13),e.JRh(null==i.selectedTypeplat?null:i.selectedTypeplat.id),e.R7$(5),e.JRh(null==i.selectedTypeplat?null:i.selectedTypeplat.libelle)}},dependencies:[d.YU,d.bT,y.m,_.eK,a.qT,a.me,a.Zm,a.BC,a.cb,a.YS,a.vS,a.j4,a.JD,c.hZ]})}}return o})();var Y=f(80019),O=f(15097);const yi=["addTypevehicule"],Fi=["deleteRecordModal"],Ei=["mainContainer"],Ci=["viewTypevehicule"],Ti=(o,p)=>p.id,ce=()=>({backdrop:"static",keyboard:!1,ignoreBackdropClick:!0});function Ii(o,p){if(1&o){const t=e.RV6();e.j41(0,"tr",29)(1,"td")(2,"div",23)(3,"input",80),e.mxI("ngModelChange",function(i){const s=e.eBV(t).$implicit;return e.DH7(s.state,i)||(s.state=i),e.Njj(i)}),e.bIt("change",function(i){e.eBV(t);const s=e.XpG();return e.Njj(s.onCheckboxChange(i))}),e.k0s(),e.nrm(4,"label",81),e.k0s()(),e.j41(5,"td",82)(6,"a",83),e.EFF(7),e.k0s()(),e.j41(8,"td",84),e.EFF(9),e.k0s(),e.j41(10,"td")(11,"ul",85)(12,"li")(13,"a",86),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.viewDetails(i.id))}),e.nrm(14,"i",87),e.k0s()(),e.j41(15,"li")(16,"a",88),e.bIt("click",function(){const i=e.eBV(t).$index,s=e.XpG();return e.Njj(s.editList(i))}),e.nrm(17,"i",89),e.k0s()(),e.j41(18,"li")(19,"a",90),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.removeItem(i.id))}),e.nrm(20,"i",91),e.k0s()()()()()}if(2&o){const t=p.$implicit;e.Mz_("id","l_",t.id,""),e.R7$(3),e.FS9("value",t.id),e.R50("ngModel",t.state),e.R7$(4),e.SpI("#",t.id,""),e.R7$(2),e.JRh(t.libelle)}}function Mi(o,p){1&o&&(e.j41(0,"tr")(1,"td",92),e.nrm(2,"i",93),e.j41(3,"h5",35),e.EFF(4,"Aucun type v\xe9hicule disponible"),e.k0s(),e.j41(5,"p",36),e.EFF(6,"Veuillez ajouter un type vehicule pour commencer."),e.k0s()()())}function Ri(o,p){1&o&&(e.j41(0,"div",94)(1,"div",95)(2,"span",96),e.EFF(3,"Chargement..."),e.k0s()()())}function Vi(o,p){1&o&&(e.j41(0,"small"),e.EFF(1,"Le libell\xe9 est requis"),e.k0s())}function Ai(o,p){if(1&o&&(e.j41(0,"div",97),e.DNE(1,Vi,2,0,"small",30),e.k0s()),2&o){let t;const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==(t=n.typevehiculeForm.get("libelle"))||null==t.errors?null:t.errors.required)}}const Di=[{path:"agence",component:pe},{path:"etat",component:Me},{path:"priorite",component:$e},{path:"statut",component:Ze},{path:"typebesoin",component:rt},{path:"departement",component:yt},{path:"role",component:wt},{path:"user",component:ci},{path:"typeplat",component:ji},{path:"type-vehicule",component:(()=>{class o{constructor(t,n,i,s){this.formBuilder=t,this.datePipe=n,this.toastService=i,this.store=s,this.typevehicules=[],this.typevehiculeList=[],this.totalItems=0,this.currentPage=1,this.isLoading=!0,this.submitted=!1,this.files=[],this.checkedValGet=[],this.lastActiveElement=null,this.selectedTypevehicule=null,this.direction="asc",this.dropzoneConfig={clickable:!0,addRemoveLinks:!0,previewsContainer:!1},this.uploadedFiles=[]}ngOnInit(){this.breadCrumbItems=[{label:"Typevehicules",active:!0},{label:"Typevehicule List",active:!0}],this.typevehiculeForm=this.formBuilder.group({id:[""],libelle:["",[a.k0.required]]}),this.store.select(O.Nz).subscribe(t=>{this.isLoading=t,t?document.getElementById("elmLoader")?.classList.remove("d-none"):document.getElementById("elmLoader")?.classList.add("d-none")}),this.store.select(O.$8).subscribe(t=>{this.totalItems=t||0}),this.store.select(O.Vs).subscribe(t=>{this.currentPage=t||1}),this.store.select(O.sr).subscribe(t=>{t&&(this.typevehicules=t.map(n=>({...n,state:!1})),this.typevehiculeList=[...this.typevehicules],this.updateNoResultDisplay())}),this.loadData(1)}ngAfterViewInit(){this.addTypevehicule&&this.addTypevehicule.onHidden.subscribe(()=>{this.typevehiculeForm.reset();const t=document.querySelector(".modal-title");t&&(t.innerHTML="Ajouter un typevehicule");const n=document.getElementById("add-btn");n&&(n.innerHTML="Ajouter")}),this.deleteRecordModal&&this.deleteRecordModal.onHidden.subscribe(()=>{this.deleteID=null})}loadData(t=1){this.store.dispatch((0,Y.s4)({page:t}))}onUploadSuccess(t){setTimeout(()=>{this.uploadedFiles.push(t[0]),this.typevehiculeForm.controls.img.setValue(t[0].dataURL)},0)}removeFile(t){this.uploadedFiles.splice(this.uploadedFiles.indexOf(t),1)}openAddModal(){this.lastActiveElement=document.activeElement,this.addTypevehicule?.show(),document.querySelector(".modal-title").innerHTML="Ajouter un typevehicule",document.getElementById("add-btn").innerHTML="Ajouter",this.typevehiculeForm.reset()}closeAddModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.addTypevehicule?.hide();const t=document.querySelector(".modal-title");t&&(t.innerHTML="Ajouter un typevehicule");const n=document.getElementById("add-btn");n&&(n.innerHTML="Ajouter")},10)}editList(t){this.lastActiveElement=document.activeElement,this.addTypevehicule?.show(),document.querySelector(".modal-title").innerHTML="Modifier le typevehicule",document.getElementById("add-btn").innerHTML="Mettre \xe0 jour";const s="number"==typeof t?this.typevehicules[t]:this.typevehicules.find(r=>r.id===t);s&&(this.uploadedFiles.length>0&&(this.uploadedFiles=[]),s.img&&this.uploadedFiles.push({dataURL:s.img,name:s.imgalt,size:1024}),this.typevehiculeForm.patchValue(s))}saveProperty(){if(this.typevehiculeForm.valid){let t={...this.typevehiculeForm.value};t.id||delete t.id,this.typevehiculeForm.get("id")?.value?(this.store.dispatch((0,Y.tu)({updatedData:t})),this.toastService.success("Typebeoin mis \xe0 jour avec succ\xe8s !","Succ\xe8s")):(this.store.dispatch((0,Y.J8)({newData:t})),this.toastService.success("Typevehicule ajout\xe9 avec succ\xe8s !","Succ\xe8s")),this.uploadedFiles=[],this.typevehiculeForm.reset(),this.closeAddModal()}else this.toastService.error("Veuillez v\xe9rifier les informations saisies.","Erreur")}removeItem(t){this.lastActiveElement=document.activeElement,this.deleteID=t,this.deleteRecordModal?.show()}closeDeleteModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.deleteRecordModal?.hide()},10)}confirmDelete(t){return t?(this.store.dispatch((0,Y.Nv)({id:t.toString()})),this.toastService.success("Type v\xe9hicule supprim\xe9 avec succ\xe8s !","Succ\xe8s"),void this.afterDeleteActions()):this.checkedValGet&&this.checkedValGet.length>0?(console.log("IDs \xe0 supprimer :",this.checkedValGet),this.store.dispatch((0,Y.lH)({id:this.checkedValGet.join(",")})),this.toastService.success("Type v\xe9hicule supprim\xe9es avec succ\xe8s !","Succ\xe8s"),void this.afterDeleteActions()):(this.toastService.error("Aucun type v\xe9hicule s\xe9lectionn\xe9 pour suppression.","Erreur"),void this.closeDeleteModal())}afterDeleteActions(){this.closeDeleteModal(),this.masterSelected=!1,this.deleteID=null,this.checkedValGet=[]}resetCheckboxes(){this.typevehicules&&this.typevehicules.forEach(n=>{n&&(n.state=!1)}),this.checkedValGet=[];const t=document.querySelector("#select-all-checkbox");t&&(t.checked=!1)}checkUncheckAll(t){this.typevehicules&&(this.typevehicules.forEach(n=>{n&&(n.state=t.target.checked)}),this.masterSelected=t.target.checked,this.updateCheckedValues())}onCheckboxChange(t){this.updateCheckedValues()}updateCheckedValues(){const t=[];if(this.typevehicules&&this.typevehicules.length>0)for(let n=0;n<this.typevehicules.length;n++)this.typevehicules[n]&&!0===this.typevehicules[n].state&&t.push(this.typevehicules[n].id);this.checkedValGet=t,console.log("\xc9l\xe9ments coch\xe9s:",this.checkedValGet)}onSort(t){this.direction="asc"==this.direction?"desc":"asc";const n=[...this.typevehicules];n.sort((i,s)=>{const r=this.compare(i[t],s[t]);return"asc"===this.direction?r:-r}),this.typevehicules=n}compare(t,n){return t<n?-1:t>n?1:0}filterdata(){this.term?this.typevehicules=this.typevehiculeList.filter(t=>t.libelle?.toLowerCase().includes(this.term.toLowerCase())||t.id?.toString().includes(this.term)):this.loadData(this.currentPage),this.updateNoResultDisplay()}updateNoResultDisplay(){const t=document.querySelector(".noresult");t&&(t.style.display=this.term&&0===this.typevehicules.length?"block":"none")}pageChanged(t){this.loadData(t.page)}viewDetails(t){this.lastActiveElement=document.activeElement;const n=this.typevehicules.find(i=>i.id===t);n?(this.selectedTypevehicule=n,this.viewTypevehicule?.show()):this.toastService.error("Departement introuvable","Erreur")}closeViewModal(){this.lastActiveElement?this.lastActiveElement.focus():document.body.focus(),setTimeout(()=>{this.viewTypevehicule?.hide(),this.selectedTypevehicule=null},10)}static{this.\u0275fac=function(n){return new(n||o)(e.rXU(a.ze),e.rXU(d.vh),e.rXU(C.tw),e.rXU(k.il))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-type-vehicule"]],viewQuery:function(n,i){if(1&n&&(e.GBs(yi,5),e.GBs(Fi,5),e.GBs(Ei,5),e.GBs(Ci,5)),2&n){let s;e.mGM(s=e.lsd())&&(i.addTypevehicule=s.first),e.mGM(s=e.lsd())&&(i.deleteRecordModal=s.first),e.mGM(s=e.lsd())&&(i.mainContainer=s.first),e.mGM(s=e.lsd())&&(i.viewTypevehicule=s.first)}},features:[e.Jv_([d.QX])],decls:126,vars:26,consts:[["addTypevehicule","bs-modal"],["deleteRecordModal","bs-modal"],["viewTypevehicule","bs-modal"],["title","Type v\xe9hicule List",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-12"],["id","typevehiculeList",1,"card"],[1,"card-header"],[1,"row","align-items-center","gy-3"],[1,"col-lg-3","col-md-6","order-last","order-md-first","me-auto"],[1,"search-box"],["type","text","placeholder","Rechercher par libell\xe9 ou ID...",1,"form-control","search",3,"ngModelChange","keyup","ngModel"],[1,"ri-search-line","search-icon"],[1,"col-md-auto","col-6","text-end"],[1,"d-flex","flex-wrap","align-items-start","gap-2"],["id","remove-actions",1,"btn","btn-subtle-danger",3,"click"],[1,"ri-delete-bin-2-line"],[1,"btn","btn-secondary",3,"click"],[1,"bi","bi-person-plus","align-baseline","me-1"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-borderless","table-centered","align-middle","table-nowrap","mb-0"],[1,"text-muted","table-light"],[1,"form-check"],["type","checkbox","value","option","id","checkAll",1,"form-check-input",3,"ngModelChange","change","ngModel"],["for","checkAll",1,"form-check-label"],["scope","col",1,"sort","cursor-pointer",3,"click"],["scope","col"],[1,"list","form-check-all"],[3,"id"],[4,"ngIf"],["id","elmLoader",4,"ngIf"],[1,"noresult",2,"display","none"],[1,"text-center","py-4"],[1,"ph-magnifying-glass","fs-1","text-primary"],[1,"mt-2"],[1,"text-muted","mb-0"],["id","pagination-element",1,"row","mt-3","align-items-center",3,"ngClass"],[1,"col-sm"],[1,"text-muted","text-center","text-sm-start"],[1,"fw-semibold"],[1,"col-sm-auto","mt-3","mt-sm-0"],[1,"pagination-wrap","justify-content-center","hstack","gap-2",3,"ngModelChange","pageChanged","totalItems","itemsPerPage","ngModel"],["bsModal","","id","addTypevehicule",1,"modal","fade",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","addTypevehiculeModalLabel",1,"modal-title"],["type","button",1,"btn-close",3,"click"],["novalidate","","autocomplete","off",1,"tablelist-form",3,"ngSubmit","formGroup"],[1,"modal-body"],["id","alert-error-msg",1,"d-none","alert","alert-danger","py-2"],["type","hidden","id","id-field","formControlName","id"],[1,"mb-3"],["for","libelle-input",1,"form-label"],[1,"text-danger"],["type","text","formControlName","libelle","id","libelle-input","placeholder","Entrez le libell\xe9","required","",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["type","hidden","id","date-input"],[1,"modal-footer"],[1,"hstack","gap-2","justify-content-end"],["type","button",1,"btn","btn-ghost-danger",3,"click"],[1,"bi","bi-x-lg","align-baseline","me-1"],["type","submit","id","add-btn",1,"btn","btn-primary",3,"disabled"],["bsModal","","id","deleteRecordModal","tabindex","-1","aria-hidden","true",1,"modal","fade","zoomIn",3,"config"],[1,"modal-dialog","modal-dialog-centered"],["type","button","id","deleteRecord-close",1,"btn-close",3,"click"],[1,"modal-body","p-md-5"],[1,"text-center"],[1,"bi","bi-trash","display-5"],[1,"mt-4"],[1,"mb-2"],[1,"text-muted","fs-md","mx-3","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","pt-2","mb-2"],["type","button",1,"btn","w-sm","btn-light","btn-hover",3,"click"],["type","button","id","delete-record",1,"btn","w-sm","btn-danger","btn-hover",3,"click"],["bsModal","","id","viewTypevehicule",1,"modal","fade",3,"config"],["id","viewTypevehiculeModalLabel",1,"modal-title"],[1,"form-label","fw-medium"],["type","button",1,"btn","btn-secondary",3,"click"],["type","checkbox","name","checkAll",1,"form-check-input",3,"ngModelChange","change","value","ngModel"],[1,"form-check-label"],[1,"typevehicule_id"],["href","javascript:void(0);",1,"fw-medium","link-primary"],[1,"libelle"],[1,"d-flex","gap-2","list-unstyled","mb-0"],["href","javascript:void(0);",1,"btn","btn-subtle-primary","btn-icon","btn-sm",3,"click"],[1,"ph-eye"],["href","javascript:void(0);",1,"btn","btn-subtle-secondary","btn-icon","btn-sm","edit-item-btn",3,"click"],[1,"ph-pencil"],["href","javascript:void(0);",1,"btn","btn-subtle-danger","btn-icon","btn-sm","remove-item-btn",3,"click"],[1,"ph-trash"],["colspan","4",1,"text-center","py-4"],[1,"ph-file-x","fs-1","text-primary"],["id","elmLoader"],["role","status",1,"spinner-border","text-primary","avatar-sm"],[1,"visually-hidden"],[1,"text-danger","mt-1"]],template:function(n,i){if(1&n){const s=e.RV6();e.nrm(0,"app-breadcrumbs",3),e.j41(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"input",11),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.term,l)||(i.term=l),e.Njj(l)}),e.bIt("keyup",function(){return e.eBV(s),e.Njj(i.filterdata())}),e.k0s(),e.nrm(9,"i",12),e.k0s()(),e.j41(10,"div",13)(11,"div",14)(12,"button",15),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.show())}),e.nrm(13,"i",16),e.EFF(14),e.k0s(),e.j41(15,"button",17),e.bIt("click",function(){e.eBV(s);const l=e.sdS(58);return e.Njj(null==l?null:l.show())}),e.nrm(16,"i",18),e.EFF(17," Ajouter un type v\xe9hicule"),e.k0s()()()()(),e.j41(18,"div",19)(19,"div",20)(20,"table",21)(21,"thead",22)(22,"tr")(23,"th")(24,"div",23)(25,"input",24),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.masterSelected,l)||(i.masterSelected=l),e.Njj(l)}),e.bIt("change",function(l){return e.eBV(s),e.Njj(i.checkUncheckAll(l))}),e.k0s(),e.nrm(26,"label",25),e.k0s()(),e.j41(27,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("id"))}),e.EFF(28,"# "),e.k0s(),e.j41(29,"th",26),e.bIt("click",function(){return e.eBV(s),e.Njj(i.onSort("libelle"))}),e.EFF(30,"Libell\xe9"),e.k0s(),e.j41(31,"th",27),e.EFF(32,"Action"),e.k0s()()(),e.j41(33,"tbody",28),e.Z7z(34,Ii,21,6,"tr",29,Ti),e.DNE(36,Mi,7,0,"tr",30),e.k0s()(),e.DNE(37,Ri,4,0,"div",31),e.j41(38,"div",32)(39,"div",33),e.nrm(40,"i",34),e.j41(41,"h5",35),e.EFF(42,"Aucun r\xe9sultat trouv\xe9"),e.k0s(),e.j41(43,"p",36),e.EFF(44,"Nous n'avons trouv\xe9 aucun type v\xe9hicule correspondant \xe0 votre recherche."),e.k0s()()()(),e.j41(45,"div",37)(46,"div",38)(47,"div",39),e.EFF(48," Affichage de "),e.j41(49,"span",40),e.EFF(50),e.k0s(),e.EFF(51," sur "),e.j41(52,"span",40),e.EFF(53),e.k0s(),e.EFF(54," r\xe9sultats "),e.k0s()(),e.j41(55,"div",41)(56,"pagination",42),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(i.currentPage,l)||(i.currentPage=l),e.Njj(l)}),e.bIt("pageChanged",function(l){return e.eBV(s),e.Njj(i.pageChanged(l))}),e.k0s()()()()()()(),e.j41(57,"div",43,0)(59,"div",44)(60,"div",45)(61,"div",46)(62,"h5",47),e.EFF(63,"Ajouter un type v\xe9hicule"),e.k0s(),e.j41(64,"button",48),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeAddModal())}),e.k0s()(),e.j41(65,"form",49),e.bIt("ngSubmit",function(){return e.eBV(s),e.Njj(i.saveProperty())}),e.j41(66,"div",50),e.nrm(67,"div",51)(68,"input",52),e.j41(69,"div",53)(70,"label",54),e.EFF(71,"Libell\xe9"),e.j41(72,"span",55),e.EFF(73,"*"),e.k0s()(),e.nrm(74,"input",56),e.DNE(75,Ai,2,1,"div",57),e.k0s(),e.nrm(76,"input",58),e.k0s(),e.j41(77,"div",59)(78,"div",60)(79,"button",61),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeAddModal())}),e.nrm(80,"i",62),e.EFF(81," Fermer"),e.k0s(),e.j41(82,"button",63),e.EFF(83,"Ajouter"),e.k0s()()()()()()(),e.j41(84,"div",64,1)(86,"div",65)(87,"div",45)(88,"div",46)(89,"button",66),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.hide())}),e.k0s()(),e.j41(90,"div",67)(91,"div",68)(92,"div",55),e.nrm(93,"i",69),e.k0s(),e.j41(94,"div",70)(95,"h4",71),e.EFF(96,"\xcates-vous s\xfbr ?"),e.k0s(),e.j41(97,"p",72),e.EFF(98),e.k0s()()(),e.j41(99,"div",73)(100,"button",74),e.bIt("click",function(){e.eBV(s);const l=e.sdS(85);return e.Njj(null==l?null:l.hide())}),e.EFF(101,"Annuler"),e.k0s(),e.j41(102,"button",75),e.bIt("click",function(){return e.eBV(s),e.Njj(i.confirmDelete(i.deleteID))}),e.EFF(103,"Oui, supprimer"),e.k0s()()()()()(),e.j41(104,"div",76,2)(106,"div",44)(107,"div",45)(108,"div",46)(109,"h5",77),e.EFF(110,"D\xe9tails du type v\xe9hicule"),e.k0s(),e.j41(111,"button",48),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeViewModal())}),e.k0s()(),e.j41(112,"div",50)(113,"div",53)(114,"label",78),e.EFF(115,"ID:"),e.k0s(),e.j41(116,"p"),e.EFF(117),e.k0s()(),e.j41(118,"div",53)(119,"label",78),e.EFF(120,"Libell\xe9:"),e.k0s(),e.j41(121,"p"),e.EFF(122),e.k0s()()(),e.j41(123,"div",59)(124,"button",79),e.bIt("click",function(){return e.eBV(s),e.Njj(i.closeViewModal())}),e.EFF(125,"Fermer"),e.k0s()()()()()}if(2&n){let s;e.Y8G("breadcrumbItems",i.breadCrumbItems),e.R7$(8),e.R50("ngModel",i.term),e.R7$(4),e.AVh("d-none",0===i.checkedValGet.length),e.R7$(2),e.SpI(" Supprimer (",i.checkedValGet.length,") "),e.R7$(11),e.R50("ngModel",i.masterSelected),e.R7$(9),e.Dyx(i.typevehicules),e.R7$(2),e.Y8G("ngIf",0===(null==i.typevehicules?null:i.typevehicules.length)&&!i.term&&!i.isLoading),e.R7$(),e.Y8G("ngIf",i.isLoading),e.R7$(8),e.Y8G("ngClass",0==i.typevehicules.length?"d-none":""),e.R7$(5),e.JRh(i.typevehicules.length||0),e.R7$(3),e.JRh(i.totalItems||0),e.R7$(3),e.Y8G("totalItems",i.totalItems)("itemsPerPage",10),e.R50("ngModel",i.currentPage),e.R7$(),e.Y8G("config",e.lJ4(23,ce)),e.R7$(8),e.Y8G("formGroup",i.typevehiculeForm),e.R7$(10),e.Y8G("ngIf",(null==(s=i.typevehiculeForm.get("libelle"))?null:s.invalid)&&(null==(s=i.typevehiculeForm.get("libelle"))?null:s.touched)),e.R7$(7),e.Y8G("disabled",i.typevehiculeForm.invalid),e.R7$(2),e.Y8G("config",e.lJ4(24,ce)),e.R7$(14),e.SpI("Voulez-vous vraiment supprimer ",i.checkedValGet&&i.checkedValGet.length>1?"ces types v\xe9hicules":"ce type v\xe9hicule"," ?"),e.R7$(6),e.Y8G("config",e.lJ4(25,ce)),e.R7$(13),e.JRh(null==i.selectedTypevehicule?null:i.selectedTypevehicule.id),e.R7$(5),e.JRh(null==i.selectedTypevehicule?null:i.selectedTypevehicule.libelle)}},dependencies:[d.YU,d.bT,y.m,_.eK,a.qT,a.me,a.Zm,a.BC,a.cb,a.YS,a.vS,a.j4,a.JD,c.hZ]})}}return o})()}];let Si=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[I.iI.forChild(Di),I.iI]})}}return o})();var Gi=f(93887),Bi=f(4626),ue=f(99386),Li=f(79224),wi=f(68580),Ni=f(13816);const $i={url:"https://httpbin.org/post",maxFilesize:50,acceptedFiles:"image/*"};let Pi=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({providers:[d.vh,{provide:ue.lk,useValue:$i}],imports:[d.MD,Gi.G,_.x6.forRoot(),a.YN,a.X1,Si,c.Q_.forRoot(),wi.zE.forRoot(),Bi.J,Ni.jr.forRoot(),Li.A,ue._L]})}}return o})()},31777:(S,R,f)=>{f.d(R,{$8:()=>T,Nz:()=>E,OF:()=>I,T7:()=>y,Vs:()=>e});var d=f(59640);const a=(0,d.UX)("agence"),I=(0,d.Mz)(a,_=>_.agencedata),E=(0,d.Mz)(a,_=>_.loading),T=(0,d.Mz)(a,_=>_.totalItems),e=(0,d.Mz)(a,_=>_.currentPage),y=((0,d.Mz)(a,_=>_.next),(0,d.Mz)(a,_=>_.previous),(0,d.Mz)(a,_=>_.allAgences))},44169:(S,R,f)=>{f.d(R,{$8:()=>T,FZ:()=>y,Nz:()=>E,Vs:()=>e,g2:()=>I});var d=f(59640);const a=(0,d.UX)("statut"),I=(0,d.Mz)(a,_=>_.statutdata),E=(0,d.Mz)(a,_=>_.loading),T=(0,d.Mz)(a,_=>_.totalItems),e=(0,d.Mz)(a,_=>_.currentPage),y=((0,d.Mz)(a,_=>_.next),(0,d.Mz)(a,_=>_.previous),(0,d.Mz)(a,_=>_.allStatuts))},25007:(S,R,f)=>{f.d(R,{$:()=>M});var d=f(96780);let I,a=1;const E={};function T(b){return b in E&&(delete E[b],!0)}const e={setImmediate(b){const u=a++;return E[u]=!0,I||(I=Promise.resolve()),I.then(()=>T(u)&&b()),u},clearImmediate(b){T(b)}},{setImmediate:k,clearImmediate:y}=e,_={setImmediate(...b){const{delegate:u}=_;return(u?.setImmediate||k)(...b)},clearImmediate(b){const{delegate:u}=_;return(u?.clearImmediate||y)(b)},delegate:void 0};var j=f(39687);const M=new class h extends j.q{flush(u){this._active=!0;const g=this._scheduled;this._scheduled=void 0;const{actions:v}=this;let F;u=u||v.shift();do{if(F=u.execute(u.state,u.delay))break}while((u=v[0])&&u.id===g&&v.shift());if(this._active=!1,F){for(;(u=v[0])&&u.id===g&&v.shift();)u.unsubscribe();throw F}}}(class c extends d.R{constructor(u,g){super(u,g),this.scheduler=u,this.work=g}requestAsyncId(u,g,v=0){return null!==v&&v>0?super.requestAsyncId(u,g,v):(u.actions.push(this),u._scheduled||(u._scheduled=_.setImmediate(u.flush.bind(u,void 0))))}recycleAsyncId(u,g,v=0){var F;if(null!=v?v>0:this.delay>0)return super.recycleAsyncId(u,g,v);const{actions:z}=u;null!=g&&(null===(F=z[z.length-1])||void 0===F?void 0:F.id)!==g&&(_.clearImmediate(g),u._scheduled===g&&(u._scheduled=void 0))}})},4626:(S,R,f)=>{f.d(R,{J:()=>k,Q:()=>e});var d=f(10467),a=f(54438),I=f(60177),E=f(25007);const T=["chart"];let e=(()=>{class y{constructor(){this.autoUpdateSeries=!0,this.chartReady=new a.bkB,this.chartInstance=(0,a.vPA)(null),this.ngZone=(0,a.WQX)(a.SKi),this.isBrowser=(0,I.UE)((0,a.WQX)(a.Agw))}ngOnChanges(c){this.isBrowser&&this.ngZone.runOutsideAngular(()=>{E.$.schedule(()=>this.hydrate(c))})}ngOnDestroy(){this.destroy()}hydrate(c){this.autoUpdateSeries&&0===Object.keys(c).filter(h=>"series"!==h).length?this.updateSeries(this.series,!0):this.createElement()}createElement(){var c=this;return(0,d.A)(function*(){const{default:j}=yield f.e(4550).then(f.t.bind(f,84550,19));window.ApexCharts||=j;const h={};c.annotations&&(h.annotations=c.annotations),c.chart&&(h.chart=c.chart),c.colors&&(h.colors=c.colors),c.dataLabels&&(h.dataLabels=c.dataLabels),c.series&&(h.series=c.series),c.stroke&&(h.stroke=c.stroke),c.labels&&(h.labels=c.labels),c.legend&&(h.legend=c.legend),c.fill&&(h.fill=c.fill),c.tooltip&&(h.tooltip=c.tooltip),c.plotOptions&&(h.plotOptions=c.plotOptions),c.responsive&&(h.responsive=c.responsive),c.markers&&(h.markers=c.markers),c.noData&&(h.noData=c.noData),c.xaxis&&(h.xaxis=c.xaxis),c.yaxis&&(h.yaxis=c.yaxis),c.forecastDataPoints&&(h.forecastDataPoints=c.forecastDataPoints),c.grid&&(h.grid=c.grid),c.states&&(h.states=c.states),c.title&&(h.title=c.title),c.subtitle&&(h.subtitle=c.subtitle),c.theme&&(h.theme=c.theme),c.destroy();const M=c.ngZone.runOutsideAngular(()=>new j(c.chartElement.nativeElement,h));c.chartInstance.set(M),c.render(),c.chartReady.emit({chartObj:M})})()}render(){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.render())}updateOptions(c,j,h,M){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateOptions(c,j,h,M))}updateSeries(c,j){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateSeries(c,j))}appendSeries(c,j){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendSeries(c,j))}appendData(c){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendData(c))}highlightSeries(c){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.highlightSeries(c))}toggleSeries(c){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleSeries(c))}showSeries(c){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.showSeries(c))}hideSeries(c){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.hideSeries(c))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.resetSeries())}zoomX(c,j){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.zoomX(c,j))}toggleDataPointSelection(c,j){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleDataPointSelection(c,j))}destroy(){this.chartInstance()?.destroy(),this.chartInstance.set(null)}setLocale(c){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.setLocale(c))}paper(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.paper())}addXaxisAnnotation(c,j,h){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addXaxisAnnotation(c,j,h))}addYaxisAnnotation(c,j,h){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addYaxisAnnotation(c,j,h))}addPointAnnotation(c,j,h){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addPointAnnotation(c,j,h))}removeAnnotation(c,j){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.removeAnnotation(c,j))}clearAnnotations(c){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.clearAnnotations(c))}dataURI(c){return this.chartInstance()?.dataURI(c)}static{this.\u0275fac=function(j){return new(j||y)}}static{this.\u0275cmp=a.VBU({type:y,selectors:[["apx-chart"]],viewQuery:function(j,h){if(1&j&&a.GBs(T,7),2&j){let M;a.mGM(M=a.lsd())&&(h.chartElement=M.first)}},inputs:{chart:"chart",annotations:"annotations",colors:"colors",dataLabels:"dataLabels",series:"series",stroke:"stroke",labels:"labels",legend:"legend",markers:"markers",noData:"noData",fill:"fill",tooltip:"tooltip",plotOptions:"plotOptions",responsive:"responsive",xaxis:"xaxis",yaxis:"yaxis",forecastDataPoints:"forecastDataPoints",grid:"grid",states:"states",title:"title",subtitle:"subtitle",theme:"theme",autoUpdateSeries:"autoUpdateSeries"},outputs:{chartReady:"chartReady"},standalone:!0,features:[a.OA$,a.aNF],decls:2,vars:0,consts:[["chart",""]],template:function(j,h){1&j&&a.nrm(0,"div",null,0)},encapsulation:2,changeDetection:0})}}return y})(),k=(()=>{class y{static{this.\u0275fac=function(j){return new(j||y)}}static{this.\u0275mod=a.$C({type:y})}static{this.\u0275inj=a.G2t({})}}return y})()},13816:(S,R,f)=>{f.d(R,{Bh:()=>c,V6:()=>_,fw:()=>y,jr:()=>j});var d=f(54438),a=f(60177);const I=["*"],E=h=>["nav-item",h];function T(h,M){if(1&h){const m=d.RV6();d.j41(0,"span",7),d.bIt("click",function(u){d.eBV(m);const g=d.XpG().$implicit,v=d.XpG();return u.preventDefault(),d.Njj(v.removeTab(g))}),d.EFF(1," \u274c"),d.k0s()}}function e(h,M){if(1&h){const m=d.RV6();d.j41(0,"li",3),d.bIt("keydown",function(u){const g=d.eBV(m).index,v=d.XpG();return d.Njj(v.keyNavActions(u,g))}),d.j41(1,"a",4),d.bIt("click",function(){const u=d.eBV(m).$implicit;return d.Njj(u.active=!0)}),d.j41(2,"span",5),d.EFF(3),d.k0s(),d.DNE(4,T,2,0,"span",6),d.k0s()()}if(2&h){const m=M.$implicit;d.AVh("active",m.active)("disabled",m.disabled),d.Y8G("ngClass",d.eq3(15,E,m.customClass||"")),d.R7$(),d.AVh("active",m.active)("disabled",m.disabled),d.BMQ("aria-controls",m.id?m.id:"")("aria-selected",!!m.active)("id",m.id?m.id+"-link":""),d.R7$(),d.Y8G("ngTransclude",m.headingRef),d.R7$(),d.JRh(m.heading),d.R7$(),d.Y8G("ngIf",m.removable)}}let C=(()=>{class h{set ngTransclude(m){this._ngTransclude=m,m&&this.viewRef.createEmbeddedView(m)}get ngTransclude(){return this._ngTransclude}constructor(m){this.viewRef=m}static{this.\u0275fac=function(b){return new(b||h)(d.rXU(d.c1b))}}static{this.\u0275dir=d.FsC({type:h,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}})}}return h})(),k=(()=>{class h{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}static{this.\u0275fac=function(b){return new(b||h)}}static{this.\u0275prov=d.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})(),y=(()=>{class h{get vertical(){return this._vertical}set vertical(m){this._vertical=m,this.setClassMap()}get justified(){return this._justified}set justified(m){this._justified=m,this.setClassMap()}get type(){return this._type}set type(m){this._type=m,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(m){this._isKeysAllowed=m}constructor(m,b,u){this.renderer=b,this.elementRef=u,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,m)}ngOnDestroy(){this.isDestroyed=!0}addTab(m){this.tabs.push(m),m.active=1===this.tabs.length&&!m.active}removeTab(m,b={reselect:!0,emit:!0}){const u=this.tabs.indexOf(m);if(-1!==u&&!this.isDestroyed){if(b.reselect&&m.active&&this.hasAvailableTabs(u)){const g=this.getClosestTabIndex(u);this.tabs[g].active=!0}b.emit&&m.removed.emit(m),this.tabs.splice(u,1),m.elementRef.nativeElement.parentNode&&this.renderer.removeChild(m.elementRef.nativeElement.parentNode,m.elementRef.nativeElement)}}keyNavActions(m,b){if(!this.isKeysAllowed)return;const u=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===m.keyCode||"Enter"===m.key||32===m.keyCode||"Space"===m.key)return m.preventDefault(),void u[b%u.length].click();if(39!==m.keyCode&&"RightArrow"!==m.key)if(37!==m.keyCode&&"LeftArrow"!==m.key)if(36!==m.keyCode&&"Home"!==m.key)if(35!==m.keyCode&&"End"!==m.key){if((46===m.keyCode||"Delete"===m.key)&&this.tabs[b].removable){if(this.removeTab(this.tabs[b]),u[b+1])return void u[(b+1)%u.length].focus();u[u.length-1]&&u[0].focus()}}else{m.preventDefault();let g,v=1,F=b;do{F-v<0?(F=u.length-1,g=u[F],v=0):g=u[F-v],v++}while(g.classList.contains("disabled"));g.focus()}else{m.preventDefault();let g,v=0;do{g=u[v%u.length],v++}while(g.classList.contains("disabled"));g.focus()}else{let g,v=1,F=b;do{F-v<0?(F=u.length-1,g=u[F],v=0):g=u[F-v],v++}while(g.classList.contains("disabled"));g.focus()}else{let g,v=1;do{g=u[(b+v)%u.length],v++}while(g.classList.contains("disabled"));g.focus()}}getClosestTabIndex(m){const b=this.tabs.length;if(!b)return-1;for(let u=1;u<=b;u+=1){const g=m-u,v=m+u;if(this.tabs[g]&&!this.tabs[g].disabled)return g;if(this.tabs[v]&&!this.tabs[v].disabled)return v}return-1}hasAvailableTabs(m){const b=this.tabs.length;if(!b)return!1;for(let u=0;u<b;u+=1)if(!this.tabs[u].disabled&&u!==m)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}static{this.\u0275fac=function(b){return new(b||h)(d.rXU(k),d.rXU(d.sFG),d.rXU(d.aKT))}}static{this.\u0275cmp=d.VBU({type:h,selectors:[["tabset"]],hostVars:2,hostBindings:function(b,u){2&b&&d.AVh("tab-container",u.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:I,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"click","ngClass"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"keydown","ngClass"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(b,u){1&b&&(d.NAR(),d.j41(0,"ul",0),d.bIt("click",function(v){return v.preventDefault()}),d.DNE(1,e,5,17,"li",1),d.k0s(),d.j41(2,"div",2),d.SdG(3),d.k0s()),2&b&&(d.Y8G("ngClass",u.classMap),d.BMQ("aria-label",u.ariaLabel),d.R7$(),d.Y8G("ngForOf",u.tabs))},dependencies:[a.YU,a.Sq,a.bT,C],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]})}}return h})(),_=(()=>{class h{get customClass(){return this._customClass}set customClass(m){this.customClass&&this.customClass.split(" ").forEach(b=>{this.renderer.removeClass(this.elementRef.nativeElement,b)}),this._customClass=m?m.trim():"",this.customClass&&this.customClass.split(" ").forEach(b=>{this.renderer.addClass(this.elementRef.nativeElement,b)})}get active(){return this._active}set active(m){if(this._active!==m){if(this.disabled&&m||!m)return void(this._active&&!m&&(this.deselect.emit(this),this._active=m));this._active=m,this.selectTab.emit(this),this.tabset.tabs.forEach(b=>{b!==this&&(b.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}constructor(m,b,u){this.elementRef=b,this.renderer=u,this.disabled=!1,this.removable=!1,this.selectTab=new d.bkB,this.deselect=new d.bkB,this.removed=new d.bkB,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=m,this.tabset.addTab(this)}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}static{this.\u0275fac=function(b){return new(b||h)(d.rXU(y),d.rXU(d.aKT),d.rXU(d.sFG))}}static{this.\u0275dir=d.FsC({type:h,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(b,u){2&b&&(d.BMQ("id",u.id)("role",u.role)("aria-labelledby",u.ariaLabelledby),d.AVh("active",u.active)("tab-pane",u.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]})}}return h})(),c=(()=>{class h{constructor(m,b){b.headingRef=m}static{this.\u0275fac=function(b){return new(b||h)(d.rXU(d.C4Q),d.rXU(_))}}static{this.\u0275dir=d.FsC({type:h,selectors:[["","tabHeading",""]]})}}return h})(),j=(()=>{class h{static forRoot(){return{ngModule:h,providers:[]}}static{this.\u0275fac=function(b){return new(b||h)}}static{this.\u0275mod=d.$C({type:h})}static{this.\u0275inj=d.G2t({imports:[a.MD]})}}return h})()}}]);