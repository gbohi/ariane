(self.webpackChunkSteex=self.webpackChunkSteex||[]).push([[1564],{41564:(G,O,o)=>{"use strict";o.r(O),o.d(O,{ComptabiliteModule:()=>Q});var n=o(60177),m=o(89417),b=o(30803),v=o(62288),A=o(2578),t=o(54438),f=o(21626),F=o(26364);function E(r,C){if(1&r&&(t.j41(0,"th",20),t.EFF(1),t.k0s()),2&r){const c=C.$implicit;t.R7$(),t.JRh(c.key)}}function s(r,C){if(1&r&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&r){const c=C.$implicit;t.R7$(),t.JRh(c.value)}}function i(r,C){if(1&r&&(t.j41(0,"tr"),t.DNE(1,s,2,1,"td",19),t.nI1(2,"keyvalue"),t.k0s()),2&r){const c=C.$implicit;t.R7$(),t.Y8G("ngForOf",t.bMT(2,1,c))}}function h(r,C){if(1&r&&(t.j41(0,"table",17)(1,"thead")(2,"tr"),t.DNE(3,E,2,1,"th",18),t.nI1(4,"keyvalue"),t.k0s()(),t.j41(5,"tbody"),t.DNE(6,i,3,3,"tr",19),t.k0s()()),2&r){const c=t.XpG();t.R7$(3),t.Y8G("ngForOf",t.bMT(4,2,c.prelevementsData[0])),t.R7$(3),t.Y8G("ngForOf",c.prelevementsData)}}function e(r,C){1&r&&(t.j41(0,"div",21)(1,"div",22),t.nrm(2,"i",23),t.j41(3,"h5",24),t.EFF(4,"Aucun r\xe9sultat trouv\xe9"),t.k0s(),t.j41(5,"p",25),t.EFF(6,"Nous n'avons trouv\xe9 aucun pr\xe9l\xe8vement ."),t.k0s()()())}const a=[{path:"generation-bancaire",component:(()=>{class r{constructor(c){this.http=c,this.file=null,this.prelevementsData=[],this.breadCrumbItems=[{label:"Comptabilit\xe9",active:!0},{label:"Pr\xe9l\xe8vement Liste",active:!0}]}onFileChange(c){const u=c.target.files[0];this.file=u;const g=new FileReader;g.onload=M=>{const x=new Uint8Array(M.target.result),B=v.LF(x,{type:"array"}),T="Prelevements";B.Sheets[T]?this.prelevementsData=v.Wp.sheet_to_json(B.Sheets[T],{defval:""}):alert('La feuille "Prelevements" est manquante.')},g.readAsArrayBuffer(u)}envoyerEtGenererFichier(){if(!this.file)return;const c=new FormData;c.append("file",this.file),this.http.post("http://localhost:8000/api/api/apb128/generer/",c,{responseType:"blob"}).subscribe(u=>{(0,A.saveAs)(u,"FICHIER_APB128.txt")},u=>{alert("Erreur lors de la g\xe9n\xe9ration du fichier APB128"),console.error(u)})}static{this.\u0275fac=function(u){return new(u||r)(t.rXU(f.Qq))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-generation-bancaire"]],features:[t.Jv_([n.QX])],decls:20,vars:4,consts:[["title","G\xe9n\xe9ration du Fichier APB128",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-12"],["id","platList",1,"card"],[1,"card-header"],[1,"row","align-items-center","gy-3"],[1,"col-lg-12","me-auto","mb-3"],[1,"card-title","mb-0"],["type","file","accept",".xlsx",3,"change"],[1,"col-lg-12","me-auto"],[1,"card-title","mb-1"],[1,"card-body"],[1,"table-responsive"],["class","table table-striped",4,"ngIf"],["class","noresult",4,"ngIf"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"bi","bi-filetype-txt","align-baseline","me-1"],[1,"table","table-striped"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["scope","col"],[1,"noresult"],[1,"text-center","py-4"],[1,"ph-magnifying-glass","fs-1","text-primary"],[1,"mt-2"],[1,"text-muted","mb-0"]],template:function(u,g){1&u&&(t.nrm(0,"app-breadcrumbs",0),t.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h6",7),t.EFF(8,"Veuillez s\xe9lectionner un fichier Excel (.xlsx) svp"),t.k0s(),t.j41(9,"input",8),t.bIt("change",function(x){return g.onFileChange(x)}),t.k0s()(),t.j41(10,"div",9)(11,"h6",10),t.EFF(12,"D\xe9tails des pr\xe9l\xe8vements"),t.k0s()()()(),t.j41(13,"div",11)(14,"div",12),t.DNE(15,h,7,4,"table",13),t.k0s(),t.DNE(16,e,7,0,"div",14),t.j41(17,"button",15),t.bIt("click",function(){return g.envoyerEtGenererFichier()}),t.nrm(18,"i",16),t.EFF(19," G\xe9n\xe9rer Fichier APB128 "),t.k0s()()()()()),2&u&&(t.Y8G("breadcrumbItems",g.breadCrumbItems),t.R7$(15),t.Y8G("ngIf",g.prelevementsData.length),t.R7$(),t.Y8G("ngIf",!g.prelevementsData.length),t.R7$(),t.Y8G("disabled",!g.file))},dependencies:[n.Sq,n.bT,F.m,n.lG]})}}return r})()}];let l=(()=>{class r{static{this.\u0275fac=function(u){return new(u||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({imports:[b.iI.forChild(a),b.iI]})}}return r})();var d=o(93887),D=o(82716),R=o(96880),y=o(30763),P=o(32812),I=o(79224),L=o(91022),U=o(70255),j=o(99386),w=o(68580),S=o(23400),k=o(50779),$=o(14580),N=o(13816),Y=o(39884),H=o(47820),V=o(534),X=o(70339),W=o(34404);const K={url:"https://httpbin.org/post",maxFilesize:50,acceptedFiles:"image/*"};let Q=(()=>{class r{static{this.\u0275fac=function(u){return new(u||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({providers:[n.vh,{provide:j.lk,useValue:K}],imports:[n.MD,l,d.G,w.zE.forRoot(),S.x6.forRoot(),k.Q_.forRoot(),m.YN,m.X1,$.h6.forRoot(),N.jr.forRoot(),H.Hq.forRoot(),V.Ss.forRoot(),X.YN.forRoot(),U.r,I.A,W.VZ,j._L,P.x,y.uY,Y.wZ,D.MQ,R.Ti,L.ND.forRoot()]})}}return r})()},2578:function(G,O){var o,m;void 0!==(m="function"==typeof(o=function(){"use strict";function v(s,i,h){var e=new XMLHttpRequest;e.open("GET",s),e.responseType="blob",e.onload=function(){E(e.response,i,h)},e.onerror=function(){console.error("could not download file")},e.send()}function A(s){var i=new XMLHttpRequest;i.open("HEAD",s,!1);try{i.send()}catch{}return 200<=i.status&&299>=i.status}function t(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(i)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,F=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),E=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!F?function(s,i,h){var e=f.URL||f.webkitURL,p=document.createElement("a");p.download=i=i||s.name||"download",p.rel="noopener","string"==typeof s?(p.href=s,p.origin===location.origin?t(p):A(p.href)?v(s,i,h):t(p,p.target="_blank")):(p.href=e.createObjectURL(s),setTimeout(function(){e.revokeObjectURL(p.href)},4e4),setTimeout(function(){t(p)},0))}:"msSaveOrOpenBlob"in navigator?function(s,i,h){if(i=i||s.name||"download","string"!=typeof s)navigator.msSaveOrOpenBlob(function b(s,i){return typeof i>"u"?i={autoBom:!1}:"object"!=typeof i&&(console.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\ufeff",s],{type:s.type}):s}(s,h),i);else if(A(s))v(s,i,h);else{var e=document.createElement("a");e.href=s,e.target="_blank",setTimeout(function(){t(e)})}}:function(s,i,h,e){if((e=e||open("","_blank"))&&(e.document.title=e.document.body.innerText="downloading..."),"string"==typeof s)return v(s,i,h);var p="application/octet-stream"===s.type,a=/constructor/i.test(f.HTMLElement)||f.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||p&&a||F)&&typeof FileReader<"u"){var d=new FileReader;d.onloadend=function(){var y=d.result;y=l?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),e?e.location.href=y:location=y,e=null},d.readAsDataURL(s)}else{var D=f.URL||f.webkitURL,R=D.createObjectURL(s);e?e.location=R:location.href=R,e=null,setTimeout(function(){D.revokeObjectURL(R)},4e4)}});f.saveAs=E.saveAs=E,G.exports=E})?o.apply(O,[]):o)&&(G.exports=m)},14580:(G,O,o)=>{"use strict";o.d(O,{Mj:()=>s,h6:()=>h,kt:()=>i});var n=o(54438),m=o(60177),b=o(5992);const v=["*"],A=[[["","accordion-heading",""]],"*"],t=["[accordion-heading]","*"],f=e=>({"text-muted":e});function F(e,p){if(1&e&&(n.j41(0,"button",7),n.EFF(1),n.k0s()),2&e){const a=n.XpG();n.Y8G("ngClass",n.eq3(2,f,a.isDisabled)),n.R7$(),n.SpI(" ",a.heading," ")}}let E=(()=>{class e{constructor(){this.closeOthers=!1,this.isAnimated=!1}static{this.\u0275fac=function(l){return new(l||e)}}static{this.\u0275prov=n.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),s=(()=>{class e{constructor(a){this.isAnimated=!1,this.closeOthers=!1,this.groups=[],Object.assign(this,a)}closeOtherPanels(a){this.closeOthers&&this.groups.forEach(l=>{l!==a&&(l.isOpen=!1)})}addGroup(a){a.isAnimated=this.isAnimated,this.groups.push(a)}removeGroup(a){const l=this.groups.indexOf(a);-1!==l&&this.groups.splice(l,1)}static{this.\u0275fac=function(l){return new(l||e)(n.rXU(E))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["accordion"]],hostAttrs:["role","tablist",1,"panel-group",2,"display","block"],hostVars:1,hostBindings:function(l,d){2&l&&n.BMQ("aria-multiselectable",d.closeOthers)},inputs:{isAnimated:"isAnimated",closeOthers:"closeOthers"},ngContentSelectors:v,decls:1,vars:0,template:function(l,d){1&l&&(n.NAR(),n.SdG(0))},encapsulation:2})}}return e})(),i=(()=>{class e{get isOpen(){return this._isOpen}set isOpen(a){a!==this.isOpen&&(a&&this.accordion.closeOtherPanels(this),this._isOpen=a,Promise.resolve(null).then(()=>{this.isOpenChange.emit(a)}))}constructor(a){this.isAnimated=!1,this.panelClass="panel-default",this.isDisabled=!1,this.isOpenChange=new n.bkB,this._isOpen=!1,this.accordion=a}ngOnInit(){this.accordion.addGroup(this)}ngOnDestroy(){this.accordion.removeGroup(this)}toggleOpen(){this.isDisabled||(this.isOpen=!this.isOpen)}static{this.\u0275fac=function(l){return new(l||e)(n.rXU(s))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["accordion-group"],["accordion-panel"]],hostAttrs:[1,"panel",2,"display","block"],hostVars:2,hostBindings:function(l,d){2&l&&n.AVh("panel-open",d.isOpen)},inputs:{heading:"heading",panelClass:"panelClass",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},ngContentSelectors:t,decls:9,vars:6,consts:[[1,"panel","card",3,"ngClass"],["role","tab",1,"panel-heading","card-header",3,"click","ngClass"],[1,"panel-title"],["role","button",1,"accordion-toggle"],["class","btn btn-link","type","button",3,"ngClass",4,"ngIf"],["role","tabpanel",1,"panel-collapse","collapse",3,"collapse","isAnimated"],[1,"panel-body","card-block","card-body"],["type","button",1,"btn","btn-link",3,"ngClass"]],template:function(l,d){1&l&&(n.NAR(A),n.j41(0,"div",0)(1,"div",1),n.bIt("click",function(){return d.toggleOpen()}),n.j41(2,"div",2)(3,"div",3),n.DNE(4,F,2,4,"button",4),n.SdG(5),n.k0s()()(),n.j41(6,"div",5)(7,"div",6),n.SdG(8,1),n.k0s()()()),2&l&&(n.Y8G("ngClass",d.panelClass),n.R7$(),n.Y8G("ngClass",d.isDisabled?"panel-disabled":"panel-enabled"),n.R7$(2),n.BMQ("aria-expanded",d.isOpen),n.R7$(),n.Y8G("ngIf",d.heading),n.R7$(2),n.Y8G("collapse",!d.isOpen)("isAnimated",d.isAnimated))},dependencies:[m.YU,m.bT,b.D],styles:["[_nghost-%COMP%]   .card-header.panel-enabled[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .card-header.panel-disabled[_ngcontent-%COMP%]   .btn.btn-link[_ngcontent-%COMP%]{cursor:default;text-decoration:none}"]})}}return e})(),h=(()=>{class e{static forRoot(){return{ngModule:e,providers:[]}}static{this.\u0275fac=function(l){return new(l||e)}}static{this.\u0275mod=n.$C({type:e})}static{this.\u0275inj=n.G2t({imports:[m.MD,b.G]})}}return e})()}}]);